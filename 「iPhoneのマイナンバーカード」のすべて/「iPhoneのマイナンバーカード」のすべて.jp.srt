1
00:00:05,272 --> 00:00:06,599
はいよろしくお願いします

2
00:00:06,599 --> 00:00:08,980
皆さんおはようございます

3
00:00:08,960 --> 00:00:11,898
朝早くからこんなに大勢の方々に

4
00:00:11,898 --> 00:00:13,099
集まっていただいてありがとうございます

5
00:00:13,099 --> 00:00:16,559
ちょっとここでコーヒーさんの動画がキャンセルになっちゃったりとか

6
00:00:16,559 --> 00:00:18,658
いろんな事業がありますけども

7
00:00:18,658 --> 00:00:23,480
朝一といういい場所をいただいてありがとうございます

8
00:00:23,480 --> 00:00:26,559
肉の話もパンの話もいらっしゃいませんので

9
00:00:26,559 --> 00:00:28,640
トラックを間違えないようにお願いします

10
00:00:28,640 --> 00:00:36,439
今日はデジタル庁という立場でここに登壇させていただくんですけども

11
00:00:36,439 --> 00:00:41,098
iPhoneのマイナンバーカードの全てという題でお話しさせていただきます

12
00:00:41,098 --> 00:00:44,259
6月24日にリリースしたばかりで

13
00:00:44,259 --> 00:00:47,158
まだ皆さん持っているかどうかは聞かないので

14
00:00:47,158 --> 00:00:50,518
ちゃんとインストールの手順もやりますから

15
00:00:50,518 --> 00:00:52,140
ちょっと待ってくださいね

16
00:00:52,140 --> 00:00:55,079
このトーク聞くにあたってあると

17
00:00:55,079 --> 00:00:56,039
より楽しい

18
00:00:56,039 --> 00:00:57,560
なくても楽しいんですけどもちろんね

19
00:00:57,560 --> 00:00:58,959
より楽しいものとしては

20
00:00:58,959 --> 00:01:00,539
iPhoneのマイナンバーカードと

21
00:01:00,539 --> 00:01:03,920
それからマイナンバーカード対面確認アプリというのを

22
00:01:03,920 --> 00:01:05,540
デジタル庁からリリースしておりまして

23
00:01:05,540 --> 00:01:09,078
これも先日iPhoneのマイナンバーカードに対応したものになっています

24
00:01:09,078 --> 00:01:11,060
途中デモも挟むんですけど

25
00:01:11,060 --> 00:01:14,700
私のデモを見て大手になるのももちろん当たり前にいいんですけど

26
00:01:14,700 --> 00:01:19,218
周りの方々ともお楽しみいただけるような中身になるかなと思いますので

27
00:01:19,218 --> 00:01:24,438
ぜひこのWi-Fiの回線を使ってダウンロードいただければなと思っております

28
00:01:24,438 --> 00:01:30,819
改めまして私デジタル庁から参りました松田と申します

29
00:01:30,819 --> 00:01:33,418
デジタル庁ではエンジニアユニット庁をやっておりまして

30
00:01:33,418 --> 00:01:37,000
国民向けサービスグループのスマホ搭載チームというところで

31
00:01:37,000 --> 00:01:39,620
まさにこのiPhoneマイナンバーカードの話を

32
00:01:39,620 --> 00:01:41,959
正確には言いませんけど

33
00:01:41,959 --> 00:01:44,879
長い間取り組んできたものになっております

34
00:01:44,879 --> 00:01:47,560
兼業先としてはニューモという会社で

35
00:01:47,560 --> 00:01:50,060
タクシーの会社だとか自動運転だとか

36
00:01:50,060 --> 00:01:53,259
そういうところでソフトウェアエンジニアをやっております

37
00:01:53,259 --> 00:01:56,840
デジタル庁と言ってますけども

38
00:01:56,840 --> 00:01:59,039
せっかくデジタル庁の人間として登壇したので

39
00:01:59,039 --> 00:02:01,099
デジタル庁の話もちょっとしたいんですけども

40
00:02:01,099 --> 00:02:04,539
デジタル庁は2021年のコロナ禍の末裁の中に

41
00:02:04,539 --> 00:02:06,519
推移されて4年目が終わりまして

42
00:02:06,519 --> 00:02:08,280
5年目に入ったところになっております

43
00:02:08,280 --> 00:02:11,500
役所としては新しい役所になっておりまして

44
00:02:11,500 --> 00:02:14,520
元からいる行政官だけではなく

45
00:02:14,520 --> 00:02:18,038
私のような民間人材も入って形成されているという

46
00:02:18,038 --> 00:02:21,280
珍しい役所だなと思っておりますけれども

47
00:02:21,280 --> 00:02:23,818
その4年間の取り組みについて

48
00:02:23,818 --> 00:02:26,340
簡単に動画にまとめたものがありますので

49
00:02:26,340 --> 00:02:28,479
ちょっと見ていただこうかなと思っております

50
00:02:28,479 --> 00:02:29,639
じゃあお願いします

51
00:02:38,280 --> 00:02:43,280
デジタルって見えないけれど

52
00:02:43,280 --> 00:02:49,718
気付けばほらいつでもそばにある

53
00:02:49,718 --> 00:02:56,718
そしてデジタルだからできることがある

54
00:02:56,718 --> 00:03:03,960
時間を気にせず必要な証明書を受け取れたり

55
00:03:08,280 --> 00:03:14,780
マイナンバーカードでも手軽にお支払いができたり

56
00:03:14,780 --> 00:03:26,658
一人一人に会った授業を受けられたり

57
00:03:33,938 --> 00:03:38,539
イベントに参加するときに確実に本人確認ができたり

58
00:03:38,539 --> 00:03:50,399
手が離せないときは役所に行かなくても手続きできたり

59
00:03:50,399 --> 00:04:00,278
患者が話すことができないときも受診歴や薬の情報が分かったり

60
00:04:02,740 --> 00:04:07,860
いつでもどこでも必要な時 必要なものを必要な人に

61
00:04:07,860 --> 00:04:15,740
それぞれの人に合わせたサポートがあって 全ての人により優しい社会を作れると思う

62
00:04:15,740 --> 00:04:18,838
一人一人の暮らしの中へ

63
00:04:18,838 --> 00:04:21,800
デジタル庁

64
00:04:21,800 --> 00:04:31,319
今見ていただいた通りですね

65
00:04:31,319 --> 00:04:34,199
いろんなユースケースを紹介しましたけど

66
00:04:34,199 --> 00:04:37,480
ほとんどのユースケースでマイナンバーカードが使われております

67
00:04:37,480 --> 00:04:41,040
このカードなんですけども

68
00:04:41,040 --> 00:04:45,800
このカードは皆さんもちろんお持ちの方いらっしゃると思いますけども

69
00:04:45,800 --> 00:04:49,220
この国に暮らす全ての方が発行できるカードになっておりまして

70
00:04:49,220 --> 00:04:54,220
このカード今約9,852万枚発行されております

71
00:04:54,220 --> 00:04:59,259
これは全国民の79%ぐらいの数字になるんですけども

72
00:04:59,259 --> 00:05:03,019
大体この部屋の5人いたら4人は持っているみたいな

73
00:05:03,019 --> 00:05:04,920
そういう割合になっております

74
00:05:04,920 --> 00:05:08,300
先進国で人口が1億人以上いて

75
00:05:08,300 --> 00:05:11,240
かつ発行枚数も1億万枚近いというのは

76
00:05:11,240 --> 00:05:14,338
これ世界的にもすごいことだなと思っております

77
00:05:14,338 --> 00:05:17,360
このカード

78
00:05:17,360 --> 00:05:19,420
iPhoneのマイナンバーカードに入る前に

79
00:05:19,420 --> 00:05:22,980
皆さんお持ちのプラスチックのカードの話をするんですけども

80
00:05:22,980 --> 00:05:24,620
この表面ですね

81
00:05:24,620 --> 00:05:26,939
懸面と我々呼びますけども

82
00:05:26,939 --> 00:05:27,899
ここにはですね

83
00:05:27,899 --> 00:05:33,778
顔写真とか氏名住所などの皆さんの基本情報が書いてあって

84
00:05:33,778 --> 00:05:36,939
裏にはマイナンバーが記載されていると

85
00:05:36,939 --> 00:05:41,759
またですね裏側を見てもらうと分かる通り

86
00:05:41,759 --> 00:05:43,540
このICチップが付いております

87
00:05:43,540 --> 00:05:47,500
実はこのICチップはカードが作られた時期だとか

88
00:05:47,500 --> 00:05:51,579
交付された場所によってチップの模様が実は違います

89
00:05:51,579 --> 00:05:56,040
なのでもしお持ちでしたら周りの方と見比べてみても

90
00:05:56,040 --> 00:05:57,060
面白いかもしれません

91
00:05:57,060 --> 00:06:04,319
このICチップはISO7816という国際標準があるんですけども

92
00:06:04,319 --> 00:06:06,759
これに準拠したドンゲ構造を持っています

93
00:06:06,759 --> 00:06:12,740
皆さんがよく使うのはJPKiAPという電子証明書が入っているものですね

94
00:06:12,740 --> 00:06:15,300
ここから電子証明書を取得したりだとか

95
00:06:15,300 --> 00:06:17,778
あと懸命入力補助APというのは

96
00:06:17,778 --> 00:06:22,360
カードの懸命に書いてある情報をテキストで取得できるものなんですけども

97
00:06:22,360 --> 00:06:24,639
これに必要な4ピンを入れてくださいと

98
00:06:24,639 --> 00:06:26,740
そういう言われ方をすると思います

99
00:06:26,740 --> 00:06:30,000
また最近ですねマイナー免許証もスタートしていまして

100
00:06:30,000 --> 00:06:33,360
免許証のデータも格納されているんですけども

101
00:06:33,360 --> 00:06:37,579
免許証のデータは実はAPがごっそり入っているというような構想になっています

102
00:06:37,579 --> 00:06:43,060
カードとiPhoneがどうやって通信するかという話なんですけども

103
00:06:43,060 --> 00:06:45,079
カードから4Pに入れてくださいとか

104
00:06:45,079 --> 00:06:48,939
そういう情報を求められた後はNFCで通信をします

105
00:06:48,939 --> 00:06:52,459
カードはスマートカードという規格になっているので

106
00:06:52,459 --> 00:06:57,079
これにAPDUっていう通信プロトコルでコマンドを送信します

107
00:06:57,079 --> 00:06:59,778
そうするとカードからレスポンスが返ってくるので

108
00:06:59,778 --> 00:07:04,459
そのレスポンスをデコードすることによってデータを取り出せると

109
00:07:04,459 --> 00:07:06,879
さっき見せたような論議構造っていうのは

110
00:07:06,879 --> 00:07:09,740
まるでターミナルなんかでCDで移動するように

111
00:07:09,740 --> 00:07:14,639
コマンドを送るとどんどん階層に潜っていけるという風になっています

112
00:07:14,639 --> 00:07:17,778
特定の階層に入るときに認証が必要なので

113
00:07:17,778 --> 00:07:19,459
そこを4ピンでやるとか

114
00:07:19,459 --> 00:07:22,939
もうちょっと長いパスワードでやるみたいなことをやっています

115
00:07:22,939 --> 00:07:27,379
今日はメインはiPhoneの話なので

116
00:07:27,379 --> 00:07:29,759
実物のカードの話はこの辺にしますけども

117
00:07:29,759 --> 00:07:33,360
じゃあどうやってこのカードをiPhoneで使えるようにするかという話をしていきます

118
00:07:33,360 --> 00:07:35,879
がその前になんですけども

119
00:07:35,879 --> 00:07:40,439
これはもちろんナショナルIDとしては世界初の試みなんですけども

120
00:07:40,439 --> 00:07:43,459
ここに至るまでの先行事例があるのでちょっとそれを見たいと思います

121
00:07:43,459 --> 00:07:46,759
このモバイルドライバーズライセンスというのが

122
00:07:46,759 --> 00:07:52,459
ISOの18013のパート5というところで定義されているんですけども

123
00:07:52,459 --> 00:07:54,720
これはモバイル運転免許証ですね

124
00:07:54,720 --> 00:07:57,079
iPhoneに運転免許証が入る

125
00:07:57,079 --> 00:07:58,298
別にiPhoneだけじゃないんですけど

126
00:07:58,298 --> 00:08:00,658
モバイルデバイスに運転免許証が入りますと

127
00:08:00,658 --> 00:08:04,980
これはアメリカだとかEUだとか

128
00:08:04,980 --> 00:08:09,038
そういうところで運転免許証をモバイルデバイスに搭載しようという動きがあって

129
00:08:09,038 --> 00:08:12,399
2021年に標準化されたものになっています

130
00:08:12,399 --> 00:08:15,079
縮めてMDLといいます

131
00:08:15,079 --> 00:08:20,658
単に格納しておしまいというわけではなくて

132
00:08:20,658 --> 00:08:23,038
どういう仕様が決まっているかというと

133
00:08:23,038 --> 00:08:26,798
まずは選択的に属性を開示できるという機能を持っています

134
00:08:26,798 --> 00:08:32,278
例えば相手が20歳以上かだけを知りたいのに

135
00:08:32,278 --> 00:08:34,740
住所を読み取ったりだとか名前とかというのは

136
00:08:34,740 --> 00:08:39,278
基本的には必要ない状態属性になるので

137
00:08:39,278 --> 00:08:43,340
そういう属性は開示しなくても相手に提示できますと

138
00:08:43,340 --> 00:08:48,340
またこのMDLというのはCBOAという形式になっていまして

139
00:08:48,340 --> 00:08:51,519
皆さん聞きなりなじみはないかなと思うんですけども

140
00:08:51,519 --> 00:08:56,178
そのCBOAによる証明暗号データのことをコースと言うんですけども

141
00:08:56,178 --> 00:08:57,798
CBOAって何ですかというと

142
00:08:57,798 --> 00:09:00,000
これもちゃんと標準化されたフォーマットになっていて

143
00:09:00,000 --> 00:09:03,019
RSCの8949で定義されています

144
00:09:03,019 --> 00:09:06,480
これはデータフォーマットでして

145
00:09:06,480 --> 00:09:10,278
出学者はすごくJSONにそっくりなんですけども

146
00:09:10,278 --> 00:09:12,000
JSONって皆さん普段お使いの通り

147
00:09:12,000 --> 00:09:14,798
テキストエコーディングをするので

148
00:09:14,798 --> 00:09:16,519
バイナリーに比べると

149
00:09:16,519 --> 00:09:18,019
ちょっとやっぱりサイズが大きくなるんですけども

150
00:09:18,019 --> 00:09:19,740
これはバイナリーフォーマットなんで

151
00:09:19,740 --> 00:09:22,558
重力進出ではバーって

152
00:09:22,558 --> 00:09:23,918
反対側並んでいるものを

153
00:09:23,918 --> 00:09:24,960
デコードしていくので

154
00:09:24,960 --> 00:09:27,940
よりテキスト形式よりもコンパクトに使えますと

155
00:09:27,940 --> 00:09:29,418
サイズダウンにもなりますし

156
00:09:29,418 --> 00:09:31,058
通信コストも下がるので

157
00:09:31,058 --> 00:09:33,058
IoTデバイスだとかこういうモバイルで

158
00:09:33,058 --> 00:09:35,480
端末向けに作られているフォーマットになっています

159
00:09:35,480 --> 00:09:38,000
またですね

160
00:09:38,000 --> 00:09:39,700
MDLには互換性がありまして

161
00:09:39,700 --> 00:09:40,798
NFCだとか

162
00:09:40,798 --> 00:09:44,759
BLE、QRコード、あとはインターネットを介した通信で

163
00:09:44,759 --> 00:09:46,740
普通にお使いいただけるので

164
00:09:46,740 --> 00:09:50,158
クロスプラットフォームでお使いいただけますよということが決まっています

165
00:09:50,158 --> 00:09:53,600
またさっきもお話したんですけど

166
00:09:53,600 --> 00:09:55,120
当然プライバシーも重要でして

167
00:09:55,120 --> 00:09:57,879
かざして勝手にデータを取られたら嫌なわけなんで

168
00:09:57,879 --> 00:10:00,918
ちゃんとユーザーの動員に基づいて情報を提供すると

169
00:10:00,918 --> 00:10:05,418
それはちゃんと生体認証で本位ですよということを確認した上で

170
00:10:05,418 --> 00:10:08,418
情報を開示するというふうにこれも決まっている話ですね

171
00:10:08,418 --> 00:10:13,720
なのでiPhoneではFace IDだとかTouch IDで認証するという風になっています

172
00:10:13,720 --> 00:10:17,019
こういう仕様に基づいてですね

173
00:10:17,019 --> 00:10:22,200
AppleとGoogleはアメリカで運転免許証を導入始めたんですけど

174
00:10:22,200 --> 00:10:25,879
アメリカの運転免許証って国で発行しないんですよね

175
00:10:25,879 --> 00:10:27,178
週単位で発行してるんですよ

176
00:10:27,178 --> 00:10:30,879
なのでAppleはアリゾナからスタートしましたし

177
00:10:30,879 --> 00:10:33,918
GoogleはIoAからスタートしていて

178
00:10:33,918 --> 00:10:37,538
今48週ありますけども

179
00:10:37,538 --> 00:10:42,240
そのうちの20の週でこのMDL導入されているんですけども

180
00:10:42,240 --> 00:10:45,500
当然週によってはAppleのウォレットしか使えませんとか

181
00:10:45,500 --> 00:10:47,240
Googleのウォレットしか使えません

182
00:10:47,240 --> 00:10:48,538
もしくは両方使いますとか

183
00:10:48,538 --> 00:10:50,278
まだ対応しないので使えませんとか

184
00:10:50,278 --> 00:10:51,558
独自のウォレットがあるとか

185
00:10:51,558 --> 00:10:54,278
そういう感じで週ごとに全然対応が違うんですね

186
00:10:54,278 --> 00:10:58,538
今運転免許証が済んだので

187
00:10:58,538 --> 00:11:01,360
その仕様をもっと汎用的に拡張しますと

188
00:11:01,360 --> 00:11:06,798
ということでこのISOの2322のシリーズが定義されました

189
00:11:06,798 --> 00:11:09,399
モバイルドキュメントを縮めてM-Docといいます

190
00:11:09,399 --> 00:11:14,399
どういうものに拡張するかというと

191
00:11:14,399 --> 00:11:15,240
例えばですけど

192
00:11:15,240 --> 00:11:16,298
例えば保険証

193
00:11:16,298 --> 00:11:17,500
それからパスポート

194
00:11:17,500 --> 00:11:18,840
学生証ですね

195
00:11:18,840 --> 00:11:20,399
このうちパスポートは

196
00:11:20,399 --> 00:11:23,440
今年のWWDCで実はアナウンスがあって

197
00:11:23,440 --> 00:11:25,360
アメリカのパスポートは

198
00:11:25,360 --> 00:11:29,120
M-Docにこれから対応していくという風なアナウンスがありました

199
00:11:29,120 --> 00:11:34,840
これもこの2320の企画に則ってやっている話になっています

200
00:11:34,840 --> 00:11:39,399
そういうわけでこの2つの基準に基づいて

201
00:11:39,399 --> 00:11:42,879
6月24日に日本政府はマイナンバーカードを

202
00:11:42,879 --> 00:11:44,379
iPhoneでも使えるようにしましたと

203
00:11:44,379 --> 00:11:48,178
これはナチュラルIDとしては世界初で

204
00:11:48,178 --> 00:11:52,240
今iPhoneに入るのはUSの運転免許証と

205
00:11:52,240 --> 00:11:55,600
あとは日本のマイナンバーカードしか入らないということで

206
00:11:55,600 --> 00:11:58,320
かなり先進的な取り組みになると思っています

207
00:11:58,320 --> 00:12:03,178
というわけで持っている人を聞きたいんですけども

208
00:12:03,178 --> 00:12:10,120
持っている方はオーレットのカードを掲げてみてもらってもいいですか

209
00:12:10,120 --> 00:12:12,139
まだあんまりいない

210
00:12:12,139 --> 00:12:14,340
いますねいますいいですねありがとうございます

211
00:12:14,340 --> 00:12:16,220
いいですねきれいですね

212
00:12:16,220 --> 00:12:17,940
なんかLT始まったみたいになってますけど

213
00:12:17,940 --> 00:12:20,820
ありがとうございます

214
00:12:20,820 --> 00:12:22,980
ちょっと自撮りもしようかなこうやってね

215
00:12:22,980 --> 00:12:26,678
ありがとうございます

216
00:12:26,678 --> 00:12:29,418
役員たちが喜ぶと思いますありがとうございます

217
00:12:29,418 --> 00:12:31,038
でですね

218
00:12:31,038 --> 00:12:35,058
このカードアートと呼びますけど

219
00:12:35,058 --> 00:12:36,940
このデザインですね

220
00:12:36,940 --> 00:12:38,158
桜のマーク

221
00:12:38,158 --> 00:12:42,558
持っている方は傾けると桜がちょっと浮かび上がったりして

222
00:12:42,558 --> 00:12:45,100
いいですねなんて言っていると思いますけども

223
00:12:45,100 --> 00:12:48,178
なんで入っているかというともちろん偽造対策ですね

224
00:12:48,178 --> 00:12:52,038
これはただ画像を入れただけではなくて

225
00:12:52,038 --> 00:12:54,460
ちゃんとプログラミングがされていて

226
00:12:54,460 --> 00:12:59,038
ティルトに応じて桜が浮かぶような

227
00:12:59,038 --> 00:13:02,500
試作効果を入れているというふうになっています

228
00:13:02,500 --> 00:13:05,320
これは完全に裏話なんですけど

229
00:13:05,320 --> 00:13:08,480
なんで桜なんですかと思った方もいらっしゃると思います

230
00:13:08,480 --> 00:13:11,019
富士山でいいじゃんって思いますよね

231
00:13:11,019 --> 00:13:13,798
シンボルだしっていう話になるんですけど

232
00:13:13,798 --> 00:13:18,678
富士山は我々関東圏に住む人たちにとってはシンボルですけど

233
00:13:18,678 --> 00:13:21,379
沖縄の人にとってはどうですかね

234
00:13:21,379 --> 00:13:23,658
北海道にも富士山ないですからね

235
00:13:23,658 --> 00:13:25,440
そういう話もいろいろあって

236
00:13:25,440 --> 00:13:27,220
いろんなことを交流すると

237
00:13:27,220 --> 00:13:28,360
やっぱり桜っていうのは

238
00:13:28,360 --> 00:13:30,778
日本全国どこに行ってもシンボルだよね

239
00:13:30,778 --> 00:13:32,918
ということで桜を設定しています

240
00:13:32,918 --> 00:13:35,519
アメリカのMDLは

241
00:13:35,519 --> 00:13:37,759
基本的にはシューのシンボルになっている動物が

242
00:13:37,759 --> 00:13:39,100
デザインとして入っていて

243
00:13:39,100 --> 00:13:41,558
それも傾けるといろいろ出てくるんですけども

244
00:13:41,558 --> 00:13:42,778
日本の場合は

245
00:13:42,778 --> 00:13:44,399
シンプルイザーベストですね

246
00:13:44,399 --> 00:13:46,058
やっぱり

247
00:13:46,058 --> 00:13:47,798
善って感じだと思いますけども

248
00:13:47,798 --> 00:13:49,158
桜って感じです

249
00:13:49,158 --> 00:13:49,960
このデザインも

250
00:13:49,960 --> 00:13:52,658
もちろんAppleと一緒に考えて

251
00:13:52,658 --> 00:13:56,558
いろんな没案も数多くあるんですけども

252
00:13:56,558 --> 00:13:59,620
本当に皆さんにお見せできないようなものもいっぱいあるんですけども

253
00:13:59,620 --> 00:14:03,298
いろんな試行錯誤を経てこれに落ち着いたということになってきます

254
00:14:03,298 --> 00:14:07,440
この機能なんですけども

255
00:14:07,440 --> 00:14:09,840
今は説明した通りM-Doc

256
00:14:09,840 --> 00:14:12,740
カード代替電子的記録と日本語では書いてますけど

257
00:14:12,740 --> 00:14:13,298
ちょっとごめんなさい

258
00:14:13,298 --> 00:14:14,200
言いにくいんですけど

259
00:14:14,200 --> 00:14:16,340
このカード代替電子的記録というのは

260
00:14:16,340 --> 00:14:19,120
慣れてもらえると見たときに

261
00:14:19,120 --> 00:14:23,538
これはあそこで松立が説明していたM-Docのコートだなということを

262
00:14:23,538 --> 00:14:26,940
皆さんが今日覚えて帰ると今後いろいろと読みやすくなるはずです

263
00:14:26,940 --> 00:14:31,558
このM-Docと最初に説明した電子証明書ですね

264
00:14:31,558 --> 00:14:36,320
利用者証明用電子証明書と証明用電子証明書2枚が

265
00:14:36,320 --> 00:14:39,678
iPhoneに入っているとそういうセットになっています

266
00:14:39,678 --> 00:14:43,038
M-Docの方はもちろん

267
00:14:43,038 --> 00:14:46,840
18013のパート5パート7というのもあるんですけども

268
00:14:46,840 --> 00:14:50,899
あと23220のISOスタンダードに準拠していますと

269
00:14:50,899 --> 00:14:55,899
こういう標準のおかげで

270
00:14:55,899 --> 00:14:59,519
例えばAppleとかGoogleみたいなウォレットベンダーは

271
00:14:59,519 --> 00:15:01,678
この仕様に準拠していれば

272
00:15:01,678 --> 00:15:04,120
これがアメリカの運転免許証だろうが

273
00:15:04,120 --> 00:15:06,200
日本のマイナンバーカードだろうが

274
00:15:06,200 --> 00:15:08,278
新しく今後出てくるかもしれない

275
00:15:08,278 --> 00:15:10,798
どこかの国のIDみたいなものでも

276
00:15:10,798 --> 00:15:13,980
全く同じAPIで利用することができるようになるはずですね

277
00:15:13,980 --> 00:15:19,080
発行の話をするんですけども

278
00:15:19,080 --> 00:15:21,778
今こうやってやってもらった皆さんはやっている話だと思うんですけど

279
00:15:21,778 --> 00:15:23,399
これからやる方もいらっしゃると思うので

280
00:15:23,399 --> 00:15:25,720
簡単に説明したいと思います

281
00:15:25,720 --> 00:15:27,740
発行にはですね

282
00:15:27,740 --> 00:15:31,399
実物のマイナンバーカードプラスチックのやつですね

283
00:15:31,399 --> 00:15:32,820
まだ持っていない方は

284
00:15:32,820 --> 00:15:36,500
お住まいの自治体の役所に行くと発行できます

285
00:15:36,500 --> 00:15:39,918
このカードの懸命入力補助用の4ピンと

286
00:15:39,918 --> 00:15:41,100
あと署名用のパスワード

287
00:15:41,100 --> 00:15:43,740
この2つが必要になっています

288
00:15:43,740 --> 00:15:47,940
これを使ってNFCから電子証明書を取り出すと

289
00:15:47,940 --> 00:15:54,460
件面の方はもちろんカードの件面に書かれているテキスト情報を取って

290
00:15:54,460 --> 00:15:57,600
それを称号に使うというふうになっています

291
00:15:57,600 --> 00:16:00,798
あとは自分のセルフィーの画像ですね

292
00:16:00,798 --> 00:16:05,519
この正面のポートレートの写真とカードに入っている写真を称号したりとかしています

293
00:16:05,519 --> 00:16:10,759
この2つの情報を使って

294
00:16:10,759 --> 00:16:16,418
JPKIというのはマイナンバーカードのPKIになっているところですけども

295
00:16:16,418 --> 00:16:17,720
ここに電子証明書を送って

296
00:16:17,720 --> 00:16:21,019
この人は本当に実在するのかみたいな確認とかもやった後に

297
00:16:21,019 --> 00:16:24,480
JPKIの方からデジタル庁で立てている

298
00:16:24,480 --> 00:16:26,700
IACA発行局になるんですけども

299
00:16:26,700 --> 00:16:28,960
ここでそのMDocの発行申請をします

300
00:16:28,960 --> 00:16:32,440
発行申請がそこでなされたら

301
00:16:32,440 --> 00:16:34,578
それをAppleのサーバーの方に送ってですね

302
00:16:34,578 --> 00:16:39,119
Appleのサーバーではウォレットに対してパスを配信すると

303
00:16:39,119 --> 00:16:41,379
そういうフローになっています

304
00:16:41,379 --> 00:16:45,558
やってみるのは手とりば早いので

305
00:16:45,558 --> 00:16:47,078
ぜひやってみてくださいって感じですね

306
00:16:47,078 --> 00:16:51,259
発行したiPhoneのマイナンバーカードを

307
00:16:51,259 --> 00:16:53,839
利用することを考えていくんですけども

308
00:16:53,839 --> 00:16:55,578
まず利用性から提供しているものは

309
00:16:55,578 --> 00:16:57,139
こういうものがありまして

310
00:16:57,139 --> 00:16:59,240
一番左のマイナポータルアプリは

311
00:16:59,240 --> 00:17:01,500
これはそもそも発行に必要なものですので

312
00:17:01,500 --> 00:17:04,298
お使いの方も多いかと思いますけども

313
00:17:04,298 --> 00:17:05,538
入れていただくとですね

314
00:17:05,538 --> 00:17:09,960
今までは実物のカードをかざして4ピンを入れて

315
00:17:09,960 --> 00:17:12,640
NFCで読み取ってっていうのを

316
00:17:12,640 --> 00:17:13,940
いちいちやらなきゃいけなくて

317
00:17:13,940 --> 00:17:15,920
すごく面倒くさいと思ってたと思うんですけども

318
00:17:15,920 --> 00:17:18,880
今はFace IDだけで完結するので

319
00:17:18,880 --> 00:17:23,318
すごくシームレスにログインができるようになっています

320
00:17:23,318 --> 00:17:25,440
またですね

321
00:17:25,440 --> 00:17:27,680
その次のe-Taxですけども

322
00:17:27,680 --> 00:17:30,818
これも先日iPhoneのマイナンバーカードに対応しまして

323
00:17:30,818 --> 00:17:34,118
まだそんなに恩恵を受けないかもしれないですけど

324
00:17:34,118 --> 00:17:40,778
3月ですね確定申告のシリーズになるときっと便利だなと思っていただけるようになるかなと思います

325
00:17:40,778 --> 00:17:45,598
コンビニでもさっき動画で見せたように使えますし

326
00:17:45,598 --> 00:17:53,298
病院でもマイナ保険証がiPhoneのマイナンバーカードに統合されて使えるようになり始めたので

327
00:17:53,298 --> 00:17:57,338
まだ病院に浸透していないかもしれませんが

328
00:17:57,338 --> 00:17:59,480
これから徐々に広まっていくので

329
00:17:59,480 --> 00:18:03,519
最寄りのかかりつけの病院でも使えるようになる日はそんなに遠くないと思います

330
00:18:03,519 --> 00:18:09,058
電子証明書なんですけども

331
00:18:09,058 --> 00:18:12,798
マイナポータルアプリのiPhoneのマイナンバーカードのメニューに

332
00:18:12,798 --> 00:18:17,298
こういうiPhoneのマイナンバーカードと書かれた画面がありまして

333
00:18:17,298 --> 00:18:19,818
ここに利用者証明用電子証明書と

334
00:18:19,818 --> 00:18:21,460
証明用電子証明書のメニューがあります

335
00:18:21,460 --> 00:18:23,558
これ開いてもらうと

336
00:18:23,558 --> 00:18:28,140
ウォレットに入っている自分の電子証明書の情報を

337
00:18:28,140 --> 00:18:29,838
見ることができるんですけども

338
00:18:29,838 --> 00:18:33,220
見ることができるということはAPIが存在するということなんです

339
00:18:33,220 --> 00:18:37,118
実際のコードをお見せしていくんですけども

340
00:18:37,118 --> 00:18:42,358
例えば利用者証明用電子証明書を取得してみることを考えてみると

341
00:18:42,358 --> 00:18:47,838
これはAppleからなんとSwiftのAPIが提供されているということですね

342
00:18:47,838 --> 00:18:49,298
取り方をちょっと見てみます

343
00:18:49,298 --> 00:18:54,298
PKパスライブラリからパスを取るというのは一般的なフローなんですけども

344
00:18:54,298 --> 00:18:56,118
ここでセキュアエレメントって書いてますね

345
00:18:56,118 --> 00:18:57,940
セキュアエレメントっていうのは要するに

346
00:18:57,940 --> 00:18:59,980
そういうマイナンバーカードみたいな

347
00:18:59,980 --> 00:19:03,880
否得性の高いセキュアなものを格納する

348
00:19:03,880 --> 00:19:08,058
対タンパー性のある強硬なストレージだと思ってください

349
00:19:08,058 --> 00:19:12,200
これ書いたからといって皆さん取れるわけじゃないんですけど

350
00:19:12,200 --> 00:19:16,900
これをやるには超特別なエンタイトルメントがいるんですけど

351
00:19:16,900 --> 00:19:18,538
それを使うと取れますっていう

352
00:19:18,538 --> 00:19:20,140
これはただの自慢なんですごめんなさい

353
00:19:20,140 --> 00:19:21,298
これは皆さんできないんですけど

354
00:19:21,298 --> 00:19:24,700
こういうことをやると取れますという話です

355
00:19:24,700 --> 00:19:27,000
ここを見るとですね

356
00:19:27,000 --> 00:19:28,880
GPKIパスコンテンツって書いてあるんですね

357
00:19:28,880 --> 00:19:31,278
GPKIって名前が付いたクラスが

358
00:19:31,278 --> 00:19:33,278
なんとAppleのドキュメントに存在すると

359
00:19:33,278 --> 00:19:36,500
これはもう日本のマイナンバーカード専用クラスとなっております

360
00:19:36,500 --> 00:19:40,298
これにパスを渡して初期化するとですね

361
00:19:40,298 --> 00:19:42,058
ユーザーアイデンティティというのが

362
00:19:42,058 --> 00:19:44,778
利用者証明用のあれこれが入ったものになっていますと

363
00:19:44,778 --> 00:19:47,920
このアイデンティティのオブジェクトに

364
00:19:47,920 --> 00:19:50,200
サーティフィケートメソッドを呼ぶと

365
00:19:50,200 --> 00:19:51,880
証明書が取れるんですけども

366
00:19:51,880 --> 00:19:55,078
ここで渡しているのは認証の形式でして

367
00:19:55,078 --> 00:19:57,759
有者証明用だと4ピンの代わりに

368
00:19:57,759 --> 00:19:59,880
生体認証で代替することができるので

369
00:19:59,880 --> 00:20:04,240
生体認証で代替できますよというところも定義されていると

370
00:20:04,240 --> 00:20:08,900
すごいリッチなAPIを日本のために提供していただいております

371
00:20:08,900 --> 00:20:11,160
同様にですね

372
00:20:11,160 --> 00:20:12,880
署名書を取るだけじゃなくて

373
00:20:12,880 --> 00:20:14,318
署名もできますので

374
00:20:14,318 --> 00:20:17,298
データに対して署名をするということもできます

375
00:20:17,298 --> 00:20:20,338
これも裏話なんですけども

376
00:20:20,338 --> 00:20:24,318
これ実は一度に1個の署名対象データにしか

377
00:20:24,318 --> 00:20:27,160
署名ができないAPIになってまして

378
00:20:27,160 --> 00:20:32,400
ちょっと微妙に一度に複数で署名したいみたいなユースケースが

379
00:20:32,400 --> 00:20:33,640
我々にもありまして

380
00:20:33,640 --> 00:20:37,038
このAPIだと対応できんよというフィードバックをしたんですね

381
00:20:37,038 --> 00:20:40,720
そうすると対応してくれたわけですよ

382
00:20:40,720 --> 00:20:43,759
これもちゃんとドキュメントに入ってますんで

383
00:20:43,759 --> 00:20:47,380
見ていただけたらいいかなと思ってまして

384
00:20:47,380 --> 00:20:50,460
しかもドキュメントもちゃんと入ってます

385
00:20:50,460 --> 00:20:52,778
これはApple Developerで

386
00:20:52,778 --> 00:20:55,180
JPKIパスコンテンツで調べてもらうと

387
00:20:55,180 --> 00:20:58,338
今話した我々のためだけに作られた

388
00:20:58,338 --> 00:21:01,460
マイナンバー専用クラスのドキュメントが見れます

389
00:21:01,460 --> 00:21:03,740
これもただの自慢なんですけど

390
00:21:03,740 --> 00:21:05,618
レビューさせてもらったので

391
00:21:05,618 --> 00:21:09,078
一応私の目が入ったドキュメントになっていると

392
00:21:09,078 --> 00:21:11,200
これは本当に一番ですごめんなさい

393
00:21:11,200 --> 00:21:14,720
これさっきも言った通り

394
00:21:14,720 --> 00:21:17,640
さっきのコードを皆さん書けば

395
00:21:17,640 --> 00:21:19,118
取り出せるものでは全くなくて

396
00:21:19,118 --> 00:21:21,078
そんなにひほひほで取り出されても困るので

397
00:21:21,078 --> 00:21:25,098
これはAppleにエンターネットのリクエストをしないと

398
00:21:25,098 --> 00:21:28,180
できない話にはなっていますということですね

399
00:21:28,180 --> 00:21:30,740
次のケースなんですけども

400
00:21:30,740 --> 00:21:33,940
冒頭に申し上げたマイナンバーカード対面確認アプリです

401
00:21:33,940 --> 00:21:38,519
これもともと実物のカードの心眼性のチェック

402
00:21:38,519 --> 00:21:40,440
要はICチップに入っている情報と

403
00:21:40,440 --> 00:21:44,640
懸命に書かれている情報がちゃんと目視で見比べて

404
00:21:44,640 --> 00:21:47,160
合っているよねというのを確認できる

405
00:21:47,160 --> 00:21:50,759
地面紙だなと思った方はそうなんですけど

406
00:21:50,759 --> 00:21:55,740
本当に地面紙を見て対策したわけじゃなくて

407
00:21:55,740 --> 00:21:58,858
実際にマイナンバーカードの件名が偽装されるという事件が

408
00:21:58,858 --> 00:22:00,960
ちょこちょこここ数年起きていまして

409
00:22:00,960 --> 00:22:03,140
そういう対策で作ったアプリなんですけども

410
00:22:03,140 --> 00:22:06,058
これにiPhoneのマイナンバーカードを

411
00:22:06,058 --> 00:22:08,440
対面で読み取る機能を搭載したので

412
00:22:08,440 --> 00:22:11,058
これはちょっとデモでお見せしたいと思います

413
00:22:11,058 --> 00:22:18,538
入ってますかね 大丈夫ですね

414
00:22:18,538 --> 00:22:25,318
ここに対面確認アプリの画面があります

415
00:22:25,318 --> 00:22:27,278
これをリーダーと呼びます

416
00:22:27,278 --> 00:22:28,578
もう一つですね

417
00:22:28,578 --> 00:22:31,019
もう一台あるんですけども

418
00:22:31,019 --> 00:22:34,598
ここにマイナンバーカードの入ったフォルダーと呼びます

419
00:22:34,598 --> 00:22:36,940
この2台のiPhoneを使います

420
00:22:36,940 --> 00:22:39,778
このリーダーの方で確認したい内容

421
00:22:39,778 --> 00:22:40,740
いくつかあるんですけど

422
00:22:40,740 --> 00:22:44,400
私の個人情報は皆さんそんな興味ないと思うんで

423
00:22:44,400 --> 00:22:49,640
今日は私が20歳以上かどうかを確認したいと思います

424
00:22:49,640 --> 00:22:52,598
見りゃ分かるじゃんって話ですけど

425
00:22:52,598 --> 00:22:57,058
ほら最近は用紙で判断しちゃいけないことになってますからね

426
00:22:57,058 --> 00:23:02,818
これで確認を押すとこういう画面が出てきます

427
00:23:02,818 --> 00:23:04,500
ここにかざしてくださいと出ますね

428
00:23:04,500 --> 00:23:07,038
ちゃんとマイナンバーカード対面確認アプリから

429
00:23:07,038 --> 00:23:08,798
要求されてますというのがここに出ます

430
00:23:08,798 --> 00:23:12,180
ここに書いてある通りかざすんですよね

431
00:23:12,180 --> 00:23:13,618
かざすと

432
00:23:13,618 --> 00:23:17,220
このホルダー側には

433
00:23:17,220 --> 00:23:19,460
このアプリに提供していいですかというのがあります

434
00:23:19,460 --> 00:23:20,598
これを

435
00:23:20,598 --> 00:23:23,440
なんでこれパスコードで給付されているんだ

436
00:23:23,440 --> 00:23:25,920
ごめんなさいちょっとパスコードで入れますね

437
00:23:25,920 --> 00:23:27,680
デモだとありますよね

438
00:23:27,680 --> 00:23:28,259
こういうのね

439
00:23:28,259 --> 00:23:41,038
これでFace IDでやってくださいと言われるので

440
00:23:41,038 --> 00:23:42,660
P-SIDしますと

441
00:23:42,660 --> 00:23:44,700
そうすると

442
00:23:44,700 --> 00:23:47,220
もう一台の方に自分の顔写真と

443
00:23:47,220 --> 00:23:50,200
私が20歳以上ですという情報が出ると

444
00:23:50,200 --> 00:23:53,160
いいですよね

445
00:23:53,160 --> 00:24:00,480
これは冒頭お伝えした通り

446
00:24:00,480 --> 00:24:02,240
皆さんもできますので

447
00:24:02,240 --> 00:24:05,038
セッション中こそこそやってもらってもいいですし

448
00:24:05,038 --> 00:24:06,380
あと休憩時間で

449
00:24:06,380 --> 00:24:08,278
おいタイミング確認しようぜと

450
00:24:08,278 --> 00:24:10,858
こうやってiPhoneをやっても

451
00:24:10,858 --> 00:24:12,078
いいと思いますし

452
00:24:12,078 --> 00:24:12,598
ほら

453
00:24:12,598 --> 00:24:17,480
中井井戸によって提供したい情報に違いもあると思いますので

454
00:24:17,480 --> 00:24:19,500
20歳以上だけ

455
00:24:19,500 --> 00:24:20,700
伝え終わればいいかなとか

456
00:24:20,700 --> 00:24:22,900
そういうときは20歳以上ですし

457
00:24:22,900 --> 00:24:24,960
実年で公開することもできますし

458
00:24:24,960 --> 00:24:25,500
その他

459
00:24:25,500 --> 00:24:27,420
氏名とか住所とか

460
00:24:27,420 --> 00:24:29,140
本当に本人確認必要な情報を

461
00:24:29,140 --> 00:24:31,640
選択的に公開できるという

462
00:24:31,640 --> 00:24:33,180
機能が入っております

463
00:24:33,180 --> 00:24:38,420
この裏側の仕組みなんですけど

464
00:24:38,420 --> 00:24:39,980
もう一回図を使って

465
00:24:39,980 --> 00:24:41,358
やっていくんですが

466
00:24:41,358 --> 00:24:43,598
当然M-Docを使ってやっていますと

467
00:24:43,598 --> 00:24:46,380
リーダーとホルダーの

468
00:24:46,380 --> 00:24:47,680
2台のiPhoneがありまして

469
00:24:47,680 --> 00:24:49,358
リーダーからホルダーに対して

470
00:24:49,358 --> 00:24:50,720
M-Docを要求します

471
00:24:50,720 --> 00:24:55,960
この2台のiPhoneを

472
00:24:55,960 --> 00:24:56,838
かざすんですね

473
00:24:56,838 --> 00:24:59,098
かざすとこれでNSCで接続されますと

474
00:24:59,098 --> 00:25:00,558
ここで

475
00:25:00,558 --> 00:25:02,720
Bluetoothのコネクションを張るので

476
00:25:02,720 --> 00:25:05,019
あとは離しても大丈夫で

477
00:25:05,019 --> 00:25:07,838
ホルダーにはM-Docを提供していいかどうかの

478
00:25:07,838 --> 00:25:08,900
認証がなされると

479
00:25:08,900 --> 00:25:11,460
これをFace IDで承認すると

480
00:25:11,460 --> 00:25:15,680
その情報がBLEで送信されて

481
00:25:15,680 --> 00:25:17,259
20歳以上ですね

482
00:25:17,259 --> 00:25:18,838
名前も出したりもできますけど

483
00:25:18,838 --> 00:25:22,160
こういう感じで情報を出せるという風になっています

484
00:25:22,160 --> 00:25:23,960
この機能自体はですね

485
00:25:23,960 --> 00:25:25,298
さっきはドヤゴーで

486
00:25:25,298 --> 00:25:26,759
これは特別なエンタイトルメントが

487
00:25:26,759 --> 00:25:27,740
必要だと言ったんですけど

488
00:25:27,740 --> 00:25:29,259
これは特別じゃなくて

489
00:25:29,259 --> 00:25:31,358
普通に使えるエンタイトルメントでして

490
00:25:31,358 --> 00:25:35,578
このProximity Readerのアイデンティティディスプレイ

491
00:25:35,578 --> 00:25:36,778
この文字です

492
00:25:36,778 --> 00:25:37,798
直接入れなくてもいいですけど

493
00:25:37,798 --> 00:25:41,400
X4のケーパビリティにディスプレイの項目がありますので

494
00:25:41,400 --> 00:25:43,259
その項目を追加すると

495
00:25:43,259 --> 00:25:49,420
皆さんも今みたいな対面確認お友達アプリが作れるという感じです

496
00:25:49,420 --> 00:25:55,759
さらに今の見せるだけなので

497
00:25:55,759 --> 00:25:57,818
アプリにデータは転送されていないですね

498
00:25:57,818 --> 00:26:00,180
なので昨日どこかの話でもありましたけど

499
00:26:00,180 --> 00:26:02,038
スクッショを取ってももちろん映りませんし

500
00:26:02,038 --> 00:26:06,038
そのデータを保存することはできないんですけども

501
00:26:06,038 --> 00:26:07,358
本人確認のユースケース

502
00:26:07,358 --> 00:26:11,558
昨日、音でか音で反集法の話もあったと聞いてますけども

503
00:26:11,558 --> 00:26:14,680
反集法なんかはデータの保存要件なんかありますので

504
00:26:14,680 --> 00:26:19,098
そのデータを高速の処理に使いたいという場合には

505
00:26:19,098 --> 00:26:20,980
ディスプレイではなくて

506
00:26:20,980 --> 00:26:23,180
データトランスファーAPIというのを使うんですけども

507
00:26:23,180 --> 00:26:25,259
これはちょっとごめんなさい

508
00:26:25,259 --> 00:26:27,578
またちょっと特別なエンタイトメントが必要で

509
00:26:27,578 --> 00:26:30,180
これはでもさっきのJPKIの話よりも

510
00:26:30,180 --> 00:26:33,480
もうちょっとライトでちゃんとフォーム用意してますので

511
00:26:33,480 --> 00:26:35,480
そこからリクエストしてもらえれば

512
00:26:35,480 --> 00:26:37,900
利用の正当性があれば

513
00:26:37,900 --> 00:26:40,000
ちゃんと付与されるというものになっていますので

514
00:26:40,000 --> 00:26:41,140
安心してくださいと

515
00:26:41,140 --> 00:26:44,660
今ちょっと反集法の話ししらっとしたんですけども

516
00:26:44,660 --> 00:26:45,640
反集法というのは

517
00:26:45,640 --> 00:26:46,720
ごめんなさい

518
00:26:46,720 --> 00:26:48,558
分からない人ごめんなさいって感じなんですけど

519
00:26:48,558 --> 00:26:50,220
いわゆるEKYC

520
00:26:50,220 --> 00:26:54,038
オンラインで本人確認をしたいときに

521
00:26:54,038 --> 00:26:57,140
皆さんiPhone当然買ったと思うので

522
00:26:57,140 --> 00:26:59,640
iPhone下取りとか出すときに

523
00:26:59,640 --> 00:27:01,538
身分証を求められたと思うんですけど

524
00:27:01,538 --> 00:27:02,019
ごめんなさい

525
00:27:02,019 --> 00:27:04,680
あれはまだiPhoneのマイナンバーカードに対応してないらしいんですけど

526
00:27:04,680 --> 00:27:06,900
マイナンバーカードって選ぶと

527
00:27:06,900 --> 00:27:09,778
写真でこうやって撮ってとか

528
00:27:09,778 --> 00:27:11,460
厚みがどうとかってやるじゃないですか

529
00:27:11,460 --> 00:27:13,500
あれの方法の一種なんですけども

530
00:27:13,500 --> 00:27:15,200
今回ちょっと法律も

531
00:27:15,200 --> 00:27:17,160
法律って言うとでかいんですけど

532
00:27:17,160 --> 00:27:19,538
反手法の施行規則っていうのがあります

533
00:27:19,538 --> 00:27:21,798
施行規則どういう手段で

534
00:27:21,798 --> 00:27:23,538
本人確認をしていいかっていうのが

535
00:27:23,538 --> 00:27:25,400
ずらずらと並んでるんですけども

536
00:27:25,400 --> 00:27:26,740
そこをちょっと改正しまして

537
00:27:26,740 --> 00:27:29,500
このM-DOCでも本人確認できるように書いてますので

538
00:27:29,500 --> 00:27:32,680
今から説明する方法で

539
00:27:32,680 --> 00:27:34,298
本人確認していただくと

540
00:27:34,298 --> 00:27:39,858
阪神法準拠の本人確認が作れますという話をしておくので

541
00:27:39,858 --> 00:27:44,240
関連する方は後で調べてみてもらって

542
00:27:44,240 --> 00:27:48,618
ごめんなさい 話は途中だった

543
00:27:48,618 --> 00:27:50,598
このデータでトランスファーすると

544
00:27:50,598 --> 00:27:55,558
もちろんさっきの顔写真も撮れますけども

545
00:27:55,558 --> 00:27:58,700
それ以外にも年齢も3パターンありまして

546
00:27:58,700 --> 00:28:01,480
青年月日をそのまま撮るパターンと

547
00:28:01,480 --> 00:28:03,278
実年齢だけを撮るパターンと

548
00:28:03,278 --> 00:28:06,058
さっき見せたみたいに20歳以上だけみたいな

549
00:28:06,058 --> 00:28:09,558
そこも認証レベルを変えることができます

550
00:28:09,558 --> 00:28:12,538
あとは名前とか住所とか性別とか

551
00:28:12,538 --> 00:28:13,420
あとマイナンバー

552
00:28:13,420 --> 00:28:15,920
マイナンバーは皆さん取ることがあるかどうかは分かりませんけど

553
00:28:15,920 --> 00:28:18,298
もうちょっとマイナンバーはちょっといろいろ厳しいですけども

554
00:28:18,298 --> 00:28:19,940
こういう属性が取ることができます

555
00:28:19,940 --> 00:28:22,598
こういう感じです

556
00:28:22,598 --> 00:28:25,380
やばいなあと10分しかないもしかして

557
00:28:25,380 --> 00:28:28,440
ちょっとサクサクいきますね

558
00:28:28,440 --> 00:28:30,259
APIの使い方なんですけども

559
00:28:30,259 --> 00:28:32,118
これは簡単です

560
00:28:32,118 --> 00:28:34,500
属性を指定します

561
00:28:34,500 --> 00:28:36,720
属性を指定してリクエストオブジェクトを作ります

562
00:28:36,720 --> 00:28:38,660
リーダーオブジェクトに

563
00:28:38,660 --> 00:28:40,740
prepareというメソッドを呼ぶと

564
00:28:40,740 --> 00:28:43,519
リーダーで使えるセッションが入ってきますので

565
00:28:43,519 --> 00:28:45,720
これに対してリクエストを渡すと

566
00:28:45,720 --> 00:28:46,900
冬画面が出ますと

567
00:28:46,900 --> 00:28:48,900
すごく簡単に使えますね

568
00:28:48,900 --> 00:28:51,500
データの場合は

569
00:28:51,500 --> 00:28:53,618
ほぼ同じインターフェースなんですけども

570
00:28:53,618 --> 00:28:55,000
間違いとしては

571
00:28:55,000 --> 00:28:58,160
リクエストに渡す属性を

572
00:28:58,160 --> 00:28:59,640
一定期間保持するかしないか

573
00:28:59,640 --> 00:29:00,818
みたいなインターフェースがあります

574
00:29:00,818 --> 00:29:04,618
これは大体もう保持しないでいいと思うんですけども

575
00:29:04,618 --> 00:29:07,740
保持したいような要件があれば保持すればいいと思います

576
00:29:07,740 --> 00:29:13,200
iOS26からはこのレスポンスの方が

577
00:29:13,200 --> 00:29:14,700
なんとプロトコルになったので

578
00:29:14,700 --> 00:29:17,480
ちょっと短くかけて僕は嬉しいという

579
00:29:17,480 --> 00:29:18,558
ただそれだけですね

580
00:29:18,558 --> 00:29:21,000
でもこの辺の共通化は実は

581
00:29:21,000 --> 00:29:27,900
さっき話した23220の国際標準に習ったというか

582
00:29:27,900 --> 00:29:29,940
その共通化が走っているので

583
00:29:29,940 --> 00:29:33,578
同じパスポートだとか他のIDドキュメントで

584
00:29:33,578 --> 00:29:36,980
同じように使えるように共通化していると理解しています

585
00:29:36,980 --> 00:29:41,298
さっきはプリペアを呼ぶときにいらなかったのは

586
00:29:41,298 --> 00:29:44,259
トークンを取得しているんですけども

587
00:29:44,259 --> 00:29:47,400
これちょっとどういう仕組みか簡単に説明すると

588
00:29:47,400 --> 00:29:49,259
デジタル庁のサーバーとあとは

589
00:29:49,259 --> 00:29:51,278
Apple Business Registerというのがあります

590
00:29:51,278 --> 00:29:55,880
デジタル庁のサーバーで秘密鍵公開鍵の鍵ペアを払い出します

591
00:29:55,880 --> 00:29:59,160
この公開鍵をABRと呼んでますけども

592
00:29:59,160 --> 00:30:00,818
ABRのほうに登録しますと

593
00:30:00,818 --> 00:30:05,618
デジ上のサーバーからIDトークンを払い出してもらって

594
00:30:05,618 --> 00:30:11,740
このトークンをプリペアで送信すると

595
00:30:11,740 --> 00:30:15,019
送信するとABRのほうで公開会議を使って

596
00:30:15,019 --> 00:30:17,019
そのトークンの検証をしますので

597
00:30:17,019 --> 00:30:20,118
そうすると使えますよということなんですけど

598
00:30:20,118 --> 00:30:22,240
なんでやってるのかって話をすると

599
00:30:22,240 --> 00:30:26,078
今このアプリがABRに登録されたブランド

600
00:30:26,078 --> 00:30:27,920
ブランドっていう別概念があるんですけども

601
00:30:27,920 --> 00:30:30,720
そのブランドとちゃんと紐づいていますよねというのと

602
00:30:30,720 --> 00:30:32,880
あとはいわゆるアテステーションですね

603
00:30:32,880 --> 00:30:36,358
ちゃんとリクエストしていいアプリかどうかを

604
00:30:36,358 --> 00:30:37,838
確認しているということですね

605
00:30:37,838 --> 00:30:40,519
こうやってセッションを取ると

606
00:30:40,519 --> 00:30:46,240
下から2番目のPrepareのメソッドに

607
00:30:46,240 --> 00:30:48,838
トークンストリングを渡すことができますと

608
00:30:48,838 --> 00:30:52,220
ここで返ってくる方は

609
00:30:52,220 --> 00:30:55,858
基本的には片付けされた方が返ってきます

610
00:30:55,858 --> 00:31:00,538
名前だったらパーソンネームコンポーネンスという方で返ってきますし

611
00:31:00,538 --> 00:31:03,440
住所だとホスタラードですという方で返ってきて

612
00:31:03,440 --> 00:31:06,538
年齢は当然イントで来てほしいのでイントで来てきますしとか

613
00:31:06,538 --> 00:31:09,440
そういう便利な感じにやってくれるんですけども

614
00:31:09,440 --> 00:31:11,058
実はそれだけじゃなくて

615
00:31:11,058 --> 00:31:16,240
MDocがちゃんと心眼性のあるものかという確認も実はやっていて

616
00:31:16,240 --> 00:31:23,278
MDocの中でモバイルセキュリティオブジェクトを縮めてMSOというオブジェクトがあります

617
00:31:23,278 --> 00:31:26,759
これの検証も実はApple側でやってくれているので

618
00:31:26,759 --> 00:31:29,259
我々は気にせず使うことができます

619
00:31:29,259 --> 00:31:34,759
要するに何も考えずにデータリクエストを使えばいいんですけども

620
00:31:34,759 --> 00:31:38,118
ちょっと一つだけ残念なお知らせがありまして

621
00:31:38,118 --> 00:31:40,420
この住所なんですけども

622
00:31:40,420 --> 00:31:44,460
皆さん住所の分解ってやったことありますかね

623
00:31:44,460 --> 00:31:46,858
日本の住所の文字列があるじゃないですか

624
00:31:46,858 --> 00:31:49,180
それを都道府県だとか市町村とかだね

625
00:31:49,180 --> 00:31:52,038
そういうことは実は難しいということは

626
00:31:52,038 --> 00:31:54,838
ここにいる皆さんは理解してもらえると思うんですけども

627
00:31:54,838 --> 00:32:00,160
これ当然アメリカの住所に倣って最初作っているので

628
00:32:00,160 --> 00:32:02,660
これも超裏話ですけど

629
00:32:02,660 --> 00:32:05,200
担当のエンジニアにお前本当にできるのかと

630
00:32:05,200 --> 00:32:07,880
日本の住所の分解できるのかと言って

631
00:32:07,880 --> 00:32:10,220
ちょっと分からないけどやってみろみたいな感じで言ってたんですけど

632
00:32:10,220 --> 00:32:12,259
できませんでしたと

633
00:32:12,259 --> 00:32:17,019
そういうわけでこれはニールになっちゃうんですけども

634
00:32:17,019 --> 00:32:19,140
ちょっとここ終わってきますねごめんなさい

635
00:32:19,140 --> 00:32:20,480
ニールになっちゃうんですけども

636
00:32:20,480 --> 00:32:23,759
これの話もいましたがよくて

637
00:32:23,759 --> 00:32:26,778
これが壊れてるね

638
00:32:26,778 --> 00:32:30,078
これに出になっちゃうという話なんですけども

639
00:32:30,078 --> 00:32:35,240
そういうときのために使えるAPIとしては

640
00:32:35,240 --> 00:32:37,618
M6の生データを取るというのがありますね

641
00:32:37,618 --> 00:32:39,220
これローデータリクエストといいます

642
00:32:39,220 --> 00:32:42,058
これを使うと取れるんですけども

643
00:32:42,058 --> 00:32:44,660
今言った通り住所以外は取れるんですよ

644
00:32:44,660 --> 00:32:46,460
住所以外は取れてくるので

645
00:32:46,460 --> 00:32:49,558
大体のSKステータリクエストだけでいいんですけども

646
00:32:49,558 --> 00:32:51,058
ローデータを使わなきゃいけないと

647
00:32:51,058 --> 00:32:52,798
ローデータを使うということは

648
00:32:52,798 --> 00:32:55,118
今言ったようなMSOの検証なんかも

649
00:32:55,118 --> 00:32:56,720
自分たちでやらなきゃいけないと

650
00:32:56,720 --> 00:32:58,460
多分この会場の中に

651
00:32:58,460 --> 00:33:00,900
それをやったことがある人はいないと思うんですよ

652
00:33:00,900 --> 00:33:03,078
多分まだいないですよね

653
00:33:03,078 --> 00:33:05,180
大変なんですよ

654
00:33:05,180 --> 00:33:07,098
ちょっと大変さを

655
00:33:07,098 --> 00:33:08,900
簡単に見せますけども

656
00:33:08,900 --> 00:33:10,700
このCBOAというフォーマットは

657
00:33:10,700 --> 00:33:11,640
プレイグランドがあります

658
00:33:11,640 --> 00:33:14,980
CBOA.meというところにアクセスしてもらうと

659
00:33:14,980 --> 00:33:15,920
触れるんですけど

660
00:33:15,920 --> 00:33:17,640
これ映るのかな

661
00:33:17,640 --> 00:33:19,180
ちょっとやってみますね

662
00:33:19,180 --> 00:33:39,759
これMDocのサンプルデータをダンプしているんですけども

663
00:33:39,759 --> 00:33:44,058
左にあるようにいっぱい文字列がバーってあるんですよ

664
00:33:44,058 --> 00:33:46,239
このバッとある文字列は

665
00:33:46,239 --> 00:33:48,940
どういう

666
00:33:48,940 --> 00:33:52,558
intだとかstringだとかの型を表すものと

667
00:33:52,558 --> 00:33:55,839
バリューが入っている長さを表すフィールドと

668
00:33:55,839 --> 00:33:57,859
実際の値が入っているものが

669
00:33:57,859 --> 00:33:59,659
延々と繰り返されていくので

670
00:33:59,659 --> 00:34:01,618
前から順番にパースをしていくんですよ

671
00:34:01,618 --> 00:34:03,440
パーサーはもちろんないので

672
00:34:03,440 --> 00:34:05,118
書かなきゃいけないんですよね

673
00:34:05,118 --> 00:34:06,359
パーサーも書くんですよ

674
00:34:06,359 --> 00:34:09,860
そうすると右みたいなスラクチャーが出てきて

675
00:34:09,860 --> 00:34:13,599
入っているキーとバリューが出てくるんですけど

676
00:34:13,599 --> 00:34:15,619
これも見てもよくわからないんですよね

677
00:34:15,619 --> 00:34:17,518
これ分からんので

678
00:34:17,518 --> 00:34:19,380
これをさらにパースしていくと

679
00:34:19,380 --> 00:34:22,360
欲しいものが取れていくみたいなことをやっていくんですけど

680
00:34:22,360 --> 00:34:24,340
これをやるのは大変なんですよ

681
00:34:24,340 --> 00:34:26,880
僕も書いたんですけど結構大変で

682
00:34:26,880 --> 00:34:28,219
でも頑張るんですよね

683
00:34:28,219 --> 00:34:30,739
頑張るとできるんですけど

684
00:34:30,739 --> 00:34:34,559
そういった苦労を皆さんに伸ばせるのは

685
00:34:34,559 --> 00:34:38,539
よろしくないかなと思ってまして

686
00:34:38,539 --> 00:34:40,860
こういったものを用意しました

687
00:34:40,860 --> 00:34:43,219
ということをやりたかったんですけど

688
00:34:43,219 --> 00:34:44,760
ちょっとまだ準備ができていないので

689
00:34:44,760 --> 00:34:46,639
なさいという感じですね

690
00:34:46,639 --> 00:34:48,900
準備ができたら何かしらあると思います

691
00:34:48,900 --> 00:34:51,179
というわけでIDBリファイアは

692
00:34:51,179 --> 00:34:53,760
ちょっとこういう感じで面白いですよという話をしました

693
00:34:53,760 --> 00:34:55,739
詳細はですね

694
00:34:55,739 --> 00:35:02,000
Apple Developerのウェブサイトに書いてますので

695
00:35:02,000 --> 00:35:04,579
本当に使うことになったらここを読んでいただくと

696
00:35:04,579 --> 00:35:07,340
例えばエンタイトルメントリクエストの仕方だとか

697
00:35:07,340 --> 00:35:10,599
実機とかシミュレーターでのテストの方法みたいなことが

698
00:35:10,599 --> 00:35:11,659
ここにまとまっています

699
00:35:11,659 --> 00:35:14,639
他にも使えるAPIがあるので

700
00:35:14,639 --> 00:35:18,079
ちょっと時間なくなってきたのでざっくりと紹介していくんですけども

701
00:35:18,079 --> 00:35:19,559
主に3種類あります

702
00:35:19,559 --> 00:35:21,980
今紹介したVerifier APIの他には

703
00:35:21,980 --> 00:35:25,420
アプリ内での本人確認に使えるVerifier with Wallet

704
00:35:25,420 --> 00:35:28,480
それから今年のWWDCでアナウンスがありました

705
00:35:28,480 --> 00:35:32,340
ウェブブラウザからM-Lockのリクエストができる

706
00:35:32,340 --> 00:35:35,559
Web Credential APIという3つのAPIがありますが

707
00:35:35,559 --> 00:35:39,980
ちょっとWeb Credential APIはまだリリースされてないので

708
00:35:39,980 --> 00:35:41,559
詳細は話せないんですけども

709
00:35:41,559 --> 00:35:44,079
これができるとどういうことができるかというと

710
00:35:44,079 --> 00:35:45,920
今iPhone2台で見せたんですけども

711
00:35:45,920 --> 00:35:47,360
iPhoneなくても

712
00:35:47,360 --> 00:35:49,739
WebブラウザからiPhoneに対して

713
00:35:49,739 --> 00:35:52,340
M-Docをリクエストできるという機能が

714
00:35:52,340 --> 00:35:53,860
これも標準化されている話

715
00:35:53,860 --> 00:35:57,018
これは18013のパート7ですけども

716
00:35:57,018 --> 00:35:59,039
そこで定義されている話なので

717
00:35:59,039 --> 00:36:01,699
ブラウザが対応すればできると

718
00:36:01,699 --> 00:36:03,360
僕も思っていたんですけども

719
00:36:03,360 --> 00:36:06,599
ブラウザが対応するのは結構大変らしくて

720
00:36:06,599 --> 00:36:08,119
いろいろ掘っていくと

721
00:36:08,119 --> 00:36:10,039
さまざまな事情が見えてきますので

722
00:36:10,039 --> 00:36:12,599
興味がある方は見てくださいと

723
00:36:12,599 --> 00:36:17,840
セッションはこのVerify Identity Documents on the Webというセッションでやっています

724
00:36:17,840 --> 00:36:21,599
なんと4分しかないのでここからさらに書き足になるんですけども

725
00:36:21,599 --> 00:36:24,099
Verify with Walletの話を簡単にします

726
00:36:24,099 --> 00:36:27,780
アプリ内で本人確認ができるAPIなんですけども

727
00:36:27,780 --> 00:36:31,599
これは完全に今やったようなデモみたいに

728
00:36:31,599 --> 00:36:33,239
見せておしまいみたいなことはないので

729
00:36:33,239 --> 00:36:35,840
アプリ内で後続の商品をやるために

730
00:36:35,840 --> 00:36:38,380
特別なエンタイトレメントが必要になっています

731
00:36:38,380 --> 00:36:45,139
このデータはHPKEという方式で暗号化されていて

732
00:36:45,139 --> 00:36:47,518
これで暗号化されているために

733
00:36:47,518 --> 00:36:50,280
実はAppleも不合できないということを

734
00:36:50,280 --> 00:36:51,460
意味しているものです

735
00:36:51,460 --> 00:36:55,800
エンタイトルメントの話は簡単に流しますね

736
00:36:55,800 --> 00:36:58,820
ドキュメントタイプとエレメントを指定すると

737
00:36:58,820 --> 00:36:59,920
できますというのと

738
00:36:59,920 --> 00:37:02,420
もう一個エンタイトルメントが必要で

739
00:37:02,420 --> 00:37:03,780
マンチャントIDという

740
00:37:03,780 --> 00:37:10,539
Apple Payとかウォレットを使うために必要な文字列だと思ってもらえればいいんですけど

741
00:37:10,539 --> 00:37:12,840
それが必要になりますと

742
00:37:12,840 --> 00:37:17,400
流れはPathKitのAPIを使って

743
00:37:17,400 --> 00:37:18,900
ユーザーの同意を得て

744
00:37:18,900 --> 00:37:20,000
HPKを得て

745
00:37:20,000 --> 00:37:21,679
それは自分のサーバーに送るんですね

746
00:37:21,679 --> 00:37:22,900
自前させてサーバーに送って

747
00:37:22,900 --> 00:37:25,639
そこでデクリフトするという風になっています

748
00:37:25,639 --> 00:37:27,659
APIなんですけども

749
00:37:27,659 --> 00:37:31,460
さっき見せたIDのやつと極めて近しいものになっていますが

750
00:37:31,460 --> 00:37:33,579
Verify with Walletっていうのは

751
00:37:33,579 --> 00:37:34,920
PathKitのAPIというのは

752
00:37:34,920 --> 00:37:36,679
イニシエのAPIでして

753
00:37:36,679 --> 00:37:39,219
多分お星の頃から存在しているので

754
00:37:39,219 --> 00:37:41,300
若干ちょっとシンタックスが

755
00:37:41,300 --> 00:37:43,699
古めかしいなという印象がありますね

756
00:37:43,699 --> 00:37:46,179
ちょっと細かいことは省いていきます

757
00:37:46,179 --> 00:37:48,219
呼ぶとこういうのが出ますよ

758
00:37:48,219 --> 00:37:50,500
これでFaceIDで認証してもらえると

759
00:37:50,500 --> 00:37:52,260
MDocが取得できると

760
00:37:52,260 --> 00:37:53,940
HPKは

761
00:37:53,940 --> 00:37:56,619
いわゆる公開鍵暗号と

762
00:37:56,619 --> 00:37:58,780
共通鍵暗号のハイブリッドになっていて

763
00:37:58,780 --> 00:38:01,219
強固なんですよねという話なんですけども

764
00:38:01,219 --> 00:38:03,039
これをデクリプトするのは大変なので

765
00:38:03,039 --> 00:38:05,760
実はデジタルからライブラリーを提供しまして

766
00:38:05,760 --> 00:38:07,340
このカードはだいたい

767
00:38:07,340 --> 00:38:10,420
臨時的記録を使いたいですと申し込みました人に対しては

768
00:38:10,420 --> 00:38:12,199
確認用プログラムというのを提供しています

769
00:38:12,199 --> 00:38:13,619
この確認用プログラムは

770
00:38:13,619 --> 00:38:16,599
サーバーで使うことを想定しているんですけども

771
00:38:16,599 --> 00:38:19,059
そのサーバーにホストしてもらって

772
00:38:19,059 --> 00:38:20,518
取得したHPKを

773
00:38:20,518 --> 00:38:23,300
このプログラムを使って

774
00:38:23,300 --> 00:38:25,539
複合してもらうということをやります

775
00:38:25,539 --> 00:38:27,639
そうすると得られるのは

776
00:38:27,639 --> 00:38:28,139
CBOA

777
00:38:28,139 --> 00:38:30,980
冒頭に説明したCBOAの形式なんですけども

778
00:38:30,980 --> 00:38:32,518
中から掘っていくと

779
00:38:32,518 --> 00:38:34,079
このエレメントというところに

780
00:38:34,079 --> 00:38:37,199
アイデンティファイアとキーバイアの形式で

781
00:38:37,199 --> 00:38:37,900
入っていて

782
00:38:37,900 --> 00:38:42,518
データが取れますよという話になっております

783
00:38:42,518 --> 00:38:46,940
これがVerify is all rightなんですけども

784
00:38:46,940 --> 00:38:48,099
セッションもありますし

785
00:38:48,099 --> 00:38:51,739
同じようにApple Developerにありますので

786
00:38:51,739 --> 00:38:52,500
利用する方

787
00:38:52,500 --> 00:38:54,260
多分アプリ内で使いたいのは

788
00:38:54,260 --> 00:38:56,579
どっちかというとこっちのSKACEの方が大きいと思いますので

789
00:38:56,579 --> 00:38:58,099
ぜひ調べてもらって

790
00:38:58,099 --> 00:39:01,000
使いたい方はAppleにも申請がいるので

791
00:39:01,000 --> 00:39:03,260
Appleに申請してもらうと

792
00:39:03,260 --> 00:39:05,059
担当者とつながれると思いますので

793
00:39:05,059 --> 00:39:07,659
そこで詳細聞いてもらうといいかなと思います

794
00:39:07,659 --> 00:39:12,380
書き足でこれからの話を簡単にするんですけども

795
00:39:12,380 --> 00:39:13,900
ちょうど昨日かな

796
00:39:13,900 --> 00:39:14,980
昨日か一昨日か

797
00:39:14,980 --> 00:39:15,880
一昨日かな

798
00:39:15,880 --> 00:39:17,018
なんですけども

799
00:39:17,018 --> 00:39:19,559
Androidでも同じようにM-Docの対応をします

800
00:39:19,559 --> 00:39:20,500
という発表をしました

801
00:39:20,500 --> 00:39:23,000
Androidは実は電子証明書は先行して

802
00:39:23,000 --> 00:39:24,820
利用することができていて

803
00:39:24,820 --> 00:39:26,380
マイナポータルのログインなんかに

804
00:39:26,380 --> 00:39:27,800
使われていたんですけども

805
00:39:27,800 --> 00:39:30,079
このM-Doc対応で今言った話と

806
00:39:30,079 --> 00:39:32,059
同じようなことができるようになっています

807
00:39:32,059 --> 00:39:34,179
これが2026年を予定しています

808
00:39:34,179 --> 00:39:36,500
マイナス保険証も始まっていますし

809
00:39:36,500 --> 00:39:40,139
将来的にもしかしたら免許証で何かあるかもしれませんけど

810
00:39:40,139 --> 00:39:44,900
そういういろんなインテグレーションが進んでいくというような格好になると思います

811
00:39:44,900 --> 00:39:47,920
こんな感じなんですけども

812
00:39:47,920 --> 00:39:50,500
これやるの結構時間かかったんですよ

813
00:39:50,500 --> 00:39:56,940
結構かかりました大変でしたって話を皆さんにしたかったわけではなくて

814
00:39:56,940 --> 00:40:01,159
皆さんの手元にあって使えるものになってますし

815
00:40:01,159 --> 00:40:02,260
皆さん開発者ですので

816
00:40:02,260 --> 00:40:04,659
ちょっと今の話聞いて使ってみたいなと思ったら

817
00:40:04,659 --> 00:40:05,820
ぜひ使ってみてほしいんですよ

818
00:40:05,820 --> 00:40:08,780
先進的な取り組みなゆえに

819
00:40:08,780 --> 00:40:10,619
まだユースケースそんなにないんですよね

820
00:40:10,619 --> 00:40:13,920
このM-Docだけを使って何かしようみたいなユースケースって

821
00:40:13,920 --> 00:40:16,518
これから発明しかなきゃいけない

822
00:40:16,518 --> 00:40:17,820
そういうものになってまして

823
00:40:17,820 --> 00:40:20,539
そういう先進的なものを

824
00:40:20,539 --> 00:40:22,199
うちが出してしまったので

825
00:40:22,199 --> 00:40:24,619
あとは皆さんに使ってもらうしかないんですよね

826
00:40:24,619 --> 00:40:27,139
なのでぜひ使っていただきたいなと思いますし

827
00:40:27,139 --> 00:40:32,440
こうやって日本のデジタル化がちょっとずつでも進んでいますよということを

828
00:40:32,440 --> 00:40:35,460
こういう場で皆さんにお伝えできたこと本当に嬉しいなと思いますし

829
00:40:35,460 --> 00:40:38,960
ぜひ使ってみて皆さんの感想だとか

830
00:40:38,960 --> 00:40:41,239
こういうところをやってほしいんだけどみたいな

831
00:40:41,239 --> 00:40:42,860
そういうディスカッションができると

832
00:40:42,860 --> 00:40:45,619
さらに日本のデジタル化が前に進むと思いますので

833
00:40:45,619 --> 00:40:49,679
ぜひ一緒に日本のデジタル化を進めていただければなと思います

834
00:40:49,679 --> 00:40:51,420
それでは私の発表は以上となります

835
00:40:51,420 --> 00:40:51,760
ありがとうございました

836
00:40:54,619 --> 00:41:03,099
発表ありがとうございました

837
00:41:03,099 --> 00:41:06,559
それではQ&Aに入りたいと思います

838
00:41:06,559 --> 00:41:09,760
コメントやご質問のある方は手を挙げてお知らせください

839
00:41:09,760 --> 00:41:13,619
マイクをお持ちします

840
00:41:13,619 --> 00:41:18,039
本も満席ですねありがとうございます

841
00:41:18,039 --> 00:41:20,199
ありがとうございます

842
00:41:20,199 --> 00:41:22,739
発表大変興味深かったです

843
00:41:22,739 --> 00:41:25,659
特別なエンタイトルメンツとか

844
00:41:25,659 --> 00:41:30,139
あとは日本用に作られたクラスのレビューとかで

845
00:41:30,139 --> 00:41:32,739
いろいろ特別なアカウントとして

846
00:41:32,739 --> 00:41:36,699
Appleとやり取りされているんだろうなということを思ったんですけど

847
00:41:36,699 --> 00:41:40,920
例えばアプリの審査のフローに特別なことがあるとか

848
00:41:40,920 --> 00:41:43,420
あるいはApp Store Connectに

849
00:41:43,420 --> 00:41:47,500
例えば我々一般の開発者には見えない特別なメニューがあるとか

850
00:41:47,500 --> 00:41:50,559
そのあたりもしお話いただけることだったら教えてください

851
00:41:50,559 --> 00:41:54,860
話せないと言っちゃうとちょっとあれなんですけど

852
00:41:54,860 --> 00:41:58,239
エンタイトルメントに関しては付与されてしまえば

853
00:41:58,239 --> 00:41:59,500
同じように使えるんですよ

854
00:41:59,500 --> 00:42:03,159
要するに証明書のサイニングの段階で

855
00:42:03,159 --> 00:42:04,639
バリデーションを発信したりだとか

856
00:42:04,639 --> 00:42:07,280
ビルドするタイミングでチェックしているので

857
00:42:07,280 --> 00:42:08,760
要はプロビジョニングプロファイルに

858
00:42:08,760 --> 00:42:10,400
そういう権威があればいいので

859
00:42:10,400 --> 00:42:13,039
実はエンタイトルメントの仕組み自体は

860
00:42:13,039 --> 00:42:15,480
他のエンタイトルメントと全く一緒なので

861
00:42:15,480 --> 00:42:16,840
特別なアカウントがいるかというと

862
00:42:16,840 --> 00:42:18,059
全くそういうことはないんですけど

863
00:42:18,059 --> 00:42:20,900
当然リリース前のテストデータを使うだとか

864
00:42:20,900 --> 00:42:21,980
そういう話になると

865
00:42:21,980 --> 00:42:23,260
当然いろんな話

866
00:42:23,260 --> 00:42:24,980
今後の話が出てきますし

867
00:42:24,980 --> 00:42:26,940
審査の話をすると

868
00:42:26,940 --> 00:42:28,139
別に審査のチームに

869
00:42:28,139 --> 00:42:31,119
これの話が共有されているわけではないので

870
00:42:31,119 --> 00:42:34,400
レビューは実は初めて見ますみたいな機能があったりするんですよ

871
00:42:34,400 --> 00:42:37,099
そういうものは皆さんもやっていると思いますけど

872
00:42:37,099 --> 00:42:39,500
動画を添付したりだとか

873
00:42:39,500 --> 00:42:41,539
ちょっと説明を書いたりだとか

874
00:42:41,539 --> 00:42:44,340
そういうことをやってレビューをクリアするという風になります

875
00:42:44,340 --> 00:42:49,619
国の機関だから取れないエンターテレメントであるみたいな

876
00:42:49,619 --> 00:42:50,440
そういうことでもない

877
00:42:50,440 --> 00:42:52,159
それで言うと

878
00:42:52,159 --> 00:42:54,518
やっぱりさっき言ったマイナンバーみたいな話になると

879
00:42:54,518 --> 00:42:56,460
あれって法令に書かれているので

880
00:42:56,460 --> 00:42:58,780
じゃあAppleが使っていいよと言ったからといって

881
00:42:58,780 --> 00:43:00,980
うちがいいというとは限らないんですよ

882
00:43:00,980 --> 00:43:03,039
そこがちょっとこれからどうなっていくか

883
00:43:03,039 --> 00:43:04,518
ちょっと難しいんですけども

884
00:43:04,518 --> 00:43:05,780
そういう縛りはあるんですが

885
00:43:05,780 --> 00:43:07,440
他のところに関しては

886
00:43:07,440 --> 00:43:09,199
Appleの基準に合っているのと

887
00:43:09,199 --> 00:43:11,260
うちの基準に合っていれば基本的には使えます

888
00:43:11,260 --> 00:43:12,420
ありがとうございます

889
00:43:12,420 --> 00:43:15,539
ありがとうございました

890
00:43:15,539 --> 00:43:17,880
他にコメントやご質問のある方

891
00:43:17,880 --> 00:43:18,900
挙手お願いします

892
00:43:18,900 --> 00:43:24,159
もしもし

893
00:43:24,159 --> 00:43:27,679
ウォレットのマイナンバーのところが

894
00:43:27,679 --> 00:43:30,500
動かすとキラキラ飾りが出るのが

895
00:43:30,500 --> 00:43:32,420
コードで書かれていると言っていたんですけど

896
00:43:32,420 --> 00:43:34,800
ウォレットアプリ自体は

897
00:43:34,800 --> 00:43:36,539
アップルが配布しているアプリだから

898
00:43:36,539 --> 00:43:38,719
デジタル庁のエンジニアが

899
00:43:38,719 --> 00:43:40,719
そのエフェクトだけ実装して

900
00:43:40,719 --> 00:43:43,039
コードかライブラリか何かにして

901
00:43:43,039 --> 00:43:44,300
Appleに渡して

902
00:43:44,300 --> 00:43:46,219
それがウォレットアプリに組み込まれて

903
00:43:46,219 --> 00:43:49,440
配布されているみたいな仕掛けでできているんですか

904
00:43:49,440 --> 00:43:50,199
これはですね

905
00:43:50,199 --> 00:43:52,300
ウォレットチームのエンジニアが作ってくれました

906
00:43:52,300 --> 00:43:54,039
じゃあ完全にAppleが作った

907
00:43:54,039 --> 00:43:54,619
完全に

908
00:43:54,619 --> 00:43:57,199
デザインはこういう風にしますよってすり合わせをしたら

909
00:43:57,199 --> 00:43:58,880
あとはもう全部やってくれたって感じです

910
00:43:58,880 --> 00:43:59,099
なるほど

911
00:43:59,099 --> 00:44:04,500
ありがとうございました

912
00:44:04,500 --> 00:44:07,760
お時間的に次が最後になりそうです

913
00:44:07,760 --> 00:44:09,440
他にコメントやご質問のある方

914
00:44:09,440 --> 00:44:10,539
挙手をお願いします

915
00:44:10,539 --> 00:44:15,619
貴重な話ありがとうございます

916
00:44:15,619 --> 00:44:21,199
民間企業のアプリとかでも確定申告するアプリであると思うんですけど

917
00:44:21,199 --> 00:44:24,900
確定申告したい人が作った文書に対して

918
00:44:24,900 --> 00:44:26,880
実物のマイナンバーカードとかで

919
00:44:26,880 --> 00:44:31,179
JPKやライブラリとかで電子証明するアプリみたいなのがあると思うんですけど

920
00:44:31,179 --> 00:44:35,500
それをこのiPhoneのマイナンバーカードで実現しようとすると

921
00:44:35,500 --> 00:44:38,619
最初の方にあったシグネチャーメソッドみたいなのが

922
00:44:38,619 --> 00:44:39,840
それに当たるのかなと思って

923
00:44:39,840 --> 00:44:42,960
その認識が合っているのかというのと

924
00:44:42,960 --> 00:44:47,400
あと実際それを使うには特別なエンタイトレイメントが必要みたいな話があったので

925
00:44:47,400 --> 00:44:54,000
民間企業が技術的にはできるけどそもそも使えるかどうかみたいなところだと

926
00:44:54,000 --> 00:44:58,320
使えないのかなというイメージがありました

927
00:44:58,320 --> 00:45:00,719
そこが今後使えるようになるのかみたいなところ

928
00:45:00,719 --> 00:45:04,760
もし今お話できるのがあればお聞きしたいです

929
00:45:04,760 --> 00:45:08,159
これもまだ100%決まっていないんですけども

930
00:45:08,159 --> 00:45:10,000
決まってないというか

931
00:45:10,000 --> 00:45:12,518
今はマイナポータルアプリを経由して

932
00:45:12,518 --> 00:45:15,480
マイナポータルアプリ上で証明書を取り出して

933
00:45:15,480 --> 00:45:16,500
それでサインをして

934
00:45:16,500 --> 00:45:19,840
連携本に戻すという風な方式になっていると思います

935
00:45:19,840 --> 00:45:22,179
なのでそれができている以上は

936
00:45:22,179 --> 00:45:24,639
皆さんでさっきのJPKIコンテンツを

937
00:45:24,639 --> 00:45:26,199
読んでいただく必要はなくて

938
00:45:26,199 --> 00:45:28,820
マイナポータルアプリでやっていただければ

939
00:45:28,820 --> 00:45:30,199
十分と考えています

940
00:45:30,199 --> 00:45:33,179
失礼しました ありがとうございます

941
00:45:33,179 --> 00:45:37,139
それではお時間になりましたので

942
00:45:37,139 --> 00:45:39,300
Q&Aを終了させていただきます

943
00:45:39,300 --> 00:45:42,139
続けて1分間フィードバックのお時間です

944
00:45:42,139 --> 00:45:47,400
1分間フィードバックのお時間です

945
00:45:47,400 --> 00:45:50,480
スクリーンのQRコードを読み取って

946
00:45:50,480 --> 00:45:52,500
フィードバックを送ってください

947
00:45:52,500 --> 00:45:59,260
このフィードバックコメントは集めてですね

948
00:45:59,260 --> 00:46:01,900
養成官の方にも共有してきたらいいなと思っていて

949
00:46:01,900 --> 00:46:04,920
もちろん私の感想を書いてもらってもいいんですけど

950
00:46:04,920 --> 00:46:09,239
もし届けられるメッセージがあればぜひ書いていただいたら

951
00:46:09,239 --> 00:46:10,300
ダウンおれしいです

952
00:46:34,920 --> 00:47:04,900
ご視聴ありがとうございました

953
00:47:04,920 --> 00:47:06,920
それでは松田さんありがとうございました

954
00:47:06,920 --> 00:47:07,920
ありがとうございました

955
00:47:07,920 --> 00:47:16,139
この後実はここでTVerという会社のスポンサーセッションがありまして

956
00:47:16,139 --> 00:47:18,440
僕ちょっとTVer手伝っているのにそれ見たいんで

957
00:47:18,440 --> 00:47:20,018
申し訳ないんですけど

958
00:47:20,018 --> 00:47:23,518
それが終わった後にずっといるようにしますんで

959
00:47:23,518 --> 00:47:26,559
そっちに質問を持ってきていただけるとありがたいです

960
00:47:26,559 --> 00:47:26,920
ありがとうございます
