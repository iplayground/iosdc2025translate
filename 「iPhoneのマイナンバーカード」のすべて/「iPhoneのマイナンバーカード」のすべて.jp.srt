1
00:00:00,000 --> 00:00:10,839
このトラックはトラックA

2
00:00:10,839 --> 00:00:15,339
ハッシュタルはiOSDC Aです

3
00:00:15,339 --> 00:00:20,899
iOSデベロープ

4
00:00:20,899 --> 00:00:22,620
iOSデベロープ

5
00:00:22,620 --> 00:00:25,280
iOSDC Japan

6
00:00:30,000 --> 00:00:34,479
iOS DC JAPAN 2025

7
00:00:34,479 --> 00:00:36,659
トラックA

8
00:00:36,659 --> 00:00:38,759
NEXT

9
00:00:38,759 --> 00:00:43,859
iPhoneのマイナンバーカードのすべて

10
00:00:43,859 --> 00:00:46,380
松立大輝

11
00:00:46,380 --> 00:00:52,520
はいよろしくお願いします

12
00:00:52,520 --> 00:00:53,960
皆さんおはようございます

13
00:00:53,960 --> 00:00:56,899
朝早くからこんなに大勢の方々に

14
00:00:56,899 --> 00:00:58,100
集まっていただいてありがとうございます

15
00:00:58,100 --> 00:01:01,560
ちょっとここでコーヒーさんの動画がキャンセルになっちゃったりとか

16
00:01:01,560 --> 00:01:03,659
いろんな事業がありますけども

17
00:01:03,659 --> 00:01:08,480
朝一といういい場所をいただいてありがとうございます

18
00:01:08,480 --> 00:01:11,560
肉の話もパンの話もいらっしゃいませんので

19
00:01:11,560 --> 00:01:13,640
トラックを間違えないようにお願いします

20
00:01:13,640 --> 00:01:21,439
今日はデジタル庁という立場でここに登壇させていただくんですけども

21
00:01:21,439 --> 00:01:26,099
iPhoneのマイナンバーカードの全てという題でお話しさせていただきます

22
00:01:26,099 --> 00:01:29,260
6月24日にリリースしたばかりで

23
00:01:29,260 --> 00:01:32,159
まだ皆さん持っているかどうかは聞かないので

24
00:01:32,159 --> 00:01:35,519
ちゃんとインストールの手順もやりますから

25
00:01:35,519 --> 00:01:37,140
ちょっと待ってくださいね

26
00:01:37,140 --> 00:01:40,079
このトーク聞くにあたってあると

27
00:01:40,079 --> 00:01:41,040
より楽しい

28
00:01:41,040 --> 00:01:42,560
なくても楽しいんですけどもちろんね

29
00:01:42,560 --> 00:01:43,959
より楽しいものとしては

30
00:01:43,959 --> 00:01:45,540
iPhoneのマイナンバーカードと

31
00:01:45,540 --> 00:01:48,920
それからマイナンバーカード対面確認アプリというのを

32
00:01:48,920 --> 00:01:50,540
デジタル庁からリリースしておりまして

33
00:01:50,540 --> 00:01:54,079
これも先日iPhoneのマイナンバーカードに対応したものになっています

34
00:01:54,079 --> 00:01:56,060
途中デモも挟むんですけど

35
00:01:56,060 --> 00:01:59,700
私のデモを見て大手になるのももちろん当たり前にいいんですけど

36
00:01:59,700 --> 00:02:04,219
周りの方々ともお楽しみいただけるような中身になるかなと思いますので

37
00:02:04,219 --> 00:02:09,439
ぜひこのWi-Fiの回線を使ってダウンロードいただければなと思っております

38
00:02:09,439 --> 00:02:15,819
改めまして私デジタル庁から参りました松田と申します

39
00:02:15,819 --> 00:02:18,419
デジタル庁ではエンジニアユニット庁をやっておりまして

40
00:02:18,419 --> 00:02:22,000
国民向けサービスグループのスマホ搭載チームというところで

41
00:02:22,000 --> 00:02:24,620
まさにこのiPhoneマイナンバーカードの話を

42
00:02:24,620 --> 00:02:26,960
正確には言いませんけど

43
00:02:26,960 --> 00:02:29,879
長い間取り組んできたものになっております

44
00:02:29,879 --> 00:02:32,560
兼業先としてはニューモという会社で

45
00:02:32,560 --> 00:02:35,060
タクシーの会社だとか自動運転だとか

46
00:02:35,060 --> 00:02:38,259
そういうところでソフトウェアエンジニアをやっております

47
00:02:38,259 --> 00:02:41,840
デジタル庁と言ってますけども

48
00:02:41,840 --> 00:02:44,039
せっかくデジタル庁の人間として登壇したので

49
00:02:44,039 --> 00:02:46,099
デジタル庁の話もちょっとしたいんですけども

50
00:02:46,099 --> 00:02:49,539
デジタル庁は2021年のコロナ禍の末裁の中に

51
00:02:49,539 --> 00:02:51,520
推移されて4年目が終わりまして

52
00:02:51,520 --> 00:02:53,280
5年目に入ったところになっております

53
00:02:53,280 --> 00:02:56,500
役所としては新しい役所になっておりまして

54
00:02:56,500 --> 00:02:59,520
元からいる行政官だけではなく

55
00:02:59,520 --> 00:03:03,039
私のような民間人材も入って形成されているという

56
00:03:03,039 --> 00:03:06,280
珍しい役所だなと思っておりますけれども

57
00:03:06,280 --> 00:03:08,819
その4年間の取り組みについて

58
00:03:08,819 --> 00:03:11,340
簡単に動画にまとめたものがありますので

59
00:03:11,340 --> 00:03:13,479
ちょっと見ていただこうかなと思っております

60
00:03:13,479 --> 00:03:14,639
じゃあお願いします

61
00:03:23,280 --> 00:03:28,280
デジタルって見えないけれど

62
00:03:28,280 --> 00:03:34,719
気付けばほらいつでもそばにある

63
00:03:34,719 --> 00:03:41,719
そしてデジタルだからできることがある

64
00:03:41,719 --> 00:03:48,960
時間を気にせず必要な証明書を受け取れたり

65
00:03:53,280 --> 00:03:59,780
マイナンバーカードでも手軽にお支払いができたり

66
00:03:59,780 --> 00:04:11,659
一人一人に会った授業を受けられたり

67
00:04:18,939 --> 00:04:23,540
イベントに参加するときに確実に本人確認ができたり

68
00:04:23,540 --> 00:04:35,399
手が離せないときは役所に行かなくても手続きできたり

69
00:04:35,399 --> 00:04:45,279
患者が話すことができないときも受診歴や薬の情報が分かったり

70
00:04:47,740 --> 00:04:52,860
いつでもどこでも必要な時 必要なものを必要な人に

71
00:04:52,860 --> 00:05:00,740
それぞれの人に合わせたサポートがあって 全ての人により優しい社会を作れると思う

72
00:05:00,740 --> 00:05:03,839
一人一人の暮らしの中へ

73
00:05:03,839 --> 00:05:06,800
デジタル庁

74
00:05:06,800 --> 00:05:16,319
今見ていただいた通りですね

75
00:05:16,319 --> 00:05:19,199
いろんなユースケースを紹介しましたけど

76
00:05:19,199 --> 00:05:22,480
ほとんどのユースケースでマイナンバーカードが使われております

77
00:05:22,480 --> 00:05:26,040
このカードなんですけども

78
00:05:26,040 --> 00:05:30,800
このカードは皆さんもちろんお持ちの方いらっしゃると思いますけども

79
00:05:30,800 --> 00:05:34,220
この国に暮らす全ての方が発行できるカードになっておりまして

80
00:05:34,220 --> 00:05:39,220
このカード今約9,852万枚発行されております

81
00:05:39,220 --> 00:05:44,259
これは全国民の79%ぐらいの数字になるんですけども

82
00:05:44,259 --> 00:05:48,019
大体この部屋の5人いたら4人は持っているみたいな

83
00:05:48,019 --> 00:05:49,920
そういう割合になっております

84
00:05:49,920 --> 00:05:53,300
先進国で人口が1億人以上いて

85
00:05:53,300 --> 00:05:56,240
かつ発行枚数も1億万枚近いというのは

86
00:05:56,240 --> 00:05:59,339
これ世界的にもすごいことだなと思っております

87
00:05:59,339 --> 00:06:02,360
このカード

88
00:06:02,360 --> 00:06:04,420
iPhoneのマイナンバーカードに入る前に

89
00:06:04,420 --> 00:06:07,980
皆さんお持ちのプラスチックのカードの話をするんですけども

90
00:06:07,980 --> 00:06:09,620
この表面ですね

91
00:06:09,620 --> 00:06:11,939
懸面と我々呼びますけども

92
00:06:11,939 --> 00:06:12,899
ここにはですね

93
00:06:12,899 --> 00:06:18,779
顔写真とか氏名住所などの皆さんの基本情報が書いてあって

94
00:06:18,779 --> 00:06:21,939
裏にはマイナンバーが記載されていると

95
00:06:21,939 --> 00:06:26,759
またですね裏側を見てもらうと分かる通り

96
00:06:26,759 --> 00:06:28,540
このICチップが付いております

97
00:06:28,540 --> 00:06:32,500
実はこのICチップはカードが作られた時期だとか

98
00:06:32,500 --> 00:06:36,579
交付された場所によってチップの模様が実は違います

99
00:06:36,579 --> 00:06:41,040
なのでもしお持ちでしたら周りの方と見比べてみても

100
00:06:41,040 --> 00:06:42,060
面白いかもしれません

101
00:06:42,060 --> 00:06:49,319
このICチップはISO7816という国際標準があるんですけども

102
00:06:49,319 --> 00:06:51,759
これに準拠したドンゲ構造を持っています

103
00:06:51,759 --> 00:06:57,740
皆さんがよく使うのはJPKiAPという電子証明書が入っているものですね

104
00:06:57,740 --> 00:07:00,300
ここから電子証明書を取得したりだとか

105
00:07:00,300 --> 00:07:02,779
あと懸命入力補助APというのは

106
00:07:02,779 --> 00:07:07,360
カードの懸命に書いてある情報をテキストで取得できるものなんですけども

107
00:07:07,360 --> 00:07:09,639
これに必要な4ピンを入れてくださいと

108
00:07:09,639 --> 00:07:11,740
そういう言われ方をすると思います

109
00:07:11,740 --> 00:07:15,000
また最近ですねマイナー免許証もスタートしていまして

110
00:07:15,000 --> 00:07:18,360
免許証のデータも格納されているんですけども

111
00:07:18,360 --> 00:07:22,579
免許証のデータは実はAPがごっそり入っているというような構想になっています

112
00:07:22,579 --> 00:07:28,060
カードとiPhoneがどうやって通信するかという話なんですけども

113
00:07:28,060 --> 00:07:30,079
カードから4Pに入れてくださいとか

114
00:07:30,079 --> 00:07:33,939
そういう情報を求められた後はNFCで通信をします

115
00:07:33,939 --> 00:07:37,459
カードはスマートカードという規格になっているので

116
00:07:37,459 --> 00:07:42,079
これにAPDUっていう通信プロトコルでコマンドを送信します

117
00:07:42,079 --> 00:07:44,779
そうするとカードからレスポンスが返ってくるので

118
00:07:44,779 --> 00:07:49,459
そのレスポンスをデコードすることによってデータを取り出せると

119
00:07:49,459 --> 00:07:51,879
さっき見せたような論議構造っていうのは

120
00:07:51,879 --> 00:07:54,740
まるでターミナルなんかでCDで移動するように

121
00:07:54,740 --> 00:07:59,639
コマンドを送るとどんどん階層に潜っていけるという風になっています

122
00:07:59,639 --> 00:08:02,779
特定の階層に入るときに認証が必要なので

123
00:08:02,779 --> 00:08:04,459
そこを4ピンでやるとか

124
00:08:04,459 --> 00:08:07,939
もうちょっと長いパスワードでやるみたいなことをやっています

125
00:08:07,939 --> 00:08:12,379
今日はメインはiPhoneの話なので

126
00:08:12,379 --> 00:08:14,759
実物のカードの話はこの辺にしますけども

127
00:08:14,759 --> 00:08:18,360
じゃあどうやってこのカードをiPhoneで使えるようにするかという話をしていきます

128
00:08:18,360 --> 00:08:20,879
がその前になんですけども

129
00:08:20,879 --> 00:08:25,439
これはもちろんナショナルIDとしては世界初の試みなんですけども

130
00:08:25,439 --> 00:08:28,459
ここに至るまでの先行事例があるのでちょっとそれを見たいと思います

131
00:08:28,459 --> 00:08:31,759
このモバイルドライバーズライセンスというのが

132
00:08:31,759 --> 00:08:37,460
ISOの18013のパート5というところで定義されているんですけども

133
00:08:37,460 --> 00:08:39,720
これはモバイル運転免許証ですね

134
00:08:39,720 --> 00:08:42,080
iPhoneに運転免許証が入る

135
00:08:42,080 --> 00:08:43,299
別にiPhoneだけじゃないんですけど

136
00:08:43,299 --> 00:08:45,659
モバイルデバイスに運転免許証が入りますと

137
00:08:45,659 --> 00:08:49,980
これはアメリカだとかEUだとか

138
00:08:49,980 --> 00:08:54,039
そういうところで運転免許証をモバイルデバイスに搭載しようという動きがあって

139
00:08:54,039 --> 00:08:57,399
2021年に標準化されたものになっています

140
00:08:57,399 --> 00:09:00,080
縮めてMDLといいます

141
00:09:00,080 --> 00:09:05,659
単に格納しておしまいというわけではなくて

142
00:09:05,659 --> 00:09:08,039
どういう仕様が決まっているかというと

143
00:09:08,039 --> 00:09:11,799
まずは選択的に属性を開示できるという機能を持っています

144
00:09:11,799 --> 00:09:17,279
例えば相手が20歳以上かだけを知りたいのに

145
00:09:17,279 --> 00:09:19,740
住所を読み取ったりだとか名前とかというのは

146
00:09:19,740 --> 00:09:24,279
基本的には必要ない状態属性になるので

147
00:09:24,279 --> 00:09:28,340
そういう属性は開示しなくても相手に提示できますと

148
00:09:28,340 --> 00:09:33,340
またこのMDLというのはCBOAという形式になっていまして

149
00:09:33,340 --> 00:09:36,519
皆さん聞きなりなじみはないかなと思うんですけども

150
00:09:36,519 --> 00:09:41,179
そのCBOAによる証明暗号データのことをコースと言うんですけども

151
00:09:41,179 --> 00:09:42,799
CBOAって何ですかというと

152
00:09:42,799 --> 00:09:45,000
これもちゃんと標準化されたフォーマットになっていて

153
00:09:45,000 --> 00:09:48,019
RSCの8949で定義されています

154
00:09:48,019 --> 00:09:51,480
これはデータフォーマットでして

155
00:09:51,480 --> 00:09:55,279
出学者はすごくJSONにそっくりなんですけども

156
00:09:55,279 --> 00:09:57,000
JSONって皆さん普段お使いの通り

157
00:09:57,000 --> 00:09:59,799
テキストエコーディングをするので

158
00:09:59,799 --> 00:10:01,519
バイナリーに比べると

159
00:10:01,519 --> 00:10:03,019
ちょっとやっぱりサイズが大きくなるんですけども

160
00:10:03,019 --> 00:10:04,740
これはバイナリーフォーマットなんで

161
00:10:04,740 --> 00:10:07,559
重力進出ではバーって

162
00:10:07,559 --> 00:10:08,919
反対側並んでいるものを

163
00:10:08,919 --> 00:10:09,960
デコードしていくので

164
00:10:09,960 --> 00:10:12,940
よりテキスト形式よりもコンパクトに使えますと

165
00:10:12,940 --> 00:10:14,419
サイズダウンにもなりますし

166
00:10:14,419 --> 00:10:16,059
通信コストも下がるので

167
00:10:16,059 --> 00:10:18,059
IoTデバイスだとかこういうモバイルで

168
00:10:18,059 --> 00:10:20,480
端末向けに作られているフォーマットになっています

169
00:10:20,480 --> 00:10:23,000
またですね

170
00:10:23,000 --> 00:10:24,700
MDLには互換性がありまして

171
00:10:24,700 --> 00:10:25,799
NFCだとか

172
00:10:25,799 --> 00:10:29,759
BLE、QRコード、あとはインターネットを介した通信で

173
00:10:29,759 --> 00:10:31,740
普通にお使いいただけるので

174
00:10:31,740 --> 00:10:35,159
クロスプラットフォームでお使いいただけますよということが決まっています

175
00:10:35,159 --> 00:10:38,600
またさっきもお話したんですけど

176
00:10:38,600 --> 00:10:40,120
当然プライバシーも重要でして

177
00:10:40,120 --> 00:10:42,879
かざして勝手にデータを取られたら嫌なわけなんで

178
00:10:42,879 --> 00:10:45,919
ちゃんとユーザーの動員に基づいて情報を提供すると

179
00:10:45,919 --> 00:10:50,419
それはちゃんと生体認証で本位ですよということを確認した上で

180
00:10:50,419 --> 00:10:53,419
情報を開示するというふうにこれも決まっている話ですね

181
00:10:53,419 --> 00:10:58,720
なのでiPhoneではFace IDだとかTouch IDで認証するという風になっています

182
00:10:58,720 --> 00:11:02,019
こういう仕様に基づいてですね

183
00:11:02,019 --> 00:11:07,200
AppleとGoogleはアメリカで運転免許証を導入始めたんですけど

184
00:11:07,200 --> 00:11:10,879
アメリカの運転免許証って国で発行しないんですよね

185
00:11:10,879 --> 00:11:12,179
週単位で発行してるんですよ

186
00:11:12,179 --> 00:11:15,879
なのでAppleはアリゾナからスタートしましたし

187
00:11:15,879 --> 00:11:18,919
GoogleはIoAからスタートしていて

188
00:11:18,919 --> 00:11:22,539
今48週ありますけども

189
00:11:22,539 --> 00:11:27,240
そのうちの20の週でこのMDL導入されているんですけども

190
00:11:27,240 --> 00:11:30,500
当然週によってはAppleのウォレットしか使えませんとか

191
00:11:30,500 --> 00:11:32,240
Googleのウォレットしか使えません

192
00:11:32,240 --> 00:11:33,539
もしくは両方使いますとか

193
00:11:33,539 --> 00:11:35,279
まだ対応しないので使えませんとか

194
00:11:35,279 --> 00:11:36,559
独自のウォレットがあるとか

195
00:11:36,559 --> 00:11:39,279
そういう感じで週ごとに全然対応が違うんですね

196
00:11:39,279 --> 00:11:43,539
今運転免許証が済んだので

197
00:11:43,539 --> 00:11:46,360
その仕様をもっと汎用的に拡張しますと

198
00:11:46,360 --> 00:11:51,799
ということでこのISOの2322のシリーズが定義されました

199
00:11:51,799 --> 00:11:54,399
モバイルドキュメントを縮めてM-Docといいます

200
00:11:54,399 --> 00:11:59,399
どういうものに拡張するかというと

201
00:11:59,399 --> 00:12:00,240
例えばですけど

202
00:12:00,240 --> 00:12:01,299
例えば保険証

203
00:12:01,299 --> 00:12:02,500
それからパスポート

204
00:12:02,500 --> 00:12:03,840
学生証ですね

205
00:12:03,840 --> 00:12:05,399
このうちパスポートは

206
00:12:05,399 --> 00:12:08,440
今年のWWDCで実はアナウンスがあって

207
00:12:08,440 --> 00:12:10,360
アメリカのパスポートは

208
00:12:10,360 --> 00:12:14,120
M-Docにこれから対応していくという風なアナウンスがありました

209
00:12:14,120 --> 00:12:19,840
これもこの2320の企画に則ってやっている話になっています

210
00:12:19,840 --> 00:12:24,399
そういうわけでこの2つの基準に基づいて

211
00:12:24,399 --> 00:12:27,879
6月24日に日本政府はマイナンバーカードを

212
00:12:27,879 --> 00:12:29,379
iPhoneでも使えるようにしましたと

213
00:12:29,379 --> 00:12:33,179
これはナチュラルIDとしては世界初で

214
00:12:33,179 --> 00:12:37,240
今iPhoneに入るのはUSの運転免許証と

215
00:12:37,240 --> 00:12:40,600
あとは日本のマイナンバーカードしか入らないということで

216
00:12:40,600 --> 00:12:43,320
かなり先進的な取り組みになると思っています

217
00:12:43,320 --> 00:12:48,179
というわけで持っている人を聞きたいんですけども

218
00:12:48,179 --> 00:12:55,120
持っている方はオーレットのカードを掲げてみてもらってもいいですか

219
00:12:55,120 --> 00:12:57,139
まだあんまりいない

220
00:12:57,139 --> 00:12:59,340
いますねいますいいですねありがとうございます

221
00:12:59,340 --> 00:13:01,220
いいですねきれいですね

222
00:13:01,220 --> 00:13:02,940
なんかLT始まったみたいになってますけど

223
00:13:02,940 --> 00:13:05,820
ありがとうございます

224
00:13:05,820 --> 00:13:07,980
ちょっと自撮りもしようかなこうやってね

225
00:13:07,980 --> 00:13:11,679
ありがとうございます

226
00:13:11,679 --> 00:13:14,419
役員たちが喜ぶと思いますありがとうございます

227
00:13:14,419 --> 00:13:16,039
でですね

228
00:13:16,039 --> 00:13:20,059
このカードアートと呼びますけど

229
00:13:20,059 --> 00:13:21,940
このデザインですね

230
00:13:21,940 --> 00:13:23,159
桜のマーク

231
00:13:23,159 --> 00:13:27,559
持っている方は傾けると桜がちょっと浮かび上がったりして

232
00:13:27,559 --> 00:13:30,100
いいですねなんて言っていると思いますけども

233
00:13:30,100 --> 00:13:33,179
なんで入っているかというともちろん偽造対策ですね

234
00:13:33,179 --> 00:13:37,039
これはただ画像を入れただけではなくて

235
00:13:37,039 --> 00:13:39,460
ちゃんとプログラミングがされていて

236
00:13:39,460 --> 00:13:44,039
ティルトに応じて桜が浮かぶような

237
00:13:44,039 --> 00:13:47,500
試作効果を入れているというふうになっています

238
00:13:47,500 --> 00:13:50,320
これは完全に裏話なんですけど

239
00:13:50,320 --> 00:13:53,480
なんで桜なんですかと思った方もいらっしゃると思います

240
00:13:53,480 --> 00:13:56,019
富士山でいいじゃんって思いますよね

241
00:13:56,019 --> 00:13:58,799
シンボルだしっていう話になるんですけど

242
00:13:58,799 --> 00:14:03,679
富士山は我々関東圏に住む人たちにとってはシンボルですけど

243
00:14:03,679 --> 00:14:06,379
沖縄の人にとってはどうですかね

244
00:14:06,379 --> 00:14:08,659
北海道にも富士山ないですからね

245
00:14:08,659 --> 00:14:10,440
そういう話もいろいろあって

246
00:14:10,440 --> 00:14:12,220
いろんなことを交流すると

247
00:14:12,220 --> 00:14:13,360
やっぱり桜っていうのは

248
00:14:13,360 --> 00:14:15,779
日本全国どこに行ってもシンボルだよね

249
00:14:15,779 --> 00:14:17,919
ということで桜を設定しています

250
00:14:17,919 --> 00:14:20,519
アメリカのMDLは

251
00:14:20,519 --> 00:14:22,759
基本的にはシューのシンボルになっている動物が

252
00:14:22,759 --> 00:14:24,100
デザインとして入っていて

253
00:14:24,100 --> 00:14:26,559
それも傾けるといろいろ出てくるんですけども

254
00:14:26,559 --> 00:14:27,779
日本の場合は

255
00:14:27,779 --> 00:14:29,399
シンプルイザーベストですね

256
00:14:29,399 --> 00:14:31,059
やっぱり

257
00:14:31,059 --> 00:14:32,799
善って感じだと思いますけども

258
00:14:32,799 --> 00:14:34,159
桜って感じです

259
00:14:34,159 --> 00:14:34,960
このデザインも

260
00:14:34,960 --> 00:14:37,659
もちろんAppleと一緒に考えて

261
00:14:37,659 --> 00:14:41,559
いろんな没案も数多くあるんですけども

262
00:14:41,559 --> 00:14:44,620
本当に皆さんにお見せできないようなものもいっぱいあるんですけども

263
00:14:44,620 --> 00:14:48,299
いろんな試行錯誤を経てこれに落ち着いたということになってきます

264
00:14:48,299 --> 00:14:52,440
この機能なんですけども

265
00:14:52,440 --> 00:14:54,840
今は説明した通りM-Doc

266
00:14:54,840 --> 00:14:57,740
カード代替電子的記録と日本語では書いてますけど

267
00:14:57,740 --> 00:14:58,299
ちょっとごめんなさい

268
00:14:58,299 --> 00:14:59,200
言いにくいんですけど

269
00:14:59,200 --> 00:15:01,340
このカード代替電子的記録というのは

270
00:15:01,340 --> 00:15:04,120
慣れてもらえると見たときに

271
00:15:04,120 --> 00:15:08,539
これはあそこで松立が説明していたM-Docのコートだなということを

272
00:15:08,539 --> 00:15:11,940
皆さんが今日覚えて帰ると今後いろいろと読みやすくなるはずです

273
00:15:11,940 --> 00:15:16,559
このM-Docと最初に説明した電子証明書ですね

274
00:15:16,559 --> 00:15:21,320
利用者証明用電子証明書と証明用電子証明書2枚が

275
00:15:21,320 --> 00:15:24,679
iPhoneに入っているとそういうセットになっています

276
00:15:24,679 --> 00:15:28,039
M-Docの方はもちろん

277
00:15:28,039 --> 00:15:31,840
18013のパート5パート7というのもあるんですけども

278
00:15:31,840 --> 00:15:35,899
あと23220のISOスタンダードに準拠していますと

279
00:15:35,899 --> 00:15:40,899
こういう標準のおかげで

280
00:15:40,899 --> 00:15:44,519
例えばAppleとかGoogleみたいなウォレットベンダーは

281
00:15:44,519 --> 00:15:46,679
この仕様に準拠していれば

282
00:15:46,679 --> 00:15:49,120
これがアメリカの運転免許証だろうが

283
00:15:49,120 --> 00:15:51,200
日本のマイナンバーカードだろうが

284
00:15:51,200 --> 00:15:53,279
新しく今後出てくるかもしれない

285
00:15:53,279 --> 00:15:55,799
どこかの国のIDみたいなものでも

286
00:15:55,799 --> 00:15:58,980
全く同じAPIで利用することができるようになるはずですね

287
00:15:58,980 --> 00:16:04,080
発行の話をするんですけども

288
00:16:04,080 --> 00:16:06,779
今こうやってやってもらった皆さんはやっている話だと思うんですけど

289
00:16:06,779 --> 00:16:08,399
これからやる方もいらっしゃると思うので

290
00:16:08,399 --> 00:16:10,720
簡単に説明したいと思います

291
00:16:10,720 --> 00:16:12,740
発行にはですね

292
00:16:12,740 --> 00:16:16,399
実物のマイナンバーカードプラスチックのやつですね

293
00:16:16,399 --> 00:16:17,820
まだ持っていない方は

294
00:16:17,820 --> 00:16:21,500
お住まいの自治体の役所に行くと発行できます

295
00:16:21,500 --> 00:16:24,919
このカードの懸命入力補助用の4ピンと

296
00:16:24,919 --> 00:16:26,100
あと署名用のパスワード

297
00:16:26,100 --> 00:16:28,740
この2つが必要になっています

298
00:16:28,740 --> 00:16:32,940
これを使ってNFCから電子証明書を取り出すと

299
00:16:32,940 --> 00:16:39,460
件面の方はもちろんカードの件面に書かれているテキスト情報を取って

300
00:16:39,460 --> 00:16:42,600
それを称号に使うというふうになっています

301
00:16:42,600 --> 00:16:45,799
あとは自分のセルフィーの画像ですね

302
00:16:45,799 --> 00:16:50,519
この正面のポートレートの写真とカードに入っている写真を称号したりとかしています

303
00:16:50,519 --> 00:16:55,759
この2つの情報を使って

304
00:16:55,759 --> 00:17:01,419
JPKIというのはマイナンバーカードのPKIになっているところですけども

305
00:17:01,419 --> 00:17:02,720
ここに電子証明書を送って

306
00:17:02,720 --> 00:17:06,019
この人は本当に実在するのかみたいな確認とかもやった後に

307
00:17:06,019 --> 00:17:09,480
JPKIの方からデジタル庁で立てている

308
00:17:09,480 --> 00:17:11,700
IACA発行局になるんですけども

309
00:17:11,700 --> 00:17:13,960
ここでそのMDocの発行申請をします

310
00:17:13,960 --> 00:17:17,440
発行申請がそこでなされたら

311
00:17:17,440 --> 00:17:19,579
それをAppleのサーバーの方に送ってですね

312
00:17:19,579 --> 00:17:24,119
Appleのサーバーではウォレットに対してパスを配信すると

313
00:17:24,119 --> 00:17:26,380
そういうフローになっています

314
00:17:26,380 --> 00:17:30,559
やってみるのは手とりば早いので

315
00:17:30,559 --> 00:17:32,079
ぜひやってみてくださいって感じですね

316
00:17:32,079 --> 00:17:36,259
発行したiPhoneのマイナンバーカードを

317
00:17:36,259 --> 00:17:38,839
利用することを考えていくんですけども

318
00:17:38,839 --> 00:17:40,579
まず利用性から提供しているものは

319
00:17:40,579 --> 00:17:42,140
こういうものがありまして

320
00:17:42,140 --> 00:17:44,240
一番左のマイナポータルアプリは

321
00:17:44,240 --> 00:17:46,500
これはそもそも発行に必要なものですので

322
00:17:46,500 --> 00:17:49,299
お使いの方も多いかと思いますけども

323
00:17:49,299 --> 00:17:50,539
入れていただくとですね

324
00:17:50,539 --> 00:17:54,960
今までは実物のカードをかざして4ピンを入れて

325
00:17:54,960 --> 00:17:57,640
NFCで読み取ってっていうのを

326
00:17:57,640 --> 00:17:58,940
いちいちやらなきゃいけなくて

327
00:17:58,940 --> 00:18:00,920
すごく面倒くさいと思ってたと思うんですけども

328
00:18:00,920 --> 00:18:03,880
今はFace IDだけで完結するので

329
00:18:03,880 --> 00:18:08,319
すごくシームレスにログインができるようになっています

330
00:18:08,319 --> 00:18:10,440
またですね

331
00:18:10,440 --> 00:18:12,680
その次のe-Taxですけども

332
00:18:12,680 --> 00:18:15,819
これも先日iPhoneのマイナンバーカードに対応しまして

333
00:18:15,819 --> 00:18:19,119
まだそんなに恩恵を受けないかもしれないですけど

334
00:18:19,119 --> 00:18:25,779
3月ですね確定申告のシリーズになるときっと便利だなと思っていただけるようになるかなと思います

335
00:18:25,779 --> 00:18:30,599
コンビニでもさっき動画で見せたように使えますし

336
00:18:30,599 --> 00:18:38,299
病院でもマイナ保険証がiPhoneのマイナンバーカードに統合されて使えるようになり始めたので

337
00:18:38,299 --> 00:18:42,339
まだ病院に浸透していないかもしれませんが

338
00:18:42,339 --> 00:18:44,480
これから徐々に広まっていくので

339
00:18:44,480 --> 00:18:48,519
最寄りのかかりつけの病院でも使えるようになる日はそんなに遠くないと思います

340
00:18:48,519 --> 00:18:54,059
電子証明書なんですけども

341
00:18:54,059 --> 00:18:57,799
マイナポータルアプリのiPhoneのマイナンバーカードのメニューに

342
00:18:57,799 --> 00:19:02,299
こういうiPhoneのマイナンバーカードと書かれた画面がありまして

343
00:19:02,299 --> 00:19:04,819
ここに利用者証明用電子証明書と

344
00:19:04,819 --> 00:19:06,460
証明用電子証明書のメニューがあります

345
00:19:06,460 --> 00:19:08,559
これ開いてもらうと

346
00:19:08,559 --> 00:19:13,140
ウォレットに入っている自分の電子証明書の情報を

347
00:19:13,140 --> 00:19:14,839
見ることができるんですけども

348
00:19:14,839 --> 00:19:18,220
見ることができるということはAPIが存在するということなんです

349
00:19:18,220 --> 00:19:22,119
実際のコードをお見せしていくんですけども

350
00:19:22,119 --> 00:19:27,359
例えば利用者証明用電子証明書を取得してみることを考えてみると

351
00:19:27,359 --> 00:19:32,839
これはAppleからなんとSwiftのAPIが提供されているということですね

352
00:19:32,839 --> 00:19:34,299
取り方をちょっと見てみます

353
00:19:34,299 --> 00:19:39,299
PKパスライブラリからパスを取るというのは一般的なフローなんですけども

354
00:19:39,299 --> 00:19:41,119
ここでセキュアエレメントって書いてますね

355
00:19:41,119 --> 00:19:42,940
セキュアエレメントっていうのは要するに

356
00:19:42,940 --> 00:19:44,980
そういうマイナンバーカードみたいな

357
00:19:44,980 --> 00:19:48,880
否得性の高いセキュアなものを格納する

358
00:19:48,880 --> 00:19:53,059
対タンパー性のある強硬なストレージだと思ってください

359
00:19:53,059 --> 00:19:57,200
これ書いたからといって皆さん取れるわけじゃないんですけど

360
00:19:57,200 --> 00:20:01,900
これをやるには超特別なエンタイトルメントがいるんですけど

361
00:20:01,900 --> 00:20:03,539
それを使うと取れますっていう

362
00:20:03,539 --> 00:20:05,140
これはただの自慢なんですごめんなさい

363
00:20:05,140 --> 00:20:06,299
これは皆さんできないんですけど

364
00:20:06,299 --> 00:20:09,700
こういうことをやると取れますという話です

365
00:20:09,700 --> 00:20:12,000
ここを見るとですね

366
00:20:12,000 --> 00:20:13,880
GPKIパスコンテンツって書いてあるんですね

367
00:20:13,880 --> 00:20:16,279
GPKIって名前が付いたクラスが

368
00:20:16,279 --> 00:20:18,279
なんとAppleのドキュメントに存在すると

369
00:20:18,279 --> 00:20:21,500
これはもう日本のマイナンバーカード専用クラスとなっております

370
00:20:21,500 --> 00:20:25,299
これにパスを渡して初期化するとですね

371
00:20:25,299 --> 00:20:27,059
ユーザーアイデンティティというのが

372
00:20:27,059 --> 00:20:29,779
利用者証明用のあれこれが入ったものになっていますと

373
00:20:29,779 --> 00:20:32,920
このアイデンティティのオブジェクトに

374
00:20:32,920 --> 00:20:35,200
サーティフィケートメソッドを呼ぶと

375
00:20:35,200 --> 00:20:36,880
証明書が取れるんですけども

376
00:20:36,880 --> 00:20:40,079
ここで渡しているのは認証の形式でして

377
00:20:40,079 --> 00:20:42,759
有者証明用だと4ピンの代わりに

378
00:20:42,759 --> 00:20:44,880
生体認証で代替することができるので

379
00:20:44,880 --> 00:20:49,240
生体認証で代替できますよというところも定義されていると

380
00:20:49,240 --> 00:20:53,900
すごいリッチなAPIを日本のために提供していただいております

381
00:20:53,900 --> 00:20:56,160
同様にですね

382
00:20:56,160 --> 00:20:57,880
署名書を取るだけじゃなくて

383
00:20:57,880 --> 00:20:59,319
署名もできますので

384
00:20:59,319 --> 00:21:02,299
データに対して署名をするということもできます

385
00:21:02,299 --> 00:21:05,339
これも裏話なんですけども

386
00:21:05,339 --> 00:21:09,319
これ実は一度に1個の署名対象データにしか

387
00:21:09,319 --> 00:21:12,160
署名ができないAPIになってまして

388
00:21:12,160 --> 00:21:17,400
ちょっと微妙に一度に複数で署名したいみたいなユースケースが

389
00:21:17,400 --> 00:21:18,640
我々にもありまして

390
00:21:18,640 --> 00:21:22,039
このAPIだと対応できんよというフィードバックをしたんですね

391
00:21:22,039 --> 00:21:25,720
そうすると対応してくれたわけですよ

392
00:21:25,720 --> 00:21:28,759
これもちゃんとドキュメントに入ってますんで

393
00:21:28,759 --> 00:21:32,380
見ていただけたらいいかなと思ってまして

394
00:21:32,380 --> 00:21:35,460
しかもドキュメントもちゃんと入ってます

395
00:21:35,460 --> 00:21:37,779
これはApple Developerで

396
00:21:37,779 --> 00:21:40,180
JPKIパスコンテンツで調べてもらうと

397
00:21:40,180 --> 00:21:43,339
今話した我々のためだけに作られた

398
00:21:43,339 --> 00:21:46,460
マイナンバー専用クラスのドキュメントが見れます

399
00:21:46,460 --> 00:21:48,740
これもただの自慢なんですけど

400
00:21:48,740 --> 00:21:50,619
レビューさせてもらったので

401
00:21:50,619 --> 00:21:54,079
一応私の目が入ったドキュメントになっていると

402
00:21:54,079 --> 00:21:56,200
これは本当に一番ですごめんなさい

403
00:21:56,200 --> 00:21:59,720
これさっきも言った通り

404
00:21:59,720 --> 00:22:02,640
さっきのコードを皆さん書けば

405
00:22:02,640 --> 00:22:04,119
取り出せるものでは全くなくて

406
00:22:04,119 --> 00:22:06,079
そんなにひほひほで取り出されても困るので

407
00:22:06,079 --> 00:22:10,099
これはAppleにエンターネットのリクエストをしないと

408
00:22:10,099 --> 00:22:13,180
できない話にはなっていますということですね

409
00:22:13,180 --> 00:22:15,740
次のケースなんですけども

410
00:22:15,740 --> 00:22:18,940
冒頭に申し上げたマイナンバーカード対面確認アプリです

411
00:22:18,940 --> 00:22:23,519
これもともと実物のカードの心眼性のチェック

412
00:22:23,519 --> 00:22:25,440
要はICチップに入っている情報と

413
00:22:25,440 --> 00:22:29,640
懸命に書かれている情報がちゃんと目視で見比べて

414
00:22:29,640 --> 00:22:32,160
合っているよねというのを確認できる

415
00:22:32,160 --> 00:22:35,759
地面紙だなと思った方はそうなんですけど

416
00:22:35,759 --> 00:22:40,740
本当に地面紙を見て対策したわけじゃなくて

417
00:22:40,740 --> 00:22:43,859
実際にマイナンバーカードの件名が偽装されるという事件が

418
00:22:43,859 --> 00:22:45,960
ちょこちょこここ数年起きていまして

419
00:22:45,960 --> 00:22:48,140
そういう対策で作ったアプリなんですけども

420
00:22:48,140 --> 00:22:51,059
これにiPhoneのマイナンバーカードを

421
00:22:51,059 --> 00:22:53,440
対面で読み取る機能を搭載したので

422
00:22:53,440 --> 00:22:56,059
これはちょっとデモでお見せしたいと思います

423
00:22:56,059 --> 00:23:03,539
入ってますかね 大丈夫ですね

424
00:23:03,539 --> 00:23:10,319
ここに対面確認アプリの画面があります

425
00:23:10,319 --> 00:23:12,279
これをリーダーと呼びます

426
00:23:12,279 --> 00:23:13,579
もう一つですね

427
00:23:13,579 --> 00:23:16,019
もう一台あるんですけども

428
00:23:16,019 --> 00:23:19,599
ここにマイナンバーカードの入ったフォルダーと呼びます

429
00:23:19,599 --> 00:23:21,940
この2台のiPhoneを使います

430
00:23:21,940 --> 00:23:24,779
このリーダーの方で確認したい内容

431
00:23:24,779 --> 00:23:25,740
いくつかあるんですけど

432
00:23:25,740 --> 00:23:29,400
私の個人情報は皆さんそんな興味ないと思うんで

433
00:23:29,400 --> 00:23:34,640
今日は私が20歳以上かどうかを確認したいと思います

434
00:23:34,640 --> 00:23:37,599
見りゃ分かるじゃんって話ですけど

435
00:23:37,599 --> 00:23:42,059
ほら最近は用紙で判断しちゃいけないことになってますからね

436
00:23:42,059 --> 00:23:47,819
これで確認を押すとこういう画面が出てきます

437
00:23:47,819 --> 00:23:49,500
ここにかざしてくださいと出ますね

438
00:23:49,500 --> 00:23:52,039
ちゃんとマイナンバーカード対面確認アプリから

439
00:23:52,039 --> 00:23:53,799
要求されてますというのがここに出ます

440
00:23:53,799 --> 00:23:57,180
ここに書いてある通りかざすんですよね

441
00:23:57,180 --> 00:23:58,619
かざすと

442
00:23:58,619 --> 00:24:02,220
このホルダー側には

443
00:24:02,220 --> 00:24:04,460
このアプリに提供していいですかというのがあります

444
00:24:04,460 --> 00:24:05,599
これを

445
00:24:05,599 --> 00:24:08,440
なんでこれパスコードで給付されているんだ

446
00:24:08,440 --> 00:24:10,920
ごめんなさいちょっとパスコードで入れますね

447
00:24:10,920 --> 00:24:12,680
デモだとありますよね

448
00:24:12,680 --> 00:24:13,259
こういうのね

449
00:24:13,259 --> 00:24:26,039
これでFace IDでやってくださいと言われるので

450
00:24:26,039 --> 00:24:27,660
P-SIDしますと

451
00:24:27,660 --> 00:24:29,700
そうすると

452
00:24:29,700 --> 00:24:32,220
もう一台の方に自分の顔写真と

453
00:24:32,220 --> 00:24:35,200
私が20歳以上ですという情報が出ると

454
00:24:35,200 --> 00:24:38,160
いいですよね

455
00:24:38,160 --> 00:24:45,480
これは冒頭お伝えした通り

456
00:24:45,480 --> 00:24:47,240
皆さんもできますので

457
00:24:47,240 --> 00:24:50,039
セッション中こそこそやってもらってもいいですし

458
00:24:50,039 --> 00:24:51,380
あと休憩時間で

459
00:24:51,380 --> 00:24:53,279
おいタイミング確認しようぜと

460
00:24:53,279 --> 00:24:55,859
こうやってiPhoneをやっても

461
00:24:55,859 --> 00:24:57,079
いいと思いますし

462
00:24:57,079 --> 00:24:57,599
ほら

463
00:24:57,599 --> 00:25:02,480
中井井戸によって提供したい情報に違いもあると思いますので

464
00:25:02,480 --> 00:25:04,500
20歳以上だけ

465
00:25:04,500 --> 00:25:05,700
伝え終わればいいかなとか

466
00:25:05,700 --> 00:25:07,900
そういうときは20歳以上ですし

467
00:25:07,900 --> 00:25:09,960
実年で公開することもできますし

468
00:25:09,960 --> 00:25:10,500
その他

469
00:25:10,500 --> 00:25:12,420
氏名とか住所とか

470
00:25:12,420 --> 00:25:14,140
本当に本人確認必要な情報を

471
00:25:14,140 --> 00:25:16,640
選択的に公開できるという

472
00:25:16,640 --> 00:25:18,180
機能が入っております

473
00:25:18,180 --> 00:25:23,420
この裏側の仕組みなんですけど

474
00:25:23,420 --> 00:25:24,980
もう一回図を使って

475
00:25:24,980 --> 00:25:26,359
やっていくんですが

476
00:25:26,359 --> 00:25:28,599
当然M-Docを使ってやっていますと

477
00:25:28,599 --> 00:25:31,380
リーダーとホルダーの

478
00:25:31,380 --> 00:25:32,680
2台のiPhoneがありまして

479
00:25:32,680 --> 00:25:34,359
リーダーからホルダーに対して

480
00:25:34,359 --> 00:25:35,720
M-Docを要求します

481
00:25:35,720 --> 00:25:40,960
この2台のiPhoneを

482
00:25:40,960 --> 00:25:41,839
かざすんですね

483
00:25:41,839 --> 00:25:44,099
かざすとこれでNSCで接続されますと

484
00:25:44,099 --> 00:25:45,559
ここで

485
00:25:45,559 --> 00:25:47,720
Bluetoothのコネクションを張るので

486
00:25:47,720 --> 00:25:50,019
あとは離しても大丈夫で

487
00:25:50,019 --> 00:25:52,839
ホルダーにはM-Docを提供していいかどうかの

488
00:25:52,839 --> 00:25:53,900
認証がなされると

489
00:25:53,900 --> 00:25:56,460
これをFace IDで承認すると

490
00:25:56,460 --> 00:26:00,680
その情報がBLEで送信されて

491
00:26:00,680 --> 00:26:02,259
20歳以上ですね

492
00:26:02,259 --> 00:26:03,839
名前も出したりもできますけど

493
00:26:03,839 --> 00:26:07,160
こういう感じで情報を出せるという風になっています

494
00:26:07,160 --> 00:26:08,960
この機能自体はですね

495
00:26:08,960 --> 00:26:10,299
さっきはドヤゴーで

496
00:26:10,299 --> 00:26:11,759
これは特別なエンタイトルメントが

497
00:26:11,759 --> 00:26:12,740
必要だと言ったんですけど

498
00:26:12,740 --> 00:26:14,259
これは特別じゃなくて

499
00:26:14,259 --> 00:26:16,359
普通に使えるエンタイトルメントでして

500
00:26:16,359 --> 00:26:20,579
このProximity Readerのアイデンティティディスプレイ

501
00:26:20,579 --> 00:26:21,779
この文字です

502
00:26:21,779 --> 00:26:22,799
直接入れなくてもいいですけど

503
00:26:22,799 --> 00:26:26,400
X4のケーパビリティにディスプレイの項目がありますので

504
00:26:26,400 --> 00:26:28,259
その項目を追加すると

505
00:26:28,259 --> 00:26:34,420
皆さんも今みたいな対面確認お友達アプリが作れるという感じです

506
00:26:34,420 --> 00:26:40,759
さらに今の見せるだけなので

507
00:26:40,759 --> 00:26:42,819
アプリにデータは転送されていないですね

508
00:26:42,819 --> 00:26:45,180
なので昨日どこかの話でもありましたけど

509
00:26:45,180 --> 00:26:47,039
スクッショを取ってももちろん映りませんし

510
00:26:47,039 --> 00:26:51,039
そのデータを保存することはできないんですけども

511
00:26:51,039 --> 00:26:52,359
本人確認のユースケース

512
00:26:52,359 --> 00:26:56,559
昨日、音でか音で反集法の話もあったと聞いてますけども

513
00:26:56,559 --> 00:26:59,680
反集法なんかはデータの保存要件なんかありますので

514
00:26:59,680 --> 00:27:04,099
そのデータを高速の処理に使いたいという場合には

515
00:27:04,099 --> 00:27:05,980
ディスプレイではなくて

516
00:27:05,980 --> 00:27:08,180
データトランスファーAPIというのを使うんですけども

517
00:27:08,180 --> 00:27:10,259
これはちょっとごめんなさい

518
00:27:10,259 --> 00:27:12,579
またちょっと特別なエンタイトメントが必要で

519
00:27:12,579 --> 00:27:15,180
これはでもさっきのJPKIの話よりも

520
00:27:15,180 --> 00:27:18,480
もうちょっとライトでちゃんとフォーム用意してますので

521
00:27:18,480 --> 00:27:20,480
そこからリクエストしてもらえれば

522
00:27:20,480 --> 00:27:22,900
利用の正当性があれば

523
00:27:22,900 --> 00:27:25,000
ちゃんと付与されるというものになっていますので

524
00:27:25,000 --> 00:27:26,140
安心してくださいと

525
00:27:26,140 --> 00:27:29,660
今ちょっと反集法の話ししらっとしたんですけども

526
00:27:29,660 --> 00:27:30,640
反集法というのは

527
00:27:30,640 --> 00:27:31,720
ごめんなさい

528
00:27:31,720 --> 00:27:33,559
分からない人ごめんなさいって感じなんですけど

529
00:27:33,559 --> 00:27:35,220
いわゆるEKYC

530
00:27:35,220 --> 00:27:39,039
オンラインで本人確認をしたいときに

531
00:27:39,039 --> 00:27:42,140
皆さんiPhone当然買ったと思うので

532
00:27:42,140 --> 00:27:44,640
iPhone下取りとか出すときに

533
00:27:44,640 --> 00:27:46,539
身分証を求められたと思うんですけど

534
00:27:46,539 --> 00:27:47,019
ごめんなさい

535
00:27:47,019 --> 00:27:49,680
あれはまだiPhoneのマイナンバーカードに対応してないらしいんですけど

536
00:27:49,680 --> 00:27:51,900
マイナンバーカードって選ぶと

537
00:27:51,900 --> 00:27:54,779
写真でこうやって撮ってとか

538
00:27:54,779 --> 00:27:56,460
厚みがどうとかってやるじゃないですか

539
00:27:56,460 --> 00:27:58,500
あれの方法の一種なんですけども

540
00:27:58,500 --> 00:28:00,200
今回ちょっと法律も

541
00:28:00,200 --> 00:28:02,160
法律って言うとでかいんですけど

542
00:28:02,160 --> 00:28:04,539
反手法の施行規則っていうのがあります

543
00:28:04,539 --> 00:28:06,799
施行規則どういう手段で

544
00:28:06,799 --> 00:28:08,539
本人確認をしていいかっていうのが

545
00:28:08,539 --> 00:28:10,400
ずらずらと並んでるんですけども

546
00:28:10,400 --> 00:28:11,740
そこをちょっと改正しまして

547
00:28:11,740 --> 00:28:14,500
このM-DOCでも本人確認できるように書いてますので

548
00:28:14,500 --> 00:28:17,680
今から説明する方法で

549
00:28:17,680 --> 00:28:19,299
本人確認していただくと

550
00:28:19,299 --> 00:28:24,859
阪神法準拠の本人確認が作れますという話をしておくので

551
00:28:24,859 --> 00:28:29,240
関連する方は後で調べてみてもらって

552
00:28:29,240 --> 00:28:33,619
ごめんなさい 話は途中だった

553
00:28:33,619 --> 00:28:35,599
このデータでトランスファーすると

554
00:28:35,599 --> 00:28:40,559
もちろんさっきの顔写真も撮れますけども

555
00:28:40,559 --> 00:28:43,700
それ以外にも年齢も3パターンありまして

556
00:28:43,700 --> 00:28:46,480
青年月日をそのまま撮るパターンと

557
00:28:46,480 --> 00:28:48,279
実年齢だけを撮るパターンと

558
00:28:48,279 --> 00:28:51,059
さっき見せたみたいに20歳以上だけみたいな

559
00:28:51,059 --> 00:28:54,559
そこも認証レベルを変えることができます

560
00:28:54,559 --> 00:28:57,539
あとは名前とか住所とか性別とか

561
00:28:57,539 --> 00:28:58,420
あとマイナンバー

562
00:28:58,420 --> 00:29:00,920
マイナンバーは皆さん取ることがあるかどうかは分かりませんけど

563
00:29:00,920 --> 00:29:03,299
もうちょっとマイナンバーはちょっといろいろ厳しいですけども

564
00:29:03,299 --> 00:29:04,940
こういう属性が取ることができます

565
00:29:04,940 --> 00:29:07,599
こういう感じです

566
00:29:07,599 --> 00:29:10,380
やばいなあと10分しかないもしかして

567
00:29:10,380 --> 00:29:13,440
ちょっとサクサクいきますね

568
00:29:13,440 --> 00:29:15,259
APIの使い方なんですけども

569
00:29:15,259 --> 00:29:17,119
これは簡単です

570
00:29:17,119 --> 00:29:19,500
属性を指定します

571
00:29:19,500 --> 00:29:21,720
属性を指定してリクエストオブジェクトを作ります

572
00:29:21,720 --> 00:29:23,660
リーダーオブジェクトに

573
00:29:23,660 --> 00:29:25,740
prepareというメソッドを呼ぶと

574
00:29:25,740 --> 00:29:28,519
リーダーで使えるセッションが入ってきますので

575
00:29:28,519 --> 00:29:30,720
これに対してリクエストを渡すと

576
00:29:30,720 --> 00:29:31,900
冬画面が出ますと

577
00:29:31,900 --> 00:29:33,900
すごく簡単に使えますね

578
00:29:33,900 --> 00:29:36,500
データの場合は

579
00:29:36,500 --> 00:29:38,619
ほぼ同じインターフェースなんですけども

580
00:29:38,619 --> 00:29:40,000
間違いとしては

581
00:29:40,000 --> 00:29:43,160
リクエストに渡す属性を

582
00:29:43,160 --> 00:29:44,640
一定期間保持するかしないか

583
00:29:44,640 --> 00:29:45,819
みたいなインターフェースがあります

584
00:29:45,819 --> 00:29:49,619
これは大体もう保持しないでいいと思うんですけども

585
00:29:49,619 --> 00:29:52,740
保持したいような要件があれば保持すればいいと思います

586
00:29:52,740 --> 00:29:58,200
iOS26からはこのレスポンスの方が

587
00:29:58,200 --> 00:29:59,700
なんとプロトコルになったので

588
00:29:59,700 --> 00:30:02,480
ちょっと短くかけて僕は嬉しいという

589
00:30:02,480 --> 00:30:03,559
ただそれだけですね

590
00:30:03,559 --> 00:30:06,000
でもこの辺の共通化は実は

591
00:30:06,000 --> 00:30:12,900
さっき話した23220の国際標準に習ったというか

592
00:30:12,900 --> 00:30:14,940
その共通化が走っているので

593
00:30:14,940 --> 00:30:18,579
同じパスポートだとか他のIDドキュメントで

594
00:30:18,579 --> 00:30:21,980
同じように使えるように共通化していると理解しています

595
00:30:21,980 --> 00:30:26,299
さっきはプリペアを呼ぶときにいらなかったのは

596
00:30:26,299 --> 00:30:29,259
トークンを取得しているんですけども

597
00:30:29,259 --> 00:30:32,400
これちょっとどういう仕組みか簡単に説明すると

598
00:30:32,400 --> 00:30:34,259
デジタル庁のサーバーとあとは

599
00:30:34,259 --> 00:30:36,279
Apple Business Registerというのがあります

600
00:30:36,279 --> 00:30:40,880
デジタル庁のサーバーで秘密鍵公開鍵の鍵ペアを払い出します

601
00:30:40,880 --> 00:30:44,160
この公開鍵をABRと呼んでますけども

602
00:30:44,160 --> 00:30:45,819
ABRのほうに登録しますと

603
00:30:45,819 --> 00:30:50,619
デジ上のサーバーからIDトークンを払い出してもらって

604
00:30:50,619 --> 00:30:56,740
このトークンをプリペアで送信すると

605
00:30:56,740 --> 00:31:00,019
送信するとABRのほうで公開会議を使って

606
00:31:00,019 --> 00:31:02,019
そのトークンの検証をしますので

607
00:31:02,019 --> 00:31:05,119
そうすると使えますよということなんですけど

608
00:31:05,119 --> 00:31:07,240
なんでやってるのかって話をすると

609
00:31:07,240 --> 00:31:11,079
今このアプリがABRに登録されたブランド

610
00:31:11,079 --> 00:31:12,920
ブランドっていう別概念があるんですけども

611
00:31:12,920 --> 00:31:15,720
そのブランドとちゃんと紐づいていますよねというのと

612
00:31:15,720 --> 00:31:17,880
あとはいわゆるアテステーションですね

613
00:31:17,880 --> 00:31:21,359
ちゃんとリクエストしていいアプリかどうかを

614
00:31:21,359 --> 00:31:22,839
確認しているということですね

615
00:31:22,839 --> 00:31:25,519
こうやってセッションを取ると

616
00:31:25,519 --> 00:31:31,240
下から2番目のPrepareのメソッドに

617
00:31:31,240 --> 00:31:33,839
トークンストリングを渡すことができますと

618
00:31:33,839 --> 00:31:37,220
ここで返ってくる方は

619
00:31:37,220 --> 00:31:40,859
基本的には片付けされた方が返ってきます

620
00:31:40,859 --> 00:31:45,539
名前だったらパーソンネームコンポーネンスという方で返ってきますし

621
00:31:45,539 --> 00:31:48,440
住所だとホスタラードですという方で返ってきて

622
00:31:48,440 --> 00:31:51,539
年齢は当然イントで来てほしいのでイントで来てきますしとか

623
00:31:51,539 --> 00:31:54,440
そういう便利な感じにやってくれるんですけども

624
00:31:54,440 --> 00:31:56,059
実はそれだけじゃなくて

625
00:31:56,059 --> 00:32:01,240
MDocがちゃんと心眼性のあるものかという確認も実はやっていて

626
00:32:01,240 --> 00:32:08,279
MDocの中でモバイルセキュリティオブジェクトを縮めてMSOというオブジェクトがあります

627
00:32:08,279 --> 00:32:11,759
これの検証も実はApple側でやってくれているので

628
00:32:11,759 --> 00:32:14,259
我々は気にせず使うことができます

629
00:32:14,259 --> 00:32:19,759
要するに何も考えずにデータリクエストを使えばいいんですけども

630
00:32:19,759 --> 00:32:23,119
ちょっと一つだけ残念なお知らせがありまして

631
00:32:23,119 --> 00:32:25,420
この住所なんですけども

632
00:32:25,420 --> 00:32:29,460
皆さん住所の分解ってやったことありますかね

633
00:32:29,460 --> 00:32:31,859
日本の住所の文字列があるじゃないですか

634
00:32:31,859 --> 00:32:34,180
それを都道府県だとか市町村とかだね

635
00:32:34,180 --> 00:32:37,039
そういうことは実は難しいということは

636
00:32:37,039 --> 00:32:39,839
ここにいる皆さんは理解してもらえると思うんですけども

637
00:32:39,839 --> 00:32:45,160
これ当然アメリカの住所に倣って最初作っているので

638
00:32:45,160 --> 00:32:47,660
これも超裏話ですけど

639
00:32:47,660 --> 00:32:50,200
担当のエンジニアにお前本当にできるのかと

640
00:32:50,200 --> 00:32:52,880
日本の住所の分解できるのかと言って

641
00:32:52,880 --> 00:32:55,220
ちょっと分からないけどやってみろみたいな感じで言ってたんですけど

642
00:32:55,220 --> 00:32:57,259
できませんでしたと

643
00:32:57,259 --> 00:33:02,019
そういうわけでこれはニールになっちゃうんですけども

644
00:33:02,019 --> 00:33:04,140
ちょっとここ終わってきますねごめんなさい

645
00:33:04,140 --> 00:33:05,480
ニールになっちゃうんですけども

646
00:33:05,480 --> 00:33:08,759
これの話もいましたがよくて

647
00:33:08,759 --> 00:33:11,779
これが壊れてるね

648
00:33:11,779 --> 00:33:15,079
これに出になっちゃうという話なんですけども

649
00:33:15,079 --> 00:33:20,240
そういうときのために使えるAPIとしては

650
00:33:20,240 --> 00:33:22,619
M6の生データを取るというのがありますね

651
00:33:22,619 --> 00:33:24,220
これローデータリクエストといいます

652
00:33:24,220 --> 00:33:27,059
これを使うと取れるんですけども

653
00:33:27,059 --> 00:33:29,660
今言った通り住所以外は取れるんですよ

654
00:33:29,660 --> 00:33:31,460
住所以外は取れてくるので

655
00:33:31,460 --> 00:33:34,559
大体のSKステータリクエストだけでいいんですけども

656
00:33:34,559 --> 00:33:36,059
ローデータを使わなきゃいけないと

657
00:33:36,059 --> 00:33:37,799
ローデータを使うということは

658
00:33:37,799 --> 00:33:40,119
今言ったようなMSOの検証なんかも

659
00:33:40,119 --> 00:33:41,720
自分たちでやらなきゃいけないと

660
00:33:41,720 --> 00:33:43,460
多分この会場の中に

661
00:33:43,460 --> 00:33:45,900
それをやったことがある人はいないと思うんですよ

662
00:33:45,900 --> 00:33:48,079
多分まだいないですよね

663
00:33:48,079 --> 00:33:50,180
大変なんですよ

664
00:33:50,180 --> 00:33:52,099
ちょっと大変さを

665
00:33:52,099 --> 00:33:53,900
簡単に見せますけども

666
00:33:53,900 --> 00:33:55,700
このCBOAというフォーマットは

667
00:33:55,700 --> 00:33:56,640
プレイグランドがあります

668
00:33:56,640 --> 00:33:59,980
CBOA.meというところにアクセスしてもらうと

669
00:33:59,980 --> 00:34:00,920
触れるんですけど

670
00:34:00,920 --> 00:34:02,640
これ映るのかな

671
00:34:02,640 --> 00:34:04,180
ちょっとやってみますね

672
00:34:04,180 --> 00:34:24,760
これMDocのサンプルデータをダンプしているんですけども

673
00:34:24,760 --> 00:34:29,059
左にあるようにいっぱい文字列がバーってあるんですよ

674
00:34:29,059 --> 00:34:31,239
このバッとある文字列は

675
00:34:31,239 --> 00:34:33,940
どういう

676
00:34:33,940 --> 00:34:37,559
intだとかstringだとかの型を表すものと

677
00:34:37,559 --> 00:34:40,840
バリューが入っている長さを表すフィールドと

678
00:34:40,840 --> 00:34:42,860
実際の値が入っているものが

679
00:34:42,860 --> 00:34:44,659
延々と繰り返されていくので

680
00:34:44,659 --> 00:34:46,619
前から順番にパースをしていくんですよ

681
00:34:46,619 --> 00:34:48,440
パーサーはもちろんないので

682
00:34:48,440 --> 00:34:50,119
書かなきゃいけないんですよね

683
00:34:50,119 --> 00:34:51,360
パーサーも書くんですよ

684
00:34:51,360 --> 00:34:54,860
そうすると右みたいなスラクチャーが出てきて

685
00:34:54,860 --> 00:34:58,599
入っているキーとバリューが出てくるんですけど

686
00:34:58,599 --> 00:35:00,619
これも見てもよくわからないんですよね

687
00:35:00,619 --> 00:35:02,519
これ分からんので

688
00:35:02,519 --> 00:35:04,380
これをさらにパースしていくと

689
00:35:04,380 --> 00:35:07,360
欲しいものが取れていくみたいなことをやっていくんですけど

690
00:35:07,360 --> 00:35:09,340
これをやるのは大変なんですよ

691
00:35:09,340 --> 00:35:11,880
僕も書いたんですけど結構大変で

692
00:35:11,880 --> 00:35:13,219
でも頑張るんですよね

693
00:35:13,219 --> 00:35:15,739
頑張るとできるんですけど

694
00:35:15,739 --> 00:35:19,559
そういった苦労を皆さんに伸ばせるのは

695
00:35:19,559 --> 00:35:23,539
よろしくないかなと思ってまして

696
00:35:23,539 --> 00:35:25,860
こういったものを用意しました

697
00:35:25,860 --> 00:35:28,219
ということをやりたかったんですけど

698
00:35:28,219 --> 00:35:29,760
ちょっとまだ準備ができていないので

699
00:35:29,760 --> 00:35:31,639
なさいという感じですね

700
00:35:31,639 --> 00:35:33,900
準備ができたら何かしらあると思います

701
00:35:33,900 --> 00:35:36,179
というわけでIDBリファイアは

702
00:35:36,179 --> 00:35:38,760
ちょっとこういう感じで面白いですよという話をしました

703
00:35:38,760 --> 00:35:40,739
詳細はですね

704
00:35:40,739 --> 00:35:47,000
Apple Developerのウェブサイトに書いてますので

705
00:35:47,000 --> 00:35:49,579
本当に使うことになったらここを読んでいただくと

706
00:35:49,579 --> 00:35:52,340
例えばエンタイトルメントリクエストの仕方だとか

707
00:35:52,340 --> 00:35:55,599
実機とかシミュレーターでのテストの方法みたいなことが

708
00:35:55,599 --> 00:35:56,659
ここにまとまっています

709
00:35:56,659 --> 00:35:59,639
他にも使えるAPIがあるので

710
00:35:59,639 --> 00:36:03,079
ちょっと時間なくなってきたのでざっくりと紹介していくんですけども

711
00:36:03,079 --> 00:36:04,559
主に3種類あります

712
00:36:04,559 --> 00:36:06,980
今紹介したVerifier APIの他には

713
00:36:06,980 --> 00:36:10,420
アプリ内での本人確認に使えるVerifier with Wallet

714
00:36:10,420 --> 00:36:13,480
それから今年のWWDCでアナウンスがありました

715
00:36:13,480 --> 00:36:17,340
ウェブブラウザからM-Lockのリクエストができる

716
00:36:17,340 --> 00:36:20,559
Web Credential APIという3つのAPIがありますが

717
00:36:20,559 --> 00:36:24,980
ちょっとWeb Credential APIはまだリリースされてないので

718
00:36:24,980 --> 00:36:26,559
詳細は話せないんですけども

719
00:36:26,559 --> 00:36:29,079
これができるとどういうことができるかというと

720
00:36:29,079 --> 00:36:30,920
今iPhone2台で見せたんですけども

721
00:36:30,920 --> 00:36:32,360
iPhoneなくても

722
00:36:32,360 --> 00:36:34,739
WebブラウザからiPhoneに対して

723
00:36:34,739 --> 00:36:37,340
M-Docをリクエストできるという機能が

724
00:36:37,340 --> 00:36:38,860
これも標準化されている話

725
00:36:38,860 --> 00:36:42,019
これは18013のパート7ですけども

726
00:36:42,019 --> 00:36:44,039
そこで定義されている話なので

727
00:36:44,039 --> 00:36:46,699
ブラウザが対応すればできると

728
00:36:46,699 --> 00:36:48,360
僕も思っていたんですけども

729
00:36:48,360 --> 00:36:51,599
ブラウザが対応するのは結構大変らしくて

730
00:36:51,599 --> 00:36:53,119
いろいろ掘っていくと

731
00:36:53,119 --> 00:36:55,039
さまざまな事情が見えてきますので

732
00:36:55,039 --> 00:36:57,599
興味がある方は見てくださいと

733
00:36:57,599 --> 00:37:02,840
セッションはこのVerify Identity Documents on the Webというセッションでやっています

734
00:37:02,840 --> 00:37:06,599
なんと4分しかないのでここからさらに書き足になるんですけども

735
00:37:06,599 --> 00:37:09,099
Verify with Walletの話を簡単にします

736
00:37:09,099 --> 00:37:12,780
アプリ内で本人確認ができるAPIなんですけども

737
00:37:12,780 --> 00:37:16,599
これは完全に今やったようなデモみたいに

738
00:37:16,599 --> 00:37:18,239
見せておしまいみたいなことはないので

739
00:37:18,239 --> 00:37:20,840
アプリ内で後続の商品をやるために

740
00:37:20,840 --> 00:37:23,380
特別なエンタイトレメントが必要になっています

741
00:37:23,380 --> 00:37:30,139
このデータはHPKEという方式で暗号化されていて

742
00:37:30,139 --> 00:37:32,519
これで暗号化されているために

743
00:37:32,519 --> 00:37:35,280
実はAppleも不合できないということを

744
00:37:35,280 --> 00:37:36,460
意味しているものです

745
00:37:36,460 --> 00:37:40,800
エンタイトルメントの話は簡単に流しますね

746
00:37:40,800 --> 00:37:43,820
ドキュメントタイプとエレメントを指定すると

747
00:37:43,820 --> 00:37:44,920
できますというのと

748
00:37:44,920 --> 00:37:47,420
もう一個エンタイトルメントが必要で

749
00:37:47,420 --> 00:37:48,780
マンチャントIDという

750
00:37:48,780 --> 00:37:55,539
Apple Payとかウォレットを使うために必要な文字列だと思ってもらえればいいんですけど

751
00:37:55,539 --> 00:37:57,840
それが必要になりますと

752
00:37:57,840 --> 00:38:02,400
流れはPathKitのAPIを使って

753
00:38:02,400 --> 00:38:03,900
ユーザーの同意を得て

754
00:38:03,900 --> 00:38:05,000
HPKを得て

755
00:38:05,000 --> 00:38:06,679
それは自分のサーバーに送るんですね

756
00:38:06,679 --> 00:38:07,900
自前させてサーバーに送って

757
00:38:07,900 --> 00:38:10,639
そこでデクリフトするという風になっています

758
00:38:10,639 --> 00:38:12,659
APIなんですけども

759
00:38:12,659 --> 00:38:16,460
さっき見せたIDのやつと極めて近しいものになっていますが

760
00:38:16,460 --> 00:38:18,579
Verify with Walletっていうのは

761
00:38:18,579 --> 00:38:19,920
PathKitのAPIというのは

762
00:38:19,920 --> 00:38:21,679
イニシエのAPIでして

763
00:38:21,679 --> 00:38:24,219
多分お星の頃から存在しているので

764
00:38:24,219 --> 00:38:26,300
若干ちょっとシンタックスが

765
00:38:26,300 --> 00:38:28,699
古めかしいなという印象がありますね

766
00:38:28,699 --> 00:38:31,179
ちょっと細かいことは省いていきます

767
00:38:31,179 --> 00:38:33,219
呼ぶとこういうのが出ますよ

768
00:38:33,219 --> 00:38:35,500
これでFaceIDで認証してもらえると

769
00:38:35,500 --> 00:38:37,260
MDocが取得できると

770
00:38:37,260 --> 00:38:38,940
HPKは

771
00:38:38,940 --> 00:38:41,619
いわゆる公開鍵暗号と

772
00:38:41,619 --> 00:38:43,780
共通鍵暗号のハイブリッドになっていて

773
00:38:43,780 --> 00:38:46,219
強固なんですよねという話なんですけども

774
00:38:46,219 --> 00:38:48,039
これをデクリプトするのは大変なので

775
00:38:48,039 --> 00:38:50,760
実はデジタルからライブラリーを提供しまして

776
00:38:50,760 --> 00:38:52,340
このカードはだいたい

777
00:38:52,340 --> 00:38:55,420
臨時的記録を使いたいですと申し込みました人に対しては

778
00:38:55,420 --> 00:38:57,199
確認用プログラムというのを提供しています

779
00:38:57,199 --> 00:38:58,619
この確認用プログラムは

780
00:38:58,619 --> 00:39:01,599
サーバーで使うことを想定しているんですけども

781
00:39:01,599 --> 00:39:04,059
そのサーバーにホストしてもらって

782
00:39:04,059 --> 00:39:05,519
取得したHPKを

783
00:39:05,519 --> 00:39:08,300
このプログラムを使って

784
00:39:08,300 --> 00:39:10,539
複合してもらうということをやります

785
00:39:10,539 --> 00:39:12,639
そうすると得られるのは

786
00:39:12,639 --> 00:39:13,139
CBOA

787
00:39:13,139 --> 00:39:15,980
冒頭に説明したCBOAの形式なんですけども

788
00:39:15,980 --> 00:39:17,519
中から掘っていくと

789
00:39:17,519 --> 00:39:19,079
このエレメントというところに

790
00:39:19,079 --> 00:39:22,199
アイデンティファイアとキーバイアの形式で

791
00:39:22,199 --> 00:39:22,900
入っていて

792
00:39:22,900 --> 00:39:27,519
データが取れますよという話になっております

793
00:39:27,519 --> 00:39:31,940
これがVerify is all rightなんですけども

794
00:39:31,940 --> 00:39:33,099
セッションもありますし

795
00:39:33,099 --> 00:39:36,739
同じようにApple Developerにありますので

796
00:39:36,739 --> 00:39:37,500
利用する方

797
00:39:37,500 --> 00:39:39,260
多分アプリ内で使いたいのは

798
00:39:39,260 --> 00:39:41,579
どっちかというとこっちのSKACEの方が大きいと思いますので

799
00:39:41,579 --> 00:39:43,099
ぜひ調べてもらって

800
00:39:43,099 --> 00:39:46,000
使いたい方はAppleにも申請がいるので

801
00:39:46,000 --> 00:39:48,260
Appleに申請してもらうと

802
00:39:48,260 --> 00:39:50,059
担当者とつながれると思いますので

803
00:39:50,059 --> 00:39:52,659
そこで詳細聞いてもらうといいかなと思います

804
00:39:52,659 --> 00:39:57,380
書き足でこれからの話を簡単にするんですけども

805
00:39:57,380 --> 00:39:58,900
ちょうど昨日かな

806
00:39:58,900 --> 00:39:59,980
昨日か一昨日か

807
00:39:59,980 --> 00:40:00,880
一昨日かな

808
00:40:00,880 --> 00:40:02,019
なんですけども

809
00:40:02,019 --> 00:40:04,559
Androidでも同じようにM-Docの対応をします

810
00:40:04,559 --> 00:40:05,500
という発表をしました

811
00:40:05,500 --> 00:40:08,000
Androidは実は電子証明書は先行して

812
00:40:08,000 --> 00:40:09,820
利用することができていて

813
00:40:09,820 --> 00:40:11,380
マイナポータルのログインなんかに

814
00:40:11,380 --> 00:40:12,800
使われていたんですけども

815
00:40:12,800 --> 00:40:15,079
このM-Doc対応で今言った話と

816
00:40:15,079 --> 00:40:17,059
同じようなことができるようになっています

817
00:40:17,059 --> 00:40:19,179
これが2026年を予定しています

818
00:40:19,179 --> 00:40:21,500
マイナス保険証も始まっていますし

819
00:40:21,500 --> 00:40:25,139
将来的にもしかしたら免許証で何かあるかもしれませんけど

820
00:40:25,139 --> 00:40:29,900
そういういろんなインテグレーションが進んでいくというような格好になると思います

821
00:40:29,900 --> 00:40:32,920
こんな感じなんですけども

822
00:40:32,920 --> 00:40:35,500
これやるの結構時間かかったんですよ

823
00:40:35,500 --> 00:40:41,940
結構かかりました大変でしたって話を皆さんにしたかったわけではなくて

824
00:40:41,940 --> 00:40:46,159
皆さんの手元にあって使えるものになってますし

825
00:40:46,159 --> 00:40:47,260
皆さん開発者ですので

826
00:40:47,260 --> 00:40:49,659
ちょっと今の話聞いて使ってみたいなと思ったら

827
00:40:49,659 --> 00:40:50,820
ぜひ使ってみてほしいんですよ

828
00:40:50,820 --> 00:40:53,780
先進的な取り組みなゆえに

829
00:40:53,780 --> 00:40:55,619
まだユースケースそんなにないんですよね

830
00:40:55,619 --> 00:40:58,920
このM-Docだけを使って何かしようみたいなユースケースって

831
00:40:58,920 --> 00:41:01,519
これから発明しかなきゃいけない

832
00:41:01,519 --> 00:41:02,820
そういうものになってまして

833
00:41:02,820 --> 00:41:05,539
そういう先進的なものを

834
00:41:05,539 --> 00:41:07,199
うちが出してしまったので

835
00:41:07,199 --> 00:41:09,619
あとは皆さんに使ってもらうしかないんですよね

836
00:41:09,619 --> 00:41:12,139
なのでぜひ使っていただきたいなと思いますし

837
00:41:12,139 --> 00:41:17,440
こうやって日本のデジタル化がちょっとずつでも進んでいますよということを

838
00:41:17,440 --> 00:41:20,460
こういう場で皆さんにお伝えできたこと本当に嬉しいなと思いますし

839
00:41:20,460 --> 00:41:23,960
ぜひ使ってみて皆さんの感想だとか

840
00:41:23,960 --> 00:41:26,239
こういうところをやってほしいんだけどみたいな

841
00:41:26,239 --> 00:41:27,860
そういうディスカッションができると

842
00:41:27,860 --> 00:41:30,619
さらに日本のデジタル化が前に進むと思いますので

843
00:41:30,619 --> 00:41:34,679
ぜひ一緒に日本のデジタル化を進めていただければなと思います

844
00:41:34,679 --> 00:41:36,420
それでは私の発表は以上となります

845
00:41:36,420 --> 00:41:36,760
ありがとうございました

846
00:41:39,619 --> 00:41:48,099
発表ありがとうございました

847
00:41:48,099 --> 00:41:51,559
それではQ&Aに入りたいと思います

848
00:41:51,559 --> 00:41:54,760
コメントやご質問のある方は手を挙げてお知らせください

849
00:41:54,760 --> 00:41:58,619
マイクをお持ちします

850
00:41:58,619 --> 00:42:03,039
本も満席ですねありがとうございます

851
00:42:03,039 --> 00:42:05,199
ありがとうございます

852
00:42:05,199 --> 00:42:07,739
発表大変興味深かったです

853
00:42:07,739 --> 00:42:10,659
特別なエンタイトルメンツとか

854
00:42:10,659 --> 00:42:15,139
あとは日本用に作られたクラスのレビューとかで

855
00:42:15,139 --> 00:42:17,739
いろいろ特別なアカウントとして

856
00:42:17,739 --> 00:42:21,699
Appleとやり取りされているんだろうなということを思ったんですけど

857
00:42:21,699 --> 00:42:25,920
例えばアプリの審査のフローに特別なことがあるとか

858
00:42:25,920 --> 00:42:28,420
あるいはApp Store Connectに

859
00:42:28,420 --> 00:42:32,500
例えば我々一般の開発者には見えない特別なメニューがあるとか

860
00:42:32,500 --> 00:42:35,559
そのあたりもしお話いただけることだったら教えてください

861
00:42:35,559 --> 00:42:39,860
話せないと言っちゃうとちょっとあれなんですけど

862
00:42:39,860 --> 00:42:43,239
エンタイトルメントに関しては付与されてしまえば

863
00:42:43,239 --> 00:42:44,500
同じように使えるんですよ

864
00:42:44,500 --> 00:42:48,159
要するに証明書のサイニングの段階で

865
00:42:48,159 --> 00:42:49,639
バリデーションを発信したりだとか

866
00:42:49,639 --> 00:42:52,280
ビルドするタイミングでチェックしているので

867
00:42:52,280 --> 00:42:53,760
要はプロビジョニングプロファイルに

868
00:42:53,760 --> 00:42:55,400
そういう権威があればいいので

869
00:42:55,400 --> 00:42:58,039
実はエンタイトルメントの仕組み自体は

870
00:42:58,039 --> 00:43:00,480
他のエンタイトルメントと全く一緒なので

871
00:43:00,480 --> 00:43:01,840
特別なアカウントがいるかというと

872
00:43:01,840 --> 00:43:03,059
全くそういうことはないんですけど

873
00:43:03,059 --> 00:43:05,900
当然リリース前のテストデータを使うだとか

874
00:43:05,900 --> 00:43:06,980
そういう話になると

875
00:43:06,980 --> 00:43:08,260
当然いろんな話

876
00:43:08,260 --> 00:43:09,980
今後の話が出てきますし

877
00:43:09,980 --> 00:43:11,940
審査の話をすると

878
00:43:11,940 --> 00:43:13,139
別に審査のチームに

879
00:43:13,139 --> 00:43:16,119
これの話が共有されているわけではないので

880
00:43:16,119 --> 00:43:19,400
レビューは実は初めて見ますみたいな機能があったりするんですよ

881
00:43:19,400 --> 00:43:22,099
そういうものは皆さんもやっていると思いますけど

882
00:43:22,099 --> 00:43:24,500
動画を添付したりだとか

883
00:43:24,500 --> 00:43:26,539
ちょっと説明を書いたりだとか

884
00:43:26,539 --> 00:43:29,340
そういうことをやってレビューをクリアするという風になります

885
00:43:29,340 --> 00:43:34,619
国の機関だから取れないエンターテレメントであるみたいな

886
00:43:34,619 --> 00:43:35,440
そういうことでもない

887
00:43:35,440 --> 00:43:37,159
それで言うと

888
00:43:37,159 --> 00:43:39,519
やっぱりさっき言ったマイナンバーみたいな話になると

889
00:43:39,519 --> 00:43:41,460
あれって法令に書かれているので

890
00:43:41,460 --> 00:43:43,780
じゃあAppleが使っていいよと言ったからといって

891
00:43:43,780 --> 00:43:45,980
うちがいいというとは限らないんですよ

892
00:43:45,980 --> 00:43:48,039
そこがちょっとこれからどうなっていくか

893
00:43:48,039 --> 00:43:49,519
ちょっと難しいんですけども

894
00:43:49,519 --> 00:43:50,780
そういう縛りはあるんですが

895
00:43:50,780 --> 00:43:52,440
他のところに関しては

896
00:43:52,440 --> 00:43:54,199
Appleの基準に合っているのと

897
00:43:54,199 --> 00:43:56,260
うちの基準に合っていれば基本的には使えます

898
00:43:56,260 --> 00:43:57,420
ありがとうございます

899
00:43:57,420 --> 00:44:00,539
ありがとうございました

900
00:44:00,539 --> 00:44:02,880
他にコメントやご質問のある方

901
00:44:02,880 --> 00:44:03,900
挙手お願いします

902
00:44:03,900 --> 00:44:09,159
もしもし

903
00:44:09,159 --> 00:44:12,679
ウォレットのマイナンバーのところが

904
00:44:12,679 --> 00:44:15,500
動かすとキラキラ飾りが出るのが

905
00:44:15,500 --> 00:44:17,420
コードで書かれていると言っていたんですけど

906
00:44:17,420 --> 00:44:19,800
ウォレットアプリ自体は

907
00:44:19,800 --> 00:44:21,539
アップルが配布しているアプリだから

908
00:44:21,539 --> 00:44:23,719
デジタル庁のエンジニアが

909
00:44:23,719 --> 00:44:25,719
そのエフェクトだけ実装して

910
00:44:25,719 --> 00:44:28,039
コードかライブラリか何かにして

911
00:44:28,039 --> 00:44:29,300
Appleに渡して

912
00:44:29,300 --> 00:44:31,219
それがウォレットアプリに組み込まれて

913
00:44:31,219 --> 00:44:34,440
配布されているみたいな仕掛けでできているんですか

914
00:44:34,440 --> 00:44:35,199
これはですね

915
00:44:35,199 --> 00:44:37,300
ウォレットチームのエンジニアが作ってくれました

916
00:44:37,300 --> 00:44:39,039
じゃあ完全にAppleが作った

917
00:44:39,039 --> 00:44:39,619
完全に

918
00:44:39,619 --> 00:44:42,199
デザインはこういう風にしますよってすり合わせをしたら

919
00:44:42,199 --> 00:44:43,880
あとはもう全部やってくれたって感じです

920
00:44:43,880 --> 00:44:44,099
なるほど

921
00:44:44,099 --> 00:44:49,500
ありがとうございました

922
00:44:49,500 --> 00:44:52,760
お時間的に次が最後になりそうです

923
00:44:52,760 --> 00:44:54,440
他にコメントやご質問のある方

924
00:44:54,440 --> 00:44:55,539
挙手をお願いします

925
00:44:55,539 --> 00:45:00,619
貴重な話ありがとうございます

926
00:45:00,619 --> 00:45:06,199
民間企業のアプリとかでも確定申告するアプリであると思うんですけど

927
00:45:06,199 --> 00:45:09,900
確定申告したい人が作った文書に対して

928
00:45:09,900 --> 00:45:11,880
実物のマイナンバーカードとかで

929
00:45:11,880 --> 00:45:16,179
JPKやライブラリとかで電子証明するアプリみたいなのがあると思うんですけど

930
00:45:16,179 --> 00:45:20,500
それをこのiPhoneのマイナンバーカードで実現しようとすると

931
00:45:20,500 --> 00:45:23,619
最初の方にあったシグネチャーメソッドみたいなのが

932
00:45:23,619 --> 00:45:24,840
それに当たるのかなと思って

933
00:45:24,840 --> 00:45:27,960
その認識が合っているのかというのと

934
00:45:27,960 --> 00:45:32,400
あと実際それを使うには特別なエンタイトレイメントが必要みたいな話があったので

935
00:45:32,400 --> 00:45:39,000
民間企業が技術的にはできるけどそもそも使えるかどうかみたいなところだと

936
00:45:39,000 --> 00:45:43,320
使えないのかなというイメージがありました

937
00:45:43,320 --> 00:45:45,719
そこが今後使えるようになるのかみたいなところ

938
00:45:45,719 --> 00:45:49,760
もし今お話できるのがあればお聞きしたいです

939
00:45:49,760 --> 00:45:53,159
これもまだ100%決まっていないんですけども

940
00:45:53,159 --> 00:45:55,000
決まってないというか

941
00:45:55,000 --> 00:45:57,519
今はマイナポータルアプリを経由して

942
00:45:57,519 --> 00:46:00,480
マイナポータルアプリ上で証明書を取り出して

943
00:46:00,480 --> 00:46:01,500
それでサインをして

944
00:46:01,500 --> 00:46:04,840
連携本に戻すという風な方式になっていると思います

945
00:46:04,840 --> 00:46:07,179
なのでそれができている以上は

946
00:46:07,179 --> 00:46:09,639
皆さんでさっきのJPKIコンテンツを

947
00:46:09,639 --> 00:46:11,199
読んでいただく必要はなくて

948
00:46:11,199 --> 00:46:13,820
マイナポータルアプリでやっていただければ

949
00:46:13,820 --> 00:46:15,199
十分と考えています

950
00:46:15,199 --> 00:46:18,179
失礼しました ありがとうございます

951
00:46:18,179 --> 00:46:22,139
それではお時間になりましたので

952
00:46:22,139 --> 00:46:24,300
Q&Aを終了させていただきます

953
00:46:24,300 --> 00:46:27,139
続けて1分間フィードバックのお時間です

954
00:46:27,139 --> 00:46:32,400
1分間フィードバックのお時間です

955
00:46:32,400 --> 00:46:35,480
スクリーンのQRコードを読み取って

956
00:46:35,480 --> 00:46:37,500
フィードバックを送ってください

957
00:46:37,500 --> 00:46:44,260
このフィードバックコメントは集めてですね

958
00:46:44,260 --> 00:46:46,900
養成官の方にも共有してきたらいいなと思っていて

959
00:46:46,900 --> 00:46:49,920
もちろん私の感想を書いてもらってもいいんですけど

960
00:46:49,920 --> 00:46:54,239
もし届けられるメッセージがあればぜひ書いていただいたら

961
00:46:54,239 --> 00:46:55,300
ダウンおれしいです

962
00:47:19,920 --> 00:47:49,900
ご視聴ありがとうございました

963
00:47:49,920 --> 00:47:51,920
それでは松田さんありがとうございました

964
00:47:51,920 --> 00:47:52,920
ありがとうございました

965
00:47:52,920 --> 00:48:01,139
この後実はここでTVerという会社のスポンサーセッションがありまして

966
00:48:01,139 --> 00:48:03,440
僕ちょっとTVer手伝っているのにそれ見たいんで

967
00:48:03,440 --> 00:48:05,019
申し訳ないんですけど

968
00:48:05,019 --> 00:48:08,519
それが終わった後にずっといるようにしますんで

969
00:48:08,519 --> 00:48:11,559
そっちに質問を持ってきていただけるとありがたいです

970
00:48:11,559 --> 00:48:11,920
ありがとうございます

