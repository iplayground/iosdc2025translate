1
00:00:00,000 --> 00:00:05,900
では見てねのiOSアプリにおけるバックグラウンドアップロードを継続の挑戦ということで

2
00:00:05,900 --> 00:00:07,360
お送りさせていただきます

3
00:00:07,360 --> 00:00:14,839
自己紹介です

4
00:00:14,839 --> 00:00:17,679
佐藤光と申します

5
00:00:17,679 --> 00:00:25,280
株式会社ミクシーの見てね事業本部の家族アルバム見てねのiOSエンジニアをやらせていただいております

6
00:00:25,280 --> 00:00:31,600
今日話す内容は見てねとはと

7
00:00:31,600 --> 00:00:35,820
あと去年見てねで実装したバックグラウンドアップロードについてと

8
00:00:35,820 --> 00:00:44,060
去年解決した課題と採用した解決案を今後やりたいことと

9
00:00:44,060 --> 00:00:47,060
あとiOS26の活用ですね

10
00:00:47,060 --> 00:00:55,119
まずは見てねとはなんですけども

11
00:00:55,119 --> 00:00:56,780
見てね使ってますありがとうございます

12
00:00:56,780 --> 00:01:05,040
子供の写真と動画を家族に共有してコミュニケーションを楽しむスマホアプリです

13
00:01:05,040 --> 00:01:10,599
写真動画を無料無制限に共有できます

14
00:01:10,599 --> 00:01:15,700
ここで聞きたいことがあって

15
00:01:15,700 --> 00:01:21,719
この今見てる方で見てね使ってる方ってどのくらいいらっしゃいますか

16
00:01:21,719 --> 00:01:22,700
ちょっと挙手をお願いします

17
00:01:22,700 --> 00:01:32,980
20%ぐらいですかね

18
00:01:32,980 --> 00:01:34,260
すいませんまたちょっと後で

19
00:01:34,260 --> 00:01:36,260
ご意見感が欲しいです

20
00:01:36,260 --> 00:01:36,620
ありがとうございます

21
00:01:36,620 --> 00:01:43,079
次なんですけども

22
00:01:43,079 --> 00:01:45,239
見てねにおいて

23
00:01:45,239 --> 00:01:47,939
写真と動画は共有するアプリなので

24
00:01:47,939 --> 00:01:50,019
アップロードはとても重要です

25
00:01:50,019 --> 00:01:54,000
アップロード体験の改善が今回のテーマとなっております

26
00:01:54,000 --> 00:02:02,599
去年アップロードに関して解決した課題なんですけど

27
00:02:02,599 --> 00:02:06,680
まず課題が何だったかっていうところなんですけども

28
00:02:06,680 --> 00:02:10,759
画像動画のアップロード中にバックグラウンドを遷移すると

29
00:02:10,759 --> 00:02:15,180
30分でアップロードが中断してしまうっていう課題がありまして

30
00:02:15,180 --> 00:02:20,199
これがiOSのビギンバックランドタスクっていう

31
00:02:20,199 --> 00:02:22,020
ご存知の方も多いかと思うんですけど

32
00:02:22,020 --> 00:02:24,240
それの制限となっており

33
00:02:24,240 --> 00:02:28,719
見てねでは中断されてしまうっていうのがあるんで

34
00:02:28,719 --> 00:02:32,800
アップロード中にアプリをずっと開き続けてはいけないっていうのがありました

35
00:02:32,800 --> 00:02:39,340
見てねでは一度に多くの画像動画をアップロードするっていうのが

36
00:02:39,340 --> 00:02:40,759
ユーザーの傾向としてあるんで

37
00:02:40,759 --> 00:02:44,979
この制限でアップロードが中断されやすいっていうのがありました

38
00:02:44,979 --> 00:02:51,360
中断されたときっていうのは

39
00:02:51,360 --> 00:02:53,419
今はちょっとこの表示出るのがだいぶ

40
00:02:53,419 --> 00:02:56,039
出る条件がだいぶ少ないんですけども

41
00:02:56,039 --> 00:02:58,379
こういった感じでアップロードされて

42
00:02:58,379 --> 00:03:00,199
アップロード中断されて

43
00:03:00,199 --> 00:03:03,979
ああみたいな感じでまた開き直してアップロードが

44
00:03:03,979 --> 00:03:05,939
一応途中から始まるんですけど

45
00:03:05,939 --> 00:03:08,060
始まるみたいな感じになってました

46
00:03:08,060 --> 00:03:17,699
まずその課題に対してどういった解決策を検討したかというところで

47
00:03:17,699 --> 00:03:24,180
まず一つ目が割と去年に関しては王道のやつだったと思うんですけど

48
00:03:24,180 --> 00:03:29,840
BGプロセッシングタスクを解決策として検討しており

49
00:03:29,840 --> 00:03:34,300
一応社内で動作レビュー会とかもやったんですけども

50
00:03:34,300 --> 00:03:38,560
この仕様が見てないアップロード合わなかったという感じでした

51
00:03:38,560 --> 00:03:42,919
合わなかったところがここに書いているようなところなんですけど

52
00:03:42,919 --> 00:03:47,479
深夜で10前中で5分程度1回の処理時間があって

53
00:03:47,479 --> 00:03:49,580
30分ごとに

54
00:03:49,580 --> 00:03:52,080
大体30分ごとって決まったんですけど

55
00:03:52,080 --> 00:03:54,719
ぐらいに動くみたいな感じなんですけども

56
00:03:54,719 --> 00:03:56,979
まず深夜に動いてしまうと

57
00:03:56,979 --> 00:03:59,139
アップロードが終わった時に

58
00:03:59,139 --> 00:04:01,879
完了の通知が見てないだと思うんですけども

59
00:04:01,879 --> 00:04:03,180
それが深夜に飛んでしまって

60
00:04:03,180 --> 00:04:07,840
家族の人には夜まで起きてたみたいな風に思われてしまうみたいな

61
00:04:07,840 --> 00:04:09,599
そういう懸念とかあったりして

62
00:04:09,599 --> 00:04:12,560
このまま左右しなかったという感じです

63
00:04:12,560 --> 00:04:17,839
2つ目

64
00:04:17,839 --> 00:04:20,019
解決案2つ目

65
00:04:20,019 --> 00:04:21,839
一応ライブアクティビティも

66
00:04:21,839 --> 00:04:26,100
こういうのもいけるんじゃないみたいな感じで検討したんですけども

67
00:04:26,100 --> 00:04:28,759
YetExcessionの一種なんで

68
00:04:28,759 --> 00:04:33,339
アプリ側の処理を継続するっていうことはできなかったっていう感じでした

69
00:04:33,339 --> 00:04:40,279
解決案の3つ目が

70
00:04:40,279 --> 00:04:42,480
これを採用したんですけども

71
00:04:42,480 --> 00:04:46,779
ピクチャーインピクチャーでプロトタイプを作って

72
00:04:46,779 --> 00:04:49,519
プロトタイプこういう感じで作ったんですけど

73
00:04:49,519 --> 00:04:52,060
このUIでピクチャーインピクチャーの

74
00:04:52,060 --> 00:04:55,139
この動画の操作ボタンみたいなのが出ちゃうんですけども

75
00:04:55,139 --> 00:04:58,660
一応これでバックグラウンドのアップロードが

76
00:04:58,660 --> 00:05:03,800
先ほどの30秒の制限と関係なく継続されたっていうのがあったんで

77
00:05:03,800 --> 00:05:05,160
この案を採用しました

78
00:05:05,160 --> 00:05:13,860
次が実際にリリースした機能なんですけど

79
00:05:13,860 --> 00:05:17,180
これ動いてる

80
00:05:17,180 --> 00:05:19,779
動いてる?あれ動いてない?

81
00:05:23,779 --> 00:05:29,660
動画動かないです

82
00:05:29,660 --> 00:05:31,699
また資料アップロードするんで

83
00:05:31,699 --> 00:05:34,839
ちょっとそれで見てもらえばっていう感じです

84
00:05:34,839 --> 00:05:39,240
実際アップロードすると

85
00:05:39,240 --> 00:05:41,459
これ動くほんと動かすぎそうですねすいません

86
00:05:41,459 --> 00:05:48,600
こんな感じのピクチャーインピクチャーの表示がされて

87
00:05:48,600 --> 00:05:53,759
アップロード中にバックグラウンドを遷移すると

88
00:05:53,759 --> 00:05:57,939
UIVをピクチャーインピクチャーで表示することで

89
00:05:57,939 --> 00:06:02,800
アップロードを継続するということを機能としてリリースしました

90
00:06:02,800 --> 00:06:09,540
この機能はMitene Premium Pro限定の機能となっています

91
00:06:09,540 --> 00:06:13,620
チョンミキシーでも特許の出願をしております

92
00:06:13,620 --> 00:06:17,560
ここでも聞きたいことがあって

93
00:06:17,560 --> 00:06:22,480
このMiteneのアップロード中にバックグラウンドを遷移すると

94
00:06:22,480 --> 00:06:26,019
ここも表示がピクチャーインピクチャーで表示されるんですけど

95
00:06:26,019 --> 00:06:29,680
これに気づいている方っていうのはどのくらいいたら

96
00:06:29,680 --> 00:06:32,300
挙手してもらいたいんですけども

97
00:06:32,300 --> 00:06:35,540
誰もいないっていう感じですね

98
00:06:35,540 --> 00:06:42,480
ちなみに見てねを使っている方

99
00:06:42,480 --> 00:06:45,160
何人かいらっしゃったと思うんですけども

100
00:06:45,160 --> 00:06:47,740
見てねプレミアムに入っている方っていうのは

101
00:06:47,740 --> 00:06:50,120
どのくらいいらっしゃるんでしょうか

102
00:06:50,120 --> 00:06:53,600
2人

103
00:06:53,600 --> 00:06:54,800
ありがとうございます

104
00:06:54,800 --> 00:06:58,939
プレミアムプロっていう上位プランもあるんですけど

105
00:06:58,939 --> 00:07:00,259
それに入っている

106
00:07:00,259 --> 00:07:04,620
プレミアムプランですかね

107
00:07:04,620 --> 00:07:06,759
なるほどすいませんありがとうございます

108
00:07:06,759 --> 00:07:11,040
プレミアムプロだと上位の月1000円ぐらいかかるやつなんですけど

109
00:07:11,040 --> 00:07:13,139
それに入っていると出るという感じです

110
00:07:13,139 --> 00:07:22,600
次が解決策生まれた背景なんですけども

111
00:07:22,600 --> 00:07:25,279
BGプロセッシングタスクの案で

112
00:07:25,279 --> 00:07:29,600
社内の動作レビューやろうっていう風にして

113
00:07:29,600 --> 00:07:34,500
その前にみんなどういう感じでレビューお願いしようかっていうところで

114
00:07:34,500 --> 00:07:39,180
数人で4人ぐらいで相談したときに出たアイデアの一つで

115
00:07:39,180 --> 00:07:42,839
そのときにピクチャーインピクチャーって

116
00:07:42,839 --> 00:07:45,500
あれってアプリのプロセス継続できてるのかな

117
00:07:45,500 --> 00:07:48,079
できてそうじゃねみたいなそんな話をしてて

118
00:07:48,079 --> 00:07:52,759
ちょっと試しに作って組み込んでみたら

119
00:07:52,759 --> 00:07:55,300
バックローンの制限突破してきてるじゃんみたいな

120
00:07:55,300 --> 00:07:56,360
みたいな風になって

121
00:07:56,360 --> 00:07:59,199
なりましたと

122
00:07:59,199 --> 00:08:00,459
一応話してる中では

123
00:08:00,459 --> 00:08:04,759
ピクチャーインピクチャーでアプリのプロセスを維持できるんだったら

124
00:08:04,759 --> 00:08:08,500
適切なそれらしいローカルの動画を流して

125
00:08:08,500 --> 00:08:12,819
流しながらアップロード継続するのもありなんじゃないかみたいな話も

126
00:08:12,819 --> 00:08:16,639
その時はして盛り上がっていたという感じです

127
00:08:16,639 --> 00:08:24,180
その仕組みなんですけどもざっくりこういう感じになっており

128
00:08:24,180 --> 00:08:28,500
UI Viewをビデオフレームに変換して

129
00:08:28,500 --> 00:08:31,660
ピクチャーインピクチャーで表示するという

130
00:08:31,660 --> 00:08:33,799
そういうことをしております

131
00:08:33,799 --> 00:08:40,340
このビデオフレームに変換するというのは

132
00:08:40,340 --> 00:08:43,340
ピクチャーインピクチャーが表示できるのが

133
00:08:43,340 --> 00:08:46,340
ビデオフレームだからというので変換しているという感じですね

134
00:08:46,340 --> 00:08:56,000
この案はこういった参考資料を非常に参考にさせていただいたんですけど

135
00:08:56,000 --> 00:09:01,500
こういうのがもともとあるなみたいなのが

136
00:09:01,500 --> 00:09:03,200
ちょっと頭の中にあったりして

137
00:09:03,200 --> 00:09:05,799
それでできたみたいな感じですね

138
00:09:05,799 --> 00:09:14,379
次に難しかったところなんですけども

139
00:09:14,379 --> 00:09:19,500
大きく3つあります

140
00:09:19,500 --> 00:09:23,460
UIビューをピクチャーインピクチャーで表示されるのが

141
00:09:23,460 --> 00:09:25,980
実装そのものが難しいっていうところと

142
00:09:25,980 --> 00:09:30,519
あとバックグラウンド遷移時に自動でPIPを開始するっていうところ

143
00:09:30,519 --> 00:09:34,960
あとピクチャーインピクチャーのUIの表示や制限もあり

144
00:09:34,960 --> 00:09:37,539
この辺りが難しかったです

145
00:09:37,539 --> 00:09:47,519
難しかったところを一つずつちょっと深掘りしていくんですけども

146
00:09:47,519 --> 00:09:53,279
まずUIVをピクチャーインピクチャーで表示するための実装ですが

147
00:09:53,279 --> 00:09:59,059
これがまずその実装そのものが難しいという

148
00:09:59,059 --> 00:10:01,159
このビデオフレームに変換するっていうのが

149
00:10:01,159 --> 00:10:02,779
参考資料すごいあるんですけども

150
00:10:02,779 --> 00:10:06,039
なんかやっぱりいろいろと難しかったっていう感じですね

151
00:10:06,039 --> 00:10:11,659
あとはピクチャーインピクチャーを開始できるようにするための条件みたいのがあって

152
00:10:11,659 --> 00:10:14,759
こういったバックグラウンドモードの条件だ

153
00:10:14,759 --> 00:10:16,940
バックグラウンドモードのチェックですね

154
00:10:16,940 --> 00:10:18,860
チェックだったり

155
00:10:18,860 --> 00:10:26,080
AVオーディオセッションのセットカテゴリープレイバックが必要とかだったり

156
00:10:26,080 --> 00:10:28,240
なかなか気づけないというか

157
00:10:28,240 --> 00:10:30,679
一応参考資料に書いてあったりしたんですけど

158
00:10:30,679 --> 00:10:33,039
そういうのが難しくて

159
00:10:33,039 --> 00:10:36,120
あとピクチャーインピクチャーが開始されなくても

160
00:10:36,120 --> 00:10:38,500
エラーが返ってこないっていうことがよくあって

161
00:10:38,500 --> 00:10:40,620
それで何か開始されないみたいな

162
00:10:40,620 --> 00:10:43,440
そういう感じになってしまったという感じでした

163
00:10:43,440 --> 00:10:48,980
一応実装を思い出すために

164
00:10:48,980 --> 00:10:53,000
最小限のコードでサンプルコードも公開してみたので

165
00:10:53,000 --> 00:10:56,279
後で興味ある方は見ていただければと思います

166
00:10:56,279 --> 00:11:05,440
次が実装難しいところの一例ですね

167
00:11:05,440 --> 00:11:07,679
この赤枠のところ

168
00:11:07,679 --> 00:11:09,600
インピクチャーインピクチャーみたいな

169
00:11:09,600 --> 00:11:10,740
別にこんな文字列

170
00:11:10,740 --> 00:11:13,100
ラベルで表示してるとかないんですけど

171
00:11:13,100 --> 00:11:15,240
これが自動で入ってくるとか

172
00:11:15,240 --> 00:11:16,919
そういうのがあったりして

173
00:11:16,919 --> 00:11:19,679
これを見えないように透明にするとか

174
00:11:19,679 --> 00:11:21,580
そういった工夫があったりします

175
00:11:21,580 --> 00:11:27,100
難しかったところの2つ目ですね

176
00:11:27,100 --> 00:11:30,899
自動でバックグラウンド10001自動で

177
00:11:30,899 --> 00:11:32,759
ピクチャインピッチを開始するんです

178
00:11:32,759 --> 00:11:39,240
これが自動で開始するっていう

179
00:11:39,240 --> 00:11:43,120
そういうプロパティ自体はあるんですけど

180
00:11:43,120 --> 00:11:45,860
これが動作する条件っていうのが

181
00:11:45,860 --> 00:11:48,700
特にドキュメントに書いてあるっていう

182
00:11:48,700 --> 00:11:50,320
よく見たら書いてるかもしれないですけど

183
00:11:50,320 --> 00:11:54,159
見つけられず難しかったという感じです

184
00:11:54,159 --> 00:11:56,059
条件が

185
00:11:56,059 --> 00:11:58,360
読み上げると

186
00:11:58,360 --> 00:12:01,200
AP sample buffer display layerという

187
00:12:01,200 --> 00:12:03,700
先ほどのビデオフレームですね

188
00:12:03,700 --> 00:12:05,539
それが描画されている

189
00:12:05,539 --> 00:12:07,340
事前に描画されているだったり

190
00:12:07,340 --> 00:12:09,700
バックグローン線に前に

191
00:12:09,700 --> 00:12:12,379
ピクチャーインピクチャーコントローラー初期化されている

192
00:12:12,379 --> 00:12:13,480
だったり

193
00:12:13,480 --> 00:12:15,139
あとデリゲートの

194
00:12:15,139 --> 00:12:17,100
こちらのメソッドの物理値が

195
00:12:17,100 --> 00:12:18,159
ファルスになっているとか

196
00:12:18,159 --> 00:12:21,299
そういった条件が見えない条件みたいなのが

197
00:12:21,299 --> 00:12:22,919
いろいろあったという感じですね

198
00:12:22,919 --> 00:12:24,240
はい

199
00:12:24,240 --> 00:12:31,279
デリゲートのコードもこういう感じというか

200
00:12:31,279 --> 00:12:34,200
見てるのが今使ってるのがこんな感じなんですけども

201
00:12:34,200 --> 00:12:35,200
こういう感じであります

202
00:12:35,200 --> 00:12:41,139
あとバックグラウンドの先進自動で

203
00:12:41,139 --> 00:12:43,480
ピクチャーにピクチャーを開始するために

204
00:12:43,480 --> 00:12:45,379
やってることなんですけども

205
00:12:45,379 --> 00:12:49,379
ルートのウィンドウにピクチャーインピクチャーのUIビューを

206
00:12:49,379 --> 00:12:52,879
こういった形で見えないように追加しており

207
00:12:52,879 --> 00:12:58,419
これは何でかというとアプログ中はアプリのどの画面から

208
00:12:58,419 --> 00:13:02,620
バックラウンスにしたときでもピクチャーインピクチャーを開始するっていうのを

209
00:13:02,620 --> 00:13:05,799
できるようにするためこういう感じの構成にしています

210
00:13:05,799 --> 00:13:15,360
3つ目ピクチャーインピクチャーのUIの表示制限回り

211
00:13:15,360 --> 00:13:20,519
ちょっとなんかすごい緊張するんで

212
00:13:20,519 --> 00:13:22,299
ちょっと一回深呼吸していいですか

213
00:13:22,299 --> 00:13:29,600
すいません

214
00:13:29,600 --> 00:13:32,879
あと何分かも12分

215
00:13:32,879 --> 00:13:38,139
大丈夫になりました

216
00:13:38,139 --> 00:13:41,200
ありがとうございます

217
00:13:41,200 --> 00:13:45,960
で、ピクチャーインピクチャーのUIはこういう

218
00:13:45,960 --> 00:13:48,200
ゆっくりで合われています

219
00:13:48,200 --> 00:13:54,600
こういう感じのUIが表示されていますと

220
00:13:54,600 --> 00:14:00,320
で、えっと

221
00:14:00,320 --> 00:14:01,519
そうですね

222
00:14:01,519 --> 00:14:03,620
ありがとうございます

223
00:14:03,620 --> 00:14:13,919
このピクチャーインピクチャーって動画向けのモジュールだったりするんで

224
00:14:13,919 --> 00:14:17,440
再生ボタンとか一時停止ボタンとか出ちゃうんですけども

225
00:14:17,440 --> 00:14:20,620
結果的に今も出てて

226
00:14:20,620 --> 00:14:22,899
今本当にこういう感じですね

227
00:14:22,899 --> 00:14:24,659
左側が閉じるボタンがあって

228
00:14:24,659 --> 00:14:27,100
右側にアプリ戻るボタンがあって

229
00:14:27,100 --> 00:14:29,360
真ん中に停止ボタンがあって

230
00:14:29,360 --> 00:14:32,259
進捗バーがあるみたいな感じなんですけども

231
00:14:32,259 --> 00:14:36,600
ここは特に基本デフォルトのままみたいにしてて

232
00:14:36,600 --> 00:14:38,799
一時停止ボタンの処理は書けるんですけど

233
00:14:38,799 --> 00:14:41,019
何もやってないっていう感じです

234
00:14:41,019 --> 00:14:47,019
その挙動については何か対策するかっていう議論は

235
00:14:47,019 --> 00:14:49,700
社内でもあったんですけども

236
00:14:49,700 --> 00:14:52,500
でも別に気にならないんじゃないみたいな

237
00:14:52,500 --> 00:14:54,159
常に表示されてるわけじゃないしみたいな

238
00:14:54,159 --> 00:14:55,600
そういうこともあって

239
00:14:55,600 --> 00:15:00,820
リリースはそのまま何も処理を書かずやったんですけども

240
00:15:00,820 --> 00:15:04,679
今も特にユーザーさんからこれが分かりにくいとか

241
00:15:04,679 --> 00:15:08,879
そういう話は出てきていないという状態です

242
00:15:08,879 --> 00:15:15,200
次にまた制限回りなんですけども

243
00:15:15,200 --> 00:15:18,279
真っ黒になるっていうのがありまして

244
00:15:18,279 --> 00:15:23,320
端末ロックから解除したときに

245
00:15:23,320 --> 00:15:28,120
PIPの画像が真っ黒になることがあるっていう感じです

246
00:15:28,120 --> 00:15:34,879
これはこの現象をできるだけ避けるために

247
00:15:34,879 --> 00:15:39,600
PIPの画面更新ですね

248
00:15:39,600 --> 00:15:48,120
これを最長 長くても1分間隔に表示更新するように工夫をしています

249
00:15:48,120 --> 00:15:53,820
また制限回り

250
00:15:53,820 --> 00:15:56,820
そうですねこれ動画なんですけど

251
00:15:56,820 --> 00:15:59,259
ちょっと動画表示されないという感じですね

252
00:15:59,259 --> 00:16:03,480
ちょっとまた動画資料をアップロードしたときに

253
00:16:03,480 --> 00:16:05,200
入れるんですけども

254
00:16:05,200 --> 00:16:07,659
書いてある通りで

255
00:16:07,659 --> 00:16:10,779
他アプリでピクチャーインピクチャー回避しちゃうと

256
00:16:10,779 --> 00:16:12,299
ピクチャーインピクチャーって

257
00:16:12,299 --> 00:16:16,139
1個の単元で1個しか再生できないんで

258
00:16:16,139 --> 00:16:19,139
他のアプリで上書きされて

259
00:16:19,139 --> 00:16:21,159
でアップロードが止まるっていうのは

260
00:16:21,159 --> 00:16:22,360
制限としてあります

261
00:16:22,360 --> 00:16:26,000
例えば見てアップロード中に

262
00:16:26,000 --> 00:16:28,840
YouTube見るかって言って

263
00:16:28,840 --> 00:16:31,580
YouTubeは見れるんですけども

264
00:16:31,580 --> 00:16:35,480
見た後にYouTubeってプレミアムプラン入って

265
00:16:35,480 --> 00:16:37,220
たぶん確かプレミアムプラン入ってると

266
00:16:37,220 --> 00:16:38,340
バックグラウンドに行くと

267
00:16:38,340 --> 00:16:41,379
ピッチャーインピッチャー開始できるんですけど

268
00:16:41,379 --> 00:16:45,500
それは開始されちゃうと乗っ取られるというか

269
00:16:45,500 --> 00:16:47,460
それでアップロード終わっちゃいます

270
00:16:47,460 --> 00:16:52,120
出てきた

271
00:16:52,120 --> 00:16:56,820
そうですね でもちょっと再生ができないって感じですね

272
00:16:56,820 --> 00:17:03,580
で ピクチャーインピクチャーのバックロードアップロードで解決できなかったことですね

273
00:17:03,580 --> 00:17:08,779
解決できなかったことは

274
00:17:08,779 --> 00:17:13,799
端末ロック中のアップロードですね

275
00:17:13,799 --> 00:17:19,319
ピクチャーインピクチャー自体は端末ロックしたときに

276
00:17:19,319 --> 00:17:21,740
強制終了されるっていうことはないんですけども

277
00:17:21,740 --> 00:17:27,000
その時点でその時点というか端末依存なんですけども

278
00:17:27,000 --> 00:17:33,119
ロックすると一定時間か即時かあるんですけども

279
00:17:33,119 --> 00:17:36,039
一時的にプロセスが止まってしまいます

280
00:17:36,039 --> 00:17:39,480
一緒に無理の状態とかは維持されるんで

281
00:17:39,480 --> 00:17:45,000
ロックを解除するとプロセスが再開されるっていうのはあるんですけども

282
00:17:45,000 --> 00:17:49,099
アップロードはタイムアウトしてしまうという状態になっております

283
00:17:49,099 --> 00:17:56,259
次はAppleのレビュー対策ですね

284
00:17:56,259 --> 00:17:59,039
レビュー対策としては

285
00:17:59,039 --> 00:18:05,559
一応結果的に普通に特に問題なく通ってはいて

286
00:18:05,559 --> 00:18:09,519
なんでレビュー対策みたいなことをしたかというと

287
00:18:09,519 --> 00:18:11,740
ピクチャーエンピクチャーの開始は

288
00:18:11,740 --> 00:18:14,779
ユーザーの操作で開始する必要があるという

289
00:18:14,779 --> 00:18:17,819
そういったドクメントの記載があったから

290
00:18:17,819 --> 00:18:20,660
ちょっとバックランドに

291
00:18:20,660 --> 00:18:23,779
アップロード操作をバックランドの遷移が

292
00:18:23,779 --> 00:18:26,680
それに該当するのかどうかっていうのは

293
00:18:26,680 --> 00:18:28,640
ちょっと分からないかもしれないっていうので

294
00:18:28,640 --> 00:18:33,640
念のためこれOKか聞いてみようっていうことで

295
00:18:33,640 --> 00:18:35,700
レビューに出してみました

296
00:18:35,700 --> 00:18:38,400
特に問題なく通っています

297
00:18:38,400 --> 00:18:44,339
レビューはこのよくあるやつだと思うんですけど

298
00:18:44,339 --> 00:18:48,740
App Store ConnectのAppReviewに関する情報

299
00:18:48,740 --> 00:18:49,400
ここですね

300
00:18:49,400 --> 00:18:52,980
この赤枠のところにメモとして

301
00:18:52,980 --> 00:18:54,819
昨日の詳細書いて

302
00:18:54,819 --> 00:18:59,380
添付会社に動画を添付して送りました

303
00:18:59,380 --> 00:19:03,640
別に昨日の感想とか何も返ってくることなく

304
00:19:03,640 --> 00:19:06,480
普通にただアプローブされるみたいな感じでした

305
00:19:06,480 --> 00:19:11,319
サンプルコード

306
00:19:11,319 --> 00:19:13,640
さっきのやつなんですけども

307
00:19:13,640 --> 00:19:18,920
ちょっとこれが紹介する時間が多分ないと思うんで

308
00:19:18,920 --> 00:19:22,700
ちょっと簡単に書いておくって感じですね

309
00:19:22,700 --> 00:19:26,859
UIビューでPIPを表示して

310
00:19:26,859 --> 00:19:32,640
バックグラウンドセンジにPIPが自動で開始するようにできるっていう

311
00:19:32,640 --> 00:19:34,700
そこを最小限の行動量で

312
00:19:34,700 --> 00:19:38,559
確かに200か300行くらいで書いてみたっていう感じです

313
00:19:38,559 --> 00:19:41,880
ちょっと動画は再生できないんですいません

314
00:19:41,880 --> 00:19:47,099
資料をアプログしたときに興味があれば見ていただければと思います

315
00:19:47,099 --> 00:19:58,119
今後やりたいことなんですけども

316
00:19:58,119 --> 00:20:01,900
iOS26のSDKの活用

317
00:20:01,900 --> 00:20:04,000
X-Core26

318
00:20:04,000 --> 00:20:08,299
基本はRC版で検証したという感じです

319
00:20:08,299 --> 00:20:10,400
あと残り

320
00:20:10,400 --> 00:20:12,440
あと21分

321
00:20:12,440 --> 00:20:21,920
IOS26のXCone26の新機能として

322
00:20:21,920 --> 00:20:27,599
フォアグラムで開始できるPG Continued Processing Taskというのが

323
00:20:27,599 --> 00:20:30,180
WWDCで発表されました

324
00:20:30,180 --> 00:20:35,359
この機能はピクチャーにピクチャーのアップロードにかなり似ていたので

325
00:20:35,359 --> 00:20:37,500
活用できる

326
00:20:37,500 --> 00:20:39,519
できるんじゃないのみたいな

327
00:20:39,519 --> 00:20:41,259
社内で

328
00:20:41,259 --> 00:20:43,240
iOS詳しい

329
00:20:43,240 --> 00:20:44,660
人がいて

330
00:20:44,660 --> 00:20:47,160
調査したという感じです

331
00:20:47,160 --> 00:20:49,599
僕もおられるし真面目に見ていれば

332
00:20:49,599 --> 00:20:50,740
気づいたかもしれないですけど

333
00:20:50,740 --> 00:20:53,619
言われて気づくみたいな感じだったから

334
00:20:53,619 --> 00:20:54,259
なんかちょっと

335
00:20:54,259 --> 00:20:56,980
自分も

336
00:20:56,980 --> 00:20:59,599
勉強不足だったなとか思いながらも

337
00:20:59,599 --> 00:21:00,640
言ってくれたから

338
00:21:00,640 --> 00:21:02,539
調査できたという感じです

339
00:21:02,539 --> 00:21:05,119
そうですね

340
00:21:05,119 --> 00:21:07,099
どんなものかというと

341
00:21:07,099 --> 00:21:12,759
フォアグラウンドでボタンタップとかそういうのが開始できるやつで

342
00:21:12,759 --> 00:21:20,200
必要に応じてフォアグラウンドでも表示されるという感じです

343
00:21:20,200 --> 00:21:23,440
進捗状況はライブアクティビティで表示されて

344
00:21:23,440 --> 00:21:26,279
ユーザーの必要に応じてキャンセルできるという

345
00:21:26,279 --> 00:21:30,460
右側のボタンを押すとキャンセルできるという形になっています

346
00:21:33,460 --> 00:21:35,420
これのメリットなんですけども

347
00:21:35,420 --> 00:21:40,339
先ほど紹介してた端末6値のアップロードでいい内容っていう

348
00:21:40,339 --> 00:21:42,240
そこが解決できるっていうのが

349
00:21:42,240 --> 00:21:43,200
大きなメリット

350
00:21:43,200 --> 00:21:45,720
見ているとして大きなメリットだなと思っております

351
00:21:45,720 --> 00:21:48,700
デメリットは

352
00:21:48,700 --> 00:21:52,640
ちょっと講じつするんですけども

353
00:21:52,640 --> 00:21:55,720
大きなデメリットはないんですけども

354
00:21:55,720 --> 00:21:57,559
ちょっと制限もあり

355
00:21:57,559 --> 00:22:01,380
UIも一応多少制限されるみたいなのがあるんですけども

356
00:22:01,380 --> 00:22:05,380
そういうところが 敷いていまあるのかなっていう感じです

357
00:22:05,380 --> 00:22:08,880
はい ちょっとUI なんですけど

358
00:22:08,880 --> 00:22:12,880
これは多分 ずっと動画になってて

359
00:22:12,880 --> 00:22:15,880
ちょっと見れないような気が

360
00:22:15,880 --> 00:22:17,880
一応ちょっと見れますが 完了すると

361
00:22:17,880 --> 00:22:22,880
本当はちょっと右側に チェックワークで完了みたいなの出るんですけど

362
00:22:22,880 --> 00:22:27,880
あとは そうですね

363
00:22:27,880 --> 00:22:34,019
ステータスバーにしまったときは

364
00:22:34,019 --> 00:22:38,799
この端末に言うんですけど青くなるみたいな感じですね

365
00:22:38,799 --> 00:22:43,519
端末ロック中もこんな感じで

366
00:22:43,519 --> 00:22:46,599
ライブラックデビデオが表示されて

367
00:22:46,599 --> 00:22:50,519
一応このときもキャンセルとかはできるという感じですね

368
00:22:50,519 --> 00:22:57,039
カスタマイズ可能なのが

369
00:22:57,039 --> 00:22:59,740
タイトルとサブタイトル

370
00:22:59,740 --> 00:23:02,519
文字列入れますみたいな感じです

371
00:23:02,519 --> 00:23:05,599
左側はプリマーアイコンが勝手に出て

372
00:23:05,599 --> 00:23:10,440
右側は進捗表示が出るという感じになってます

373
00:23:10,440 --> 00:23:16,700
進捗表示のところは

374
00:23:16,700 --> 00:23:20,480
CompletedUnitedCountという変数と

375
00:23:20,480 --> 00:23:23,240
TotalUnitedCountという変数で

376
00:23:23,240 --> 00:23:31,000
進捗数と合計値をうまく値を指定して実現できるみたいな感じになってます

377
00:23:31,000 --> 00:23:35,480
進捗数が合計値まで達すると

378
00:23:35,480 --> 00:23:37,240
このチェックマークが出るという

379
00:23:37,240 --> 00:23:39,240
そういう仕様になっております

380
00:23:39,240 --> 00:23:45,559
あとやってて気づいたんですけど

381
00:23:45,559 --> 00:23:50,740
文字色と背景色が指定できないと思うんですけども

382
00:23:50,740 --> 00:23:54,960
これが場合によっては見づらいなというふうに思っております

383
00:23:54,960 --> 00:23:59,519
これさっき言ったやつですね

384
00:23:59,519 --> 00:24:00,880
ステータス版にしまっているとき

385
00:24:00,880 --> 00:24:05,079
これなんか上がiPhone SE3ですね

386
00:24:05,079 --> 00:24:12,660
SE3の表示で下がiPhone 16eの表示になっています

387
00:24:12,660 --> 00:24:18,960
実装方法なんですけども

388
00:24:18,960 --> 00:24:23,460
バックランドモードの指定は

389
00:24:23,460 --> 00:24:24,720
バックランドタスクなんですけど

390
00:24:24,720 --> 00:24:29,000
バックランドモードの指定はいらないという感じになっており

391
00:24:29,000 --> 00:24:31,660
ここのバックランドモードをやるとき

392
00:24:31,660 --> 00:24:36,839
ここのキャパビリティ追加してチェック入れるみたいなのが

393
00:24:36,839 --> 00:24:37,859
Xコードあるかどうですか

394
00:24:37,859 --> 00:24:38,880
これが必要ない

395
00:24:38,880 --> 00:24:41,980
このバックランドモード図自体がいらないという

396
00:24:41,980 --> 00:24:44,240
そういうふうになっております

397
00:24:44,240 --> 00:24:50,200
PリストにはバックグラウンタスクのIDですね

398
00:24:50,200 --> 00:24:52,980
これを入れておく必要があります

399
00:24:52,980 --> 00:24:56,380
これは他のバックグラウンタスクと一緒かと思います

400
00:24:56,380 --> 00:25:03,079
コードはざっくりこんな感じですね

401
00:25:03,079 --> 00:25:04,440
今何分ですかね

402
00:25:04,440 --> 00:25:05,099
14分

403
00:25:05,099 --> 00:25:10,519
ちょっと解説すると

404
00:25:10,519 --> 00:25:12,539
このレジスター

405
00:25:12,539 --> 00:25:15,440
BGタスクスケジューラーレジスター

406
00:25:15,440 --> 00:25:18,460
これは他のバックグラウンドタスクでも

407
00:25:18,460 --> 00:25:22,039
処理を登録するとき同じものを使うかと思うんですが

408
00:25:22,039 --> 00:25:23,759
これを実行して

409
00:25:23,759 --> 00:25:27,259
この中では処理がされるときに呼ばれるんですけども

410
00:25:27,259 --> 00:25:32,359
メインスレッド以外でバックグラウンドスレッドで実行されます

411
00:25:32,359 --> 00:25:38,839
その後BGコンティニュータスクにキャストしてあげて

412
00:25:38,839 --> 00:25:40,819
X-Pray Handlerですね

413
00:25:40,819 --> 00:25:43,720
ここでキャンセルボタンを押したときとかだったり

414
00:25:43,720 --> 00:25:47,559
システムが何かリソース制約とかで

415
00:25:47,559 --> 00:25:49,460
勝手にキャンセルするときもあるんですけど

416
00:25:49,460 --> 00:25:53,319
そういったときに呼ばれるハンドラみたいなのを書いて

417
00:25:53,319 --> 00:25:58,720
進捗の値と管理を決めて

418
00:25:58,720 --> 00:26:05,460
進捗の値をプラス1とかだんだんインクリメントしていって

419
00:26:05,460 --> 00:26:10,599
タイトルやサブタイトルを更新してあげて

420
00:26:10,599 --> 00:26:16,220
最後セットタスクコンプリティですね

421
00:26:16,220 --> 00:26:19,539
ここで成功したか失敗したかみたいな

422
00:26:19,539 --> 00:26:23,259
そんなブルーチを与えて終わりみたいな

423
00:26:23,259 --> 00:26:24,759
そういう感じになってます

424
00:26:24,759 --> 00:26:30,440
実行依頼なんですけども

425
00:26:30,440 --> 00:26:32,500
こんな感じになっており

426
00:26:32,500 --> 00:26:34,940
リクエストを作って

427
00:26:34,940 --> 00:26:38,519
リクエスト作るときにタイトルとサブタイトルも決めれて

428
00:26:38,519 --> 00:26:43,900
ストラテジーという2種類指定できるんですけども

429
00:26:43,900 --> 00:26:45,839
それを指定して

430
00:26:45,839 --> 00:26:51,740
GPU使う場合はGPUのGPU使うぞみたいな

431
00:26:51,740 --> 00:26:52,759
そういう指定をして

432
00:26:52,759 --> 00:26:56,079
ビジタスクスケジューラーサブミットするという

433
00:26:56,079 --> 00:26:58,180
そういう感じになってます

434
00:26:58,180 --> 00:27:03,200
GPU使う場合っていうのは

435
00:27:03,200 --> 00:27:04,779
こんな感じで

436
00:27:04,779 --> 00:27:09,480
ここはキャパビリティに指定する必要があります

437
00:27:09,480 --> 00:27:15,279
で検証してみたら分かったことっていうのが少しあって

438
00:27:15,279 --> 00:27:17,599
ちょっと紹介したいと思います

439
00:27:17,599 --> 00:27:23,460
まずは

440
00:27:23,460 --> 00:27:24,259
そうですね

441
00:27:24,259 --> 00:27:29,980
この進捗の値を基本合計値に近づけるために

442
00:27:29,980 --> 00:27:31,359
インクリメントするみたいな

443
00:27:31,359 --> 00:27:34,740
増やしていくっていう感じの処理をしていくんですけども

444
00:27:34,740 --> 00:27:37,880
これが一定時間変化がないと

445
00:27:37,880 --> 00:27:40,660
バックグラウンドタスク自体が止まるっていう

446
00:27:40,660 --> 00:27:44,119
現象が確認できており

447
00:27:44,119 --> 00:27:47,579
この画像から見ても分かるように

448
00:27:47,579 --> 00:27:52,640
止まる時間っていうのは一定ではないみたいな

449
00:27:52,640 --> 00:27:54,960
自分が検証した感じは

450
00:27:54,960 --> 00:27:59,519
最低でも30秒くらい待ってくれているような気はします

451
00:27:59,519 --> 00:28:02,680
でも30秒ぐらい経つと

452
00:28:02,680 --> 00:28:04,759
30秒だったり70秒

453
00:28:04,759 --> 00:28:06,619
この例だと70秒とかだったりするけど

454
00:28:06,619 --> 00:28:10,240
変化がなるとシステムが勝手に止めてくるという

455
00:28:10,240 --> 00:28:12,339
そういう挙動になってました

456
00:28:12,339 --> 00:28:18,259
処理によっては進捗が分からないような

457
00:28:18,259 --> 00:28:20,960
進捗分からないけど続いてるみたいな処理があるかと思うんですけど

458
00:28:20,960 --> 00:28:22,660
そういう場合でも

459
00:28:22,660 --> 00:28:24,900
コンティニュードバックランド

460
00:28:24,900 --> 00:28:29,099
コンティニュードプロセリングパス

461
00:28:29,099 --> 00:28:36,700
それを使う場合は進捗の値を増やすとか

462
00:28:36,700 --> 00:28:40,880
止められないような何か工夫は必要だなと思っております

463
00:28:40,880 --> 00:28:46,359
検証してみて分かったこと2つ目

464
00:28:46,359 --> 00:28:51,799
これは普通にバックランスか他も確か分からないのも一緒だったと思うんですけども

465
00:28:51,799 --> 00:28:53,759
シミュレーターでは動作しないというのがあります

466
00:28:53,759 --> 00:28:58,500
次があとこれも

467
00:28:58,500 --> 00:29:04,160
少なくともRCではXcodeのFiftLockageバージョンを

468
00:29:04,160 --> 00:29:06,900
4とか試してないんですけど

469
00:29:06,900 --> 00:29:08,980
5だとは大丈夫なんですけど

470
00:29:08,980 --> 00:29:12,599
6にするとサブミットした時にクラッシュしてしまうっていう

471
00:29:12,599 --> 00:29:15,259
そういう問題を確認してます

472
00:29:15,259 --> 00:29:19,220
一応バグのレポートはしてみています

473
00:29:19,220 --> 00:29:27,400
あとはBGコンティニュータスク

474
00:29:27,400 --> 00:29:30,680
プレッシングタスクです さっきのUIを

475
00:29:30,680 --> 00:29:35,079
実はアプリ一つまでっぽいっていうのが分かっており

476
00:29:35,079 --> 00:29:41,019
二つ目をサブミットしても 二つ目は開始できないっていうか

477
00:29:41,019 --> 00:29:45,259
並列で二つか三つ動かせないっていうのが分かってて

478
00:29:45,259 --> 00:29:51,539
これがもしかしたらおそらくでも 一端末一つまでな気もするんですけども

479
00:29:51,539 --> 00:29:54,200
ちょっと複数アプリいけるのかとか

480
00:29:54,200 --> 00:29:56,839
そういうのは一アプリ一個までっていうか

481
00:29:56,839 --> 00:29:58,839
実は人単元1個なのかっていうのは

482
00:29:58,839 --> 00:29:59,680
そうかもしれないですけど

483
00:29:59,680 --> 00:30:01,579
ちょっとそこまでまだ見えてないという感じです

484
00:30:01,579 --> 00:30:05,819
これも

485
00:30:05,819 --> 00:30:08,920
ピクチャーにピクチャーももしかしたら

486
00:30:08,920 --> 00:30:10,880
同じかもしれないですけども

487
00:30:10,880 --> 00:30:14,319
システム自体のリソースの制約がある状態だと

488
00:30:14,319 --> 00:30:17,740
結構中断されやすいっていうのがあります

489
00:30:17,740 --> 00:30:24,000
これはちょっと

490
00:30:24,000 --> 00:30:26,019
僕の検証端末

491
00:30:26,019 --> 00:30:28,859
限定か分からないんですけども

492
00:30:28,859 --> 00:30:30,500
少なくとも自分の検証端末

493
00:30:30,500 --> 00:30:32,799
iOS26にアップデート

494
00:30:32,799 --> 00:30:37,079
2つの端末でアップデートしてるんですけども

495
00:30:37,079 --> 00:30:39,259
その端末では2つとも

496
00:30:39,259 --> 00:30:42,900
正式版にアップデートしてからは

497
00:30:42,900 --> 00:30:44,680
BGコンティニングプロセスが

498
00:30:44,680 --> 00:30:47,460
全く開始できなくなってます

499
00:30:47,460 --> 00:30:51,700
3つiOS26の端末を今持ってて

500
00:30:51,700 --> 00:30:53,819
1つはまだ正式版に上げて

501
00:30:53,819 --> 00:30:55,720
たまたま上げるのを忘れて

502
00:30:55,720 --> 00:30:57,059
入ってないんですけども

503
00:30:57,059 --> 00:30:59,940
それでは動くんですけども

504
00:30:59,940 --> 00:31:01,940
正式版に上げると動かなくて

505
00:31:01,940 --> 00:31:03,740
これはちょっと困ってて

506
00:31:03,740 --> 00:31:05,500
ユーロッパフォーラムで

507
00:31:05,500 --> 00:31:06,720
ちょっといろいろ聞いてます

508
00:31:06,720 --> 00:31:10,720
ただAppleのエンジニアの方曰く

509
00:31:10,720 --> 00:31:13,640
なんか動いてるみたいな風に言われて

510
00:31:13,640 --> 00:31:15,160
ちょっとエラーログとか送って

511
00:31:15,160 --> 00:31:18,140
ちょっといろいろ調査してもらってるという感じです

512
00:31:18,140 --> 00:31:19,759
はい

513
00:31:19,759 --> 00:31:26,700
検証のために作成したコードを

514
00:31:26,700 --> 00:31:29,299
一応GitHubに公開してます

515
00:31:29,299 --> 00:31:32,619
後で興味があれば見ていただければと思います

516
00:31:32,619 --> 00:31:41,740
見てないなアップロードに組み込むならっていうところで

517
00:31:41,740 --> 00:31:45,980
それもちょっとざっくりやってみてるという感じです

518
00:31:45,980 --> 00:31:49,099
実際に採用するかまだ決まってなくて

519
00:31:49,099 --> 00:31:52,140
見てアップロードに組み込むなら

520
00:31:52,140 --> 00:31:54,539
もちろん

521
00:31:54,539 --> 00:31:56,579
iOS26だったら

522
00:31:56,579 --> 00:31:58,759
BGコンテナのプロセージタスク

523
00:31:58,759 --> 00:31:59,960
使いたいよねみたいな

524
00:31:59,960 --> 00:32:01,099
思ってます

525
00:32:01,099 --> 00:32:05,740
はいちょっとこれ動画が分からないから

526
00:32:05,740 --> 00:32:07,859
ちょっとよく分からんみたいな感じだと思うんですけど

527
00:32:07,859 --> 00:32:11,319
一応やってみたっていう動画を

528
00:32:11,319 --> 00:32:13,299
資料には貼り付けて

529
00:32:13,299 --> 00:32:14,420
っていう感じです

530
00:32:14,420 --> 00:32:17,819
はい

531
00:32:17,819 --> 00:32:22,279
最後のまとめなんですけども

532
00:32:22,279 --> 00:32:26,519
僕の初感で比較表を作ってみてて

533
00:32:26,519 --> 00:32:28,700
こんな感じです

534
00:32:28,700 --> 00:32:30,920
実装のしやすさは

535
00:32:30,920 --> 00:32:36,039
PPIPの実装はやっぱりちょっと難しいなという風に思ってたんですけども

536
00:32:36,039 --> 00:32:39,519
コンティニブルセンシュタスクは実装はそれほど難しくないなという

537
00:32:39,519 --> 00:32:41,799
実装もそんなほど難しくないし

538
00:32:41,799 --> 00:32:44,900
ロックチューム動作はしてくれるしというと

539
00:32:44,900 --> 00:32:46,119
そこがいいところで

540
00:32:46,119 --> 00:32:50,619
UIの自由度は基本統一されたものになるんで

541
00:32:50,619 --> 00:32:52,720
自由度はないみたいな感じですけども

542
00:32:52,720 --> 00:32:56,539
基本ロックチュアもアップロードできるしっていうので

543
00:32:56,539 --> 00:32:57,740
そこはいいなっていうので

544
00:32:57,740 --> 00:33:03,480
ちょっとXコード26対応したらやりたいなとは思っています

545
00:33:03,480 --> 00:33:07,720
まとめもそんな感じですね

546
00:33:07,720 --> 00:33:10,200
今ピクチャーインピクチャーで

547
00:33:10,200 --> 00:33:13,640
iOSアプリでもバックグラウンドアップロードできた

548
00:33:13,640 --> 00:33:15,019
っていうところと

549
00:33:15,019 --> 00:33:17,900
ロックチュア止まっちゃうっていうところと

550
00:33:17,900 --> 00:33:22,299
IOS26のBG Continued Processing Taskで

551
00:33:22,299 --> 00:33:25,920
ロックチュアもアップロードできそうというのが分かりました

552
00:33:25,920 --> 00:33:27,180
はい

553
00:33:27,180 --> 00:33:32,700
ちょっとこれでもうおしまいなんですけど

554
00:33:32,700 --> 00:33:36,160
見てエンジニア募集してるんで

555
00:33:36,160 --> 00:33:38,180
もし興味があれば

556
00:33:38,180 --> 00:33:42,059
応募いただければと思います

557
00:33:43,640 --> 00:33:45,380
ご清聴ありがとうございました

558
00:33:45,380 --> 00:33:52,680
発表ありがとうございました

559
00:33:52,680 --> 00:33:55,500
それではQ&Aに移りたいと思います

560
00:33:55,500 --> 00:33:58,579
コメントやご質問のある方は手を挙げてお知らせください

561
00:33:58,579 --> 00:34:05,559
ただいまマイクをお持ちしますのでお待ちください

562
00:34:05,559 --> 00:34:07,539
ありがとうございました

563
00:34:07,539 --> 00:34:09,719
非常に参考になりました

564
00:34:09,719 --> 00:34:10,900
先ほど

565
00:34:10,900 --> 00:34:15,340
iOS26以降であれば

566
00:34:15,340 --> 00:34:18,119
公式のやつ使うのがいいかなと思うんですけど

567
00:34:18,119 --> 00:34:20,920
実際使っているアプリとかによると

568
00:34:20,920 --> 00:34:23,019
iOS26今週データばっかりなので

569
00:34:23,019 --> 00:34:25,119
まだ前のバージョン

570
00:34:25,119 --> 00:34:27,900
バージョン番号忘れちゃいましたけど

571
00:34:27,900 --> 00:34:30,400
26より以前のバージョンだと

572
00:34:30,400 --> 00:34:33,539
PIP使うしかないかなという風に思っているんですけど

573
00:34:33,539 --> 00:34:36,940
サンプルコードを参考にさせていただいて

574
00:34:36,940 --> 00:34:38,920
作れそうだなと思ったんですけど

575
00:34:38,920 --> 00:34:43,179
1点気になったのが特許出願中って書いてて

576
00:34:43,179 --> 00:34:45,539
あれ使ったら怒られるのかなと思ったんですけど

577
00:34:45,539 --> 00:34:51,460
それどの辺まで特許出されているのかなって言える範囲で教えてください

578
00:34:51,460 --> 00:34:53,619
はい質問ありがとうございます

579
00:34:53,619 --> 00:34:57,480
特許についてはちょっとそうですね

580
00:34:57,480 --> 00:35:02,800
僕もなんていうかまず特許出した背景でいくと

581
00:35:02,800 --> 00:35:05,980
私ミキシー働いてるんですけど

582
00:35:05,980 --> 00:35:10,659
Mixiは割といろんな機能特許を出すっていうのが

583
00:35:10,659 --> 00:35:12,980
活動としてやってるんで

584
00:35:12,980 --> 00:35:14,079
その一環で

585
00:35:14,079 --> 00:35:17,699
偉い人というか部長の方も

586
00:35:17,699 --> 00:35:19,440
この機能特許を出した方がいいんじゃない

587
00:35:19,440 --> 00:35:20,199
と言われて

588
00:35:20,199 --> 00:35:22,119
言われるようなものもあるんですけど

589
00:35:22,119 --> 00:35:24,280
出しましたという感じです

590
00:35:24,280 --> 00:35:25,699
出した内容

591
00:35:25,699 --> 00:35:30,559
一応まだ特許を出願すると

592
00:35:30,559 --> 00:35:33,679
1年半経つと見れるっていう風に伺ってるんで

593
00:35:33,679 --> 00:35:36,739
確か出したのは去年の8月か9月ぐらいなので

594
00:35:36,739 --> 00:35:38,420
そこから1年半なので

595
00:35:38,420 --> 00:35:44,599
多分来年の4月あたりには見れるかと思うので

596
00:35:44,599 --> 00:35:48,420
詳細はそこに確認していただけるといいんですけども

597
00:35:48,420 --> 00:35:52,239
詳細はそこに確認してくださいというところと

598
00:35:52,239 --> 00:35:54,500
僕が適度なのかというとちょっと怒られるかもしれないので

599
00:35:54,500 --> 00:35:58,239
ちょっと気になったらミキシーの方に問い合わせいただけるといいかなと思います

600
00:35:58,239 --> 00:35:58,639
すみません

601
00:35:58,639 --> 00:36:01,079
すみません

602
00:36:01,079 --> 00:36:10,960
ありがとうございました

603
00:36:10,960 --> 00:36:13,559
他にコメントやご質問のある方

604
00:36:13,559 --> 00:36:15,260
挙手をお願いします

605
00:36:15,260 --> 00:36:20,280
1個お持ちします

606
00:36:20,280 --> 00:36:20,880
お持ちください

607
00:36:20,880 --> 00:36:27,480
1個は単純に先ほどの件で

608
00:36:27,480 --> 00:36:30,280
特許ここで専門家が結構いるので

609
00:36:30,280 --> 00:36:34,320
話すと多分いろいろと権利問題が出てくるので

610
00:36:34,320 --> 00:36:36,639
よかったですっていうのが感想で

611
00:36:36,639 --> 00:36:40,539
単純に技術的なことの質問なんですけども

612
00:36:40,539 --> 00:36:42,719
さっきのピクチャーインピクチャーで

613
00:36:42,719 --> 00:36:45,440
動画流してる判定ってなっていて

614
00:36:45,440 --> 00:36:48,940
オーディオカテゴリーのセッティングをしてたところがあったと思うんですね

615
00:36:48,940 --> 00:36:51,300
あれって例えばユーザーが

616
00:36:51,300 --> 00:36:55,079
Apple Musicで音楽を流しているみたいなときって

617
00:36:55,079 --> 00:37:00,260
オーディオ関係は特に衝突とかはしないんですか?

618
00:37:00,280 --> 00:37:02,300
音楽体制が止まるとか

619
00:37:02,300 --> 00:37:03,059
はいはいはいはい

620
00:37:03,059 --> 00:37:04,340
やってないんでしょうか

621
00:37:04,340 --> 00:37:06,179
ありがとうございます質問

622
00:37:06,179 --> 00:37:08,380
いい質問というか

623
00:37:08,380 --> 00:37:13,500
すごくリリースをその辺直した部分でもあって

624
00:37:13,500 --> 00:37:16,380
その通りというか

625
00:37:16,380 --> 00:37:18,599
衝突してしまいますので

626
00:37:18,599 --> 00:37:23,019
アプリもともとこれリリースしたときに

627
00:37:23,019 --> 00:37:25,159
アプリ機動陣も問答無用で

628
00:37:25,159 --> 00:37:27,099
ピクチャーンピクチャーの可能性があるからということで

629
00:37:27,099 --> 00:37:29,079
先ほどのプレイバックみたいな指定してたんですけど

630
00:37:29,079 --> 00:37:31,699
それをやっちゃうとおっしゃる通り

631
00:37:31,699 --> 00:37:34,219
Apple Musicの音は止まっちゃうみたいなのがあったんで

632
00:37:34,219 --> 00:37:37,199
アップロードするときに限定して

633
00:37:37,199 --> 00:37:41,539
オーディオセッションの設定をしているという感じですね

634
00:37:41,539 --> 00:37:44,460
一応できるだけ最低限にすることで

635
00:37:44,460 --> 00:37:49,460
不意に音楽は止まらないという風に工夫はしているけど

636
00:37:49,460 --> 00:37:55,219
確かに競合しちゃうみたいなところは問題としてはあります

637
00:37:55,219 --> 00:37:57,960
わかりました ありがとうございます

638
00:37:57,960 --> 00:37:58,599
ありがとうございます

639
00:37:58,599 --> 00:38:01,199
ありがとうございました

640
00:38:01,199 --> 00:38:04,179
他にコメントやご質問のある方

641
00:38:04,179 --> 00:38:05,239
挙手をお願いします

642
00:38:05,239 --> 00:38:14,460
他にいらっしゃいませんでしょうか

643
00:38:14,460 --> 00:38:22,460
お時間になりましたので

644
00:38:22,460 --> 00:38:25,019
これでQ&Aで終了させていただきます

645
00:38:25,019 --> 00:38:28,039
続いて1分間フィードバックのお時間です

646
00:38:28,039 --> 00:38:31,739
1分間フィードバックのお時間です

647
00:38:31,739 --> 00:38:36,500
スクリーンのQRコードを読み取ってフィードバックを送ってください

648
00:38:58,039 --> 00:39:20,980
ご視聴ありがとうございました
