1
00:00:09,000 --> 00:00:14,900
では見てねのiOSアプリにおけるバックグラウンドアップロードを継続の挑戦ということで

2
00:00:14,900 --> 00:00:16,360
お送りさせていただきます

3
00:00:16,360 --> 00:00:23,840
自己紹介です

4
00:00:23,840 --> 00:00:26,680
佐藤光と申します

5
00:00:26,680 --> 00:00:34,280
株式会社ミクシーの見てね事業本部の家族アルバム見てねのiOSエンジニアをやらせていただいております

6
00:00:34,280 --> 00:00:40,600
今日話す内容は見てねとはと

7
00:00:40,600 --> 00:00:44,820
あと去年見てねで実装したバックグラウンドアップロードについてと

8
00:00:44,820 --> 00:00:53,060
去年解決した課題と採用した解決案を今後やりたいことと

9
00:00:53,060 --> 00:00:56,060
あとiOS26の活用ですね

10
00:00:56,060 --> 00:01:04,120
まずは見てねとはなんですけども

11
00:01:04,120 --> 00:01:05,780
見てね使ってますありがとうございます

12
00:01:05,780 --> 00:01:14,040
子供の写真と動画を家族に共有してコミュニケーションを楽しむスマホアプリです

13
00:01:14,040 --> 00:01:19,600
写真動画を無料無制限に共有できます

14
00:01:19,600 --> 00:01:24,700
ここで聞きたいことがあって

15
00:01:24,700 --> 00:01:30,720
この今見てる方で見てね使ってる方ってどのくらいいらっしゃいますか

16
00:01:30,720 --> 00:01:31,700
ちょっと挙手をお願いします

17
00:01:31,700 --> 00:01:41,980
20%ぐらいですかね

18
00:01:41,980 --> 00:01:43,260
すいませんまたちょっと後で

19
00:01:43,260 --> 00:01:45,260
ご意見感が欲しいです

20
00:01:45,260 --> 00:01:45,620
ありがとうございます

21
00:01:45,620 --> 00:01:52,080
次なんですけども

22
00:01:52,080 --> 00:01:54,240
見てねにおいて

23
00:01:54,240 --> 00:01:56,940
写真と動画は共有するアプリなので

24
00:01:56,940 --> 00:01:59,020
アップロードはとても重要です

25
00:01:59,020 --> 00:02:03,000
アップロード体験の改善が今回のテーマとなっております

26
00:02:03,000 --> 00:02:11,600
去年アップロードに関して解決した課題なんですけど

27
00:02:11,600 --> 00:02:15,680
まず課題が何だったかっていうところなんですけども

28
00:02:15,680 --> 00:02:19,760
画像動画のアップロード中にバックグラウンドを遷移すると

29
00:02:19,760 --> 00:02:24,180
30分でアップロードが中断してしまうっていう課題がありまして

30
00:02:24,180 --> 00:02:29,200
これがiOSのビギンバックランドタスクっていう

31
00:02:29,200 --> 00:02:31,020
ご存知の方も多いかと思うんですけど

32
00:02:31,020 --> 00:02:33,240
それの制限となっており

33
00:02:33,240 --> 00:02:37,720
見てねでは中断されてしまうっていうのがあるんで

34
00:02:37,720 --> 00:02:41,800
アップロード中にアプリをずっと開き続けてはいけないっていうのがありました

35
00:02:41,800 --> 00:02:48,340
見てねでは一度に多くの画像動画をアップロードするっていうのが

36
00:02:48,340 --> 00:02:49,760
ユーザーの傾向としてあるんで

37
00:02:49,760 --> 00:02:53,980
この制限でアップロードが中断されやすいっていうのがありました

38
00:02:53,980 --> 00:03:00,360
中断されたときっていうのは

39
00:03:00,360 --> 00:03:02,420
今はちょっとこの表示出るのがだいぶ

40
00:03:02,420 --> 00:03:05,040
出る条件がだいぶ少ないんですけども

41
00:03:05,040 --> 00:03:07,380
こういった感じでアップロードされて

42
00:03:07,380 --> 00:03:09,200
アップロード中断されて

43
00:03:09,200 --> 00:03:12,980
ああみたいな感じでまた開き直してアップロードが

44
00:03:12,980 --> 00:03:14,940
一応途中から始まるんですけど

45
00:03:14,940 --> 00:03:17,060
始まるみたいな感じになってました

46
00:03:17,060 --> 00:03:26,700
まずその課題に対してどういった解決策を検討したかというところで

47
00:03:26,700 --> 00:03:33,180
まず一つ目が割と去年に関しては王道のやつだったと思うんですけど

48
00:03:33,180 --> 00:03:38,840
BGプロセッシングタスクを解決策として検討しており

49
00:03:38,840 --> 00:03:43,300
一応社内で動作レビュー会とかもやったんですけども

50
00:03:43,300 --> 00:03:47,560
この仕様が見てないアップロード合わなかったという感じでした

51
00:03:47,560 --> 00:03:51,920
合わなかったところがここに書いているようなところなんですけど

52
00:03:51,920 --> 00:03:56,480
深夜で10前中で5分程度1回の処理時間があって

53
00:03:56,480 --> 00:03:58,580
30分ごとに

54
00:03:58,580 --> 00:04:01,080
大体30分ごとって決まったんですけど

55
00:04:01,080 --> 00:04:03,720
ぐらいに動くみたいな感じなんですけども

56
00:04:03,720 --> 00:04:05,980
まず深夜に動いてしまうと

57
00:04:05,980 --> 00:04:08,140
アップロードが終わった時に

58
00:04:08,140 --> 00:04:10,880
完了の通知が見てないだと思うんですけども

59
00:04:10,880 --> 00:04:12,180
それが深夜に飛んでしまって

60
00:04:12,180 --> 00:04:16,840
家族の人には夜まで起きてたみたいな風に思われてしまうみたいな

61
00:04:16,840 --> 00:04:18,600
そういう懸念とかあったりして

62
00:04:18,600 --> 00:04:21,560
このまま左右しなかったという感じです

63
00:04:21,560 --> 00:04:26,840
2つ目

64
00:04:26,840 --> 00:04:29,020
解決案2つ目

65
00:04:29,020 --> 00:04:30,840
一応ライブアクティビティも

66
00:04:30,840 --> 00:04:35,100
こういうのもいけるんじゃないみたいな感じで検討したんですけども

67
00:04:35,100 --> 00:04:37,760
YetExcessionの一種なんで

68
00:04:37,760 --> 00:04:42,340
アプリ側の処理を継続するっていうことはできなかったっていう感じでした

69
00:04:42,340 --> 00:04:49,280
解決案の3つ目が

70
00:04:49,280 --> 00:04:51,480
これを採用したんですけども

71
00:04:51,480 --> 00:04:55,780
ピクチャーインピクチャーでプロトタイプを作って

72
00:04:55,780 --> 00:04:58,520
プロトタイプこういう感じで作ったんですけど

73
00:04:58,520 --> 00:05:01,060
このUIでピクチャーインピクチャーの

74
00:05:01,060 --> 00:05:04,140
この動画の操作ボタンみたいなのが出ちゃうんですけども

75
00:05:04,140 --> 00:05:07,660
一応これでバックグラウンドのアップロードが

76
00:05:07,660 --> 00:05:12,800
先ほどの30秒の制限と関係なく継続されたっていうのがあったんで

77
00:05:12,800 --> 00:05:14,160
この案を採用しました

78
00:05:14,160 --> 00:05:22,860
次が実際にリリースした機能なんですけど

79
00:05:22,860 --> 00:05:26,180
これ動いてる

80
00:05:26,180 --> 00:05:28,780
動いてる?あれ動いてない?

81
00:05:32,780 --> 00:05:38,660
動画動かないです

82
00:05:38,660 --> 00:05:40,700
また資料アップロードするんで

83
00:05:40,700 --> 00:05:43,840
ちょっとそれで見てもらえばっていう感じです

84
00:05:43,840 --> 00:05:48,240
実際アップロードすると

85
00:05:48,240 --> 00:05:50,460
これ動くほんと動かすぎそうですねすいません

86
00:05:50,460 --> 00:05:57,600
こんな感じのピクチャーインピクチャーの表示がされて

87
00:05:57,600 --> 00:06:02,760
アップロード中にバックグラウンドを遷移すると

88
00:06:02,760 --> 00:06:06,940
UIVをピクチャーインピクチャーで表示することで

89
00:06:06,940 --> 00:06:11,800
アップロードを継続するということを機能としてリリースしました

90
00:06:11,800 --> 00:06:18,540
この機能はMitene Premium Pro限定の機能となっています

91
00:06:18,540 --> 00:06:22,620
チョンミキシーでも特許の出願をしております

92
00:06:22,620 --> 00:06:26,560
ここでも聞きたいことがあって

93
00:06:26,560 --> 00:06:31,480
このMiteneのアップロード中にバックグラウンドを遷移すると

94
00:06:31,480 --> 00:06:35,020
ここも表示がピクチャーインピクチャーで表示されるんですけど

95
00:06:35,020 --> 00:06:38,680
これに気づいている方っていうのはどのくらいいたら

96
00:06:38,680 --> 00:06:41,300
挙手してもらいたいんですけども

97
00:06:41,300 --> 00:06:44,540
誰もいないっていう感じですね

98
00:06:44,540 --> 00:06:51,480
ちなみに見てねを使っている方

99
00:06:51,480 --> 00:06:54,160
何人かいらっしゃったと思うんですけども

100
00:06:54,160 --> 00:06:56,740
見てねプレミアムに入っている方っていうのは

101
00:06:56,740 --> 00:06:59,120
どのくらいいらっしゃるんでしょうか

102
00:06:59,120 --> 00:07:02,600
2人

103
00:07:02,600 --> 00:07:03,800
ありがとうございます

104
00:07:03,800 --> 00:07:07,940
プレミアムプロっていう上位プランもあるんですけど

105
00:07:07,940 --> 00:07:09,260
それに入っている

106
00:07:09,260 --> 00:07:13,620
プレミアムプランですかね

107
00:07:13,620 --> 00:07:15,760
なるほどすいませんありがとうございます

108
00:07:15,760 --> 00:07:20,040
プレミアムプロだと上位の月1000円ぐらいかかるやつなんですけど

109
00:07:20,040 --> 00:07:22,140
それに入っていると出るという感じです

110
00:07:22,140 --> 00:07:31,600
次が解決策生まれた背景なんですけども

111
00:07:31,600 --> 00:07:34,280
BGプロセッシングタスクの案で

112
00:07:34,280 --> 00:07:38,600
社内の動作レビューやろうっていう風にして

113
00:07:38,600 --> 00:07:43,500
その前にみんなどういう感じでレビューお願いしようかっていうところで

114
00:07:43,500 --> 00:07:48,180
数人で4人ぐらいで相談したときに出たアイデアの一つで

115
00:07:48,180 --> 00:07:51,840
そのときにピクチャーインピクチャーって

116
00:07:51,840 --> 00:07:54,500
あれってアプリのプロセス継続できてるのかな

117
00:07:54,500 --> 00:07:57,080
できてそうじゃねみたいなそんな話をしてて

118
00:07:57,080 --> 00:08:01,760
ちょっと試しに作って組み込んでみたら

119
00:08:01,760 --> 00:08:04,300
バックローンの制限突破してきてるじゃんみたいな

120
00:08:04,300 --> 00:08:05,360
みたいな風になって

121
00:08:05,360 --> 00:08:08,200
なりましたと

122
00:08:08,200 --> 00:08:09,460
一応話してる中では

123
00:08:09,460 --> 00:08:13,760
ピクチャーインピクチャーでアプリのプロセスを維持できるんだったら

124
00:08:13,760 --> 00:08:17,500
適切なそれらしいローカルの動画を流して

125
00:08:17,500 --> 00:08:21,820
流しながらアップロード継続するのもありなんじゃないかみたいな話も

126
00:08:21,820 --> 00:08:25,640
その時はして盛り上がっていたという感じです

127
00:08:25,640 --> 00:08:33,180
その仕組みなんですけどもざっくりこういう感じになっており

128
00:08:33,180 --> 00:08:37,500
UI Viewをビデオフレームに変換して

129
00:08:37,500 --> 00:08:40,660
ピクチャーインピクチャーで表示するという

130
00:08:40,660 --> 00:08:42,800
そういうことをしております

131
00:08:42,800 --> 00:08:49,340
このビデオフレームに変換するというのは

132
00:08:49,340 --> 00:08:52,340
ピクチャーインピクチャーが表示できるのが

133
00:08:52,340 --> 00:08:55,340
ビデオフレームだからというので変換しているという感じですね

134
00:08:55,340 --> 00:09:05,000
この案はこういった参考資料を非常に参考にさせていただいたんですけど

135
00:09:05,000 --> 00:09:10,500
こういうのがもともとあるなみたいなのが

136
00:09:10,500 --> 00:09:12,200
ちょっと頭の中にあったりして

137
00:09:12,200 --> 00:09:14,800
それでできたみたいな感じですね

138
00:09:14,800 --> 00:09:23,380
次に難しかったところなんですけども

139
00:09:23,380 --> 00:09:28,500
大きく3つあります

140
00:09:28,500 --> 00:09:32,460
UIビューをピクチャーインピクチャーで表示されるのが

141
00:09:32,460 --> 00:09:34,980
実装そのものが難しいっていうところと

142
00:09:34,980 --> 00:09:39,520
あとバックグラウンド遷移時に自動でPIPを開始するっていうところ

143
00:09:39,520 --> 00:09:43,960
あとピクチャーインピクチャーのUIの表示や制限もあり

144
00:09:43,960 --> 00:09:46,540
この辺りが難しかったです

145
00:09:46,540 --> 00:09:56,520
難しかったところを一つずつちょっと深掘りしていくんですけども

146
00:09:56,520 --> 00:10:02,280
まずUIVをピクチャーインピクチャーで表示するための実装ですが

147
00:10:02,280 --> 00:10:08,060
これがまずその実装そのものが難しいという

148
00:10:08,060 --> 00:10:10,160
このビデオフレームに変換するっていうのが

149
00:10:10,160 --> 00:10:11,780
参考資料すごいあるんですけども

150
00:10:11,780 --> 00:10:15,040
なんかやっぱりいろいろと難しかったっていう感じですね

151
00:10:15,040 --> 00:10:20,660
あとはピクチャーインピクチャーを開始できるようにするための条件みたいのがあって

152
00:10:20,660 --> 00:10:23,760
こういったバックグラウンドモードの条件だ

153
00:10:23,760 --> 00:10:25,940
バックグラウンドモードのチェックですね

154
00:10:25,940 --> 00:10:27,860
チェックだったり

155
00:10:27,860 --> 00:10:35,080
AVオーディオセッションのセットカテゴリープレイバックが必要とかだったり

156
00:10:35,080 --> 00:10:37,240
なかなか気づけないというか

157
00:10:37,240 --> 00:10:39,680
一応参考資料に書いてあったりしたんですけど

158
00:10:39,680 --> 00:10:42,040
そういうのが難しくて

159
00:10:42,040 --> 00:10:45,120
あとピクチャーインピクチャーが開始されなくても

160
00:10:45,120 --> 00:10:47,500
エラーが返ってこないっていうことがよくあって

161
00:10:47,500 --> 00:10:49,620
それで何か開始されないみたいな

162
00:10:49,620 --> 00:10:52,440
そういう感じになってしまったという感じでした

163
00:10:52,440 --> 00:10:57,980
一応実装を思い出すために

164
00:10:57,980 --> 00:11:02,000
最小限のコードでサンプルコードも公開してみたので

165
00:11:02,000 --> 00:11:05,280
後で興味ある方は見ていただければと思います

166
00:11:05,280 --> 00:11:14,440
次が実装難しいところの一例ですね

167
00:11:14,440 --> 00:11:16,680
この赤枠のところ

168
00:11:16,680 --> 00:11:18,600
インピクチャーインピクチャーみたいな

169
00:11:18,600 --> 00:11:19,740
別にこんな文字列

170
00:11:19,740 --> 00:11:22,100
ラベルで表示してるとかないんですけど

171
00:11:22,100 --> 00:11:24,240
これが自動で入ってくるとか

172
00:11:24,240 --> 00:11:25,920
そういうのがあったりして

173
00:11:25,920 --> 00:11:28,680
これを見えないように透明にするとか

174
00:11:28,680 --> 00:11:30,580
そういった工夫があったりします

175
00:11:30,580 --> 00:11:36,100
難しかったところの2つ目ですね

176
00:11:36,100 --> 00:11:39,900
自動でバックグラウンド10001自動で

177
00:11:39,900 --> 00:11:41,760
ピクチャインピッチを開始するんです

178
00:11:41,760 --> 00:11:48,240
これが自動で開始するっていう

179
00:11:48,240 --> 00:11:52,120
そういうプロパティ自体はあるんですけど

180
00:11:52,120 --> 00:11:54,860
これが動作する条件っていうのが

181
00:11:54,860 --> 00:11:57,700
特にドキュメントに書いてあるっていう

182
00:11:57,700 --> 00:11:59,320
よく見たら書いてるかもしれないですけど

183
00:11:59,320 --> 00:12:03,160
見つけられず難しかったという感じです

184
00:12:03,160 --> 00:12:05,060
条件が

185
00:12:05,060 --> 00:12:07,360
読み上げると

186
00:12:07,360 --> 00:12:10,200
AP sample buffer display layerという

187
00:12:10,200 --> 00:12:12,700
先ほどのビデオフレームですね

188
00:12:12,700 --> 00:12:14,540
それが描画されている

189
00:12:14,540 --> 00:12:16,340
事前に描画されているだったり

190
00:12:16,340 --> 00:12:18,700
バックグローン線に前に

191
00:12:18,700 --> 00:12:21,380
ピクチャーインピクチャーコントローラー初期化されている

192
00:12:21,380 --> 00:12:22,480
だったり

193
00:12:22,480 --> 00:12:24,140
あとデリゲートの

194
00:12:24,140 --> 00:12:26,100
こちらのメソッドの物理値が

195
00:12:26,100 --> 00:12:27,160
ファルスになっているとか

196
00:12:27,160 --> 00:12:30,300
そういった条件が見えない条件みたいなのが

197
00:12:30,300 --> 00:12:31,920
いろいろあったという感じですね

198
00:12:31,920 --> 00:12:33,240
はい

199
00:12:33,240 --> 00:12:40,280
デリゲートのコードもこういう感じというか

200
00:12:40,280 --> 00:12:43,200
見てるのが今使ってるのがこんな感じなんですけども

201
00:12:43,200 --> 00:12:44,200
こういう感じであります

202
00:12:44,200 --> 00:12:50,140
あとバックグラウンドの先進自動で

203
00:12:50,140 --> 00:12:52,480
ピクチャーにピクチャーを開始するために

204
00:12:52,480 --> 00:12:54,380
やってることなんですけども

205
00:12:54,380 --> 00:12:58,380
ルートのウィンドウにピクチャーインピクチャーのUIビューを

206
00:12:58,380 --> 00:13:01,880
こういった形で見えないように追加しており

207
00:13:01,880 --> 00:13:07,420
これは何でかというとアプログ中はアプリのどの画面から

208
00:13:07,420 --> 00:13:11,620
バックラウンスにしたときでもピクチャーインピクチャーを開始するっていうのを

209
00:13:11,620 --> 00:13:14,800
できるようにするためこういう感じの構成にしています

210
00:13:14,800 --> 00:13:24,360
3つ目ピクチャーインピクチャーのUIの表示制限回り

211
00:13:24,360 --> 00:13:29,520
ちょっとなんかすごい緊張するんで

212
00:13:29,520 --> 00:13:31,300
ちょっと一回深呼吸していいですか

213
00:13:31,300 --> 00:13:38,600
すいません

214
00:13:38,600 --> 00:13:41,880
あと何分かも12分

215
00:13:41,880 --> 00:13:47,140
大丈夫になりました

216
00:13:47,140 --> 00:13:50,200
ありがとうございます

217
00:13:50,200 --> 00:13:54,960
で、ピクチャーインピクチャーのUIはこういう

218
00:13:54,960 --> 00:13:57,200
ゆっくりで合われています

219
00:13:57,200 --> 00:14:03,600
こういう感じのUIが表示されていますと

220
00:14:03,600 --> 00:14:09,320
で、えっと

221
00:14:09,320 --> 00:14:10,520
そうですね

222
00:14:10,520 --> 00:14:12,620
ありがとうございます

223
00:14:12,620 --> 00:14:22,920
このピクチャーインピクチャーって動画向けのモジュールだったりするんで

224
00:14:22,920 --> 00:14:26,440
再生ボタンとか一時停止ボタンとか出ちゃうんですけども

225
00:14:26,440 --> 00:14:29,620
結果的に今も出てて

226
00:14:29,620 --> 00:14:31,900
今本当にこういう感じですね

227
00:14:31,900 --> 00:14:33,660
左側が閉じるボタンがあって

228
00:14:33,660 --> 00:14:36,100
右側にアプリ戻るボタンがあって

229
00:14:36,100 --> 00:14:38,360
真ん中に停止ボタンがあって

230
00:14:38,360 --> 00:14:41,260
進捗バーがあるみたいな感じなんですけども

231
00:14:41,260 --> 00:14:45,600
ここは特に基本デフォルトのままみたいにしてて

232
00:14:45,600 --> 00:14:47,800
一時停止ボタンの処理は書けるんですけど

233
00:14:47,800 --> 00:14:50,020
何もやってないっていう感じです

234
00:14:50,020 --> 00:14:56,020
その挙動については何か対策するかっていう議論は

235
00:14:56,020 --> 00:14:58,700
社内でもあったんですけども

236
00:14:58,700 --> 00:15:01,500
でも別に気にならないんじゃないみたいな

237
00:15:01,500 --> 00:15:03,160
常に表示されてるわけじゃないしみたいな

238
00:15:03,160 --> 00:15:04,600
そういうこともあって

239
00:15:04,600 --> 00:15:09,820
リリースはそのまま何も処理を書かずやったんですけども

240
00:15:09,820 --> 00:15:13,680
今も特にユーザーさんからこれが分かりにくいとか

241
00:15:13,680 --> 00:15:17,880
そういう話は出てきていないという状態です

242
00:15:17,880 --> 00:15:24,200
次にまた制限回りなんですけども

243
00:15:24,200 --> 00:15:27,280
真っ黒になるっていうのがありまして

244
00:15:27,280 --> 00:15:32,320
端末ロックから解除したときに

245
00:15:32,320 --> 00:15:37,120
PIPの画像が真っ黒になることがあるっていう感じです

246
00:15:37,120 --> 00:15:43,880
これはこの現象をできるだけ避けるために

247
00:15:43,880 --> 00:15:48,600
PIPの画面更新ですね

248
00:15:48,600 --> 00:15:57,120
これを最長 長くても1分間隔に表示更新するように工夫をしています

249
00:15:57,120 --> 00:16:02,820
また制限回り

250
00:16:02,820 --> 00:16:05,820
そうですねこれ動画なんですけど

251
00:16:05,820 --> 00:16:08,260
ちょっと動画表示されないという感じですね

252
00:16:08,260 --> 00:16:12,480
ちょっとまた動画資料をアップロードしたときに

253
00:16:12,480 --> 00:16:14,200
入れるんですけども

254
00:16:14,200 --> 00:16:16,660
書いてある通りで

255
00:16:16,660 --> 00:16:19,780
他アプリでピクチャーインピクチャー回避しちゃうと

256
00:16:19,780 --> 00:16:21,300
ピクチャーインピクチャーって

257
00:16:21,300 --> 00:16:25,140
1個の単元で1個しか再生できないんで

258
00:16:25,140 --> 00:16:28,140
他のアプリで上書きされて

259
00:16:28,140 --> 00:16:30,160
でアップロードが止まるっていうのは

260
00:16:30,160 --> 00:16:31,360
制限としてあります

261
00:16:31,360 --> 00:16:35,000
例えば見てアップロード中に

262
00:16:35,000 --> 00:16:37,840
YouTube見るかって言って

263
00:16:37,840 --> 00:16:40,580
YouTubeは見れるんですけども

264
00:16:40,580 --> 00:16:44,480
見た後にYouTubeってプレミアムプラン入って

265
00:16:44,480 --> 00:16:46,220
たぶん確かプレミアムプラン入ってると

266
00:16:46,220 --> 00:16:47,340
バックグラウンドに行くと

267
00:16:47,340 --> 00:16:50,380
ピッチャーインピッチャー開始できるんですけど

268
00:16:50,380 --> 00:16:54,500
それは開始されちゃうと乗っ取られるというか

269
00:16:54,500 --> 00:16:56,460
それでアップロード終わっちゃいます

270
00:16:56,460 --> 00:17:01,120
出てきた

271
00:17:01,120 --> 00:17:05,820
そうですね でもちょっと再生ができないって感じですね

272
00:17:05,820 --> 00:17:12,580
で ピクチャーインピクチャーのバックロードアップロードで解決できなかったことですね

273
00:17:12,580 --> 00:17:17,780
解決できなかったことは

274
00:17:17,780 --> 00:17:22,800
端末ロック中のアップロードですね

275
00:17:22,800 --> 00:17:28,320
ピクチャーインピクチャー自体は端末ロックしたときに

276
00:17:28,320 --> 00:17:30,740
強制終了されるっていうことはないんですけども

277
00:17:30,740 --> 00:17:36,000
その時点でその時点というか端末依存なんですけども

278
00:17:36,000 --> 00:17:42,120
ロックすると一定時間か即時かあるんですけども

279
00:17:42,120 --> 00:17:45,040
一時的にプロセスが止まってしまいます

280
00:17:45,040 --> 00:17:48,480
一緒に無理の状態とかは維持されるんで

281
00:17:48,480 --> 00:17:54,000
ロックを解除するとプロセスが再開されるっていうのはあるんですけども

282
00:17:54,000 --> 00:17:58,100
アップロードはタイムアウトしてしまうという状態になっております

283
00:17:58,100 --> 00:18:05,260
次はAppleのレビュー対策ですね

284
00:18:05,260 --> 00:18:08,040
レビュー対策としては

285
00:18:08,040 --> 00:18:14,560
一応結果的に普通に特に問題なく通ってはいて

286
00:18:14,560 --> 00:18:18,520
なんでレビュー対策みたいなことをしたかというと

287
00:18:18,520 --> 00:18:20,740
ピクチャーエンピクチャーの開始は

288
00:18:20,740 --> 00:18:23,780
ユーザーの操作で開始する必要があるという

289
00:18:23,780 --> 00:18:26,820
そういったドクメントの記載があったから

290
00:18:26,820 --> 00:18:29,660
ちょっとバックランドに

291
00:18:29,660 --> 00:18:32,780
アップロード操作をバックランドの遷移が

292
00:18:32,780 --> 00:18:35,680
それに該当するのかどうかっていうのは

293
00:18:35,680 --> 00:18:37,640
ちょっと分からないかもしれないっていうので

294
00:18:37,640 --> 00:18:42,640
念のためこれOKか聞いてみようっていうことで

295
00:18:42,640 --> 00:18:44,700
レビューに出してみました

296
00:18:44,700 --> 00:18:47,400
特に問題なく通っています

297
00:18:47,400 --> 00:18:53,340
レビューはこのよくあるやつだと思うんですけど

298
00:18:53,340 --> 00:18:57,740
App Store ConnectのAppReviewに関する情報

299
00:18:57,740 --> 00:18:58,400
ここですね

300
00:18:58,400 --> 00:19:01,980
この赤枠のところにメモとして

301
00:19:01,980 --> 00:19:03,820
昨日の詳細書いて

302
00:19:03,820 --> 00:19:08,380
添付会社に動画を添付して送りました

303
00:19:08,380 --> 00:19:12,640
別に昨日の感想とか何も返ってくることなく

304
00:19:12,640 --> 00:19:15,480
普通にただアプローブされるみたいな感じでした

305
00:19:15,480 --> 00:19:20,320
サンプルコード

306
00:19:20,320 --> 00:19:22,640
さっきのやつなんですけども

307
00:19:22,640 --> 00:19:27,920
ちょっとこれが紹介する時間が多分ないと思うんで

308
00:19:27,920 --> 00:19:31,700
ちょっと簡単に書いておくって感じですね

309
00:19:31,700 --> 00:19:35,860
UIビューでPIPを表示して

310
00:19:35,860 --> 00:19:41,640
バックグラウンドセンジにPIPが自動で開始するようにできるっていう

311
00:19:41,640 --> 00:19:43,700
そこを最小限の行動量で

312
00:19:43,700 --> 00:19:47,560
確かに200か300行くらいで書いてみたっていう感じです

313
00:19:47,560 --> 00:19:50,880
ちょっと動画は再生できないんですいません

314
00:19:50,880 --> 00:19:56,100
資料をアプログしたときに興味があれば見ていただければと思います

315
00:19:56,100 --> 00:20:07,120
今後やりたいことなんですけども

316
00:20:07,120 --> 00:20:10,900
iOS26のSDKの活用

317
00:20:10,900 --> 00:20:13,000
X-Core26

318
00:20:13,000 --> 00:20:17,300
基本はRC版で検証したという感じです

319
00:20:17,300 --> 00:20:19,400
あと残り

320
00:20:19,400 --> 00:20:21,440
あと21分

321
00:20:21,440 --> 00:20:30,920
IOS26のXCone26の新機能として

322
00:20:30,920 --> 00:20:36,600
フォアグラムで開始できるPG Continued Processing Taskというのが

323
00:20:36,600 --> 00:20:39,180
WWDCで発表されました

324
00:20:39,180 --> 00:20:44,360
この機能はピクチャーにピクチャーのアップロードにかなり似ていたので

325
00:20:44,360 --> 00:20:46,500
活用できる

326
00:20:46,500 --> 00:20:48,520
できるんじゃないのみたいな

327
00:20:48,520 --> 00:20:50,260
社内で

328
00:20:50,260 --> 00:20:52,240
iOS詳しい

329
00:20:52,240 --> 00:20:53,660
人がいて

330
00:20:53,660 --> 00:20:56,160
調査したという感じです

331
00:20:56,160 --> 00:20:58,600
僕もおられるし真面目に見ていれば

332
00:20:58,600 --> 00:20:59,740
気づいたかもしれないですけど

333
00:20:59,740 --> 00:21:02,620
言われて気づくみたいな感じだったから

334
00:21:02,620 --> 00:21:03,260
なんかちょっと

335
00:21:03,260 --> 00:21:05,980
自分も

336
00:21:05,980 --> 00:21:08,600
勉強不足だったなとか思いながらも

337
00:21:08,600 --> 00:21:09,640
言ってくれたから

338
00:21:09,640 --> 00:21:11,540
調査できたという感じです

339
00:21:11,540 --> 00:21:14,120
そうですね

340
00:21:14,120 --> 00:21:16,100
どんなものかというと

341
00:21:16,100 --> 00:21:21,760
フォアグラウンドでボタンタップとかそういうのが開始できるやつで

342
00:21:21,760 --> 00:21:29,200
必要に応じてフォアグラウンドでも表示されるという感じです

343
00:21:29,200 --> 00:21:32,440
進捗状況はライブアクティビティで表示されて

344
00:21:32,440 --> 00:21:35,280
ユーザーの必要に応じてキャンセルできるという

345
00:21:35,280 --> 00:21:39,460
右側のボタンを押すとキャンセルできるという形になっています

346
00:21:42,460 --> 00:21:44,420
これのメリットなんですけども

347
00:21:44,420 --> 00:21:49,340
先ほど紹介してた端末6値のアップロードでいい内容っていう

348
00:21:49,340 --> 00:21:51,240
そこが解決できるっていうのが

349
00:21:51,240 --> 00:21:52,200
大きなメリット

350
00:21:52,200 --> 00:21:54,720
見ているとして大きなメリットだなと思っております

351
00:21:54,720 --> 00:21:57,700
デメリットは

352
00:21:57,700 --> 00:22:01,640
ちょっと講じつするんですけども

353
00:22:01,640 --> 00:22:04,720
大きなデメリットはないんですけども

354
00:22:04,720 --> 00:22:06,560
ちょっと制限もあり

355
00:22:06,560 --> 00:22:10,380
UIも一応多少制限されるみたいなのがあるんですけども

356
00:22:10,380 --> 00:22:14,380
そういうところが 敷いていまあるのかなっていう感じです

357
00:22:14,380 --> 00:22:17,880
はい ちょっとUI なんですけど

358
00:22:17,880 --> 00:22:21,880
これは多分 ずっと動画になってて

359
00:22:21,880 --> 00:22:24,880
ちょっと見れないような気が

360
00:22:24,880 --> 00:22:26,880
一応ちょっと見れますが 完了すると

361
00:22:26,880 --> 00:22:31,880
本当はちょっと右側に チェックワークで完了みたいなの出るんですけど

362
00:22:31,880 --> 00:22:36,880
あとは そうですね

363
00:22:36,880 --> 00:22:43,020
ステータスバーにしまったときは

364
00:22:43,020 --> 00:22:47,800
この端末に言うんですけど青くなるみたいな感じですね

365
00:22:47,800 --> 00:22:52,520
端末ロック中もこんな感じで

366
00:22:52,520 --> 00:22:55,600
ライブラックデビデオが表示されて

367
00:22:55,600 --> 00:22:59,520
一応このときもキャンセルとかはできるという感じですね

368
00:22:59,520 --> 00:23:06,040
カスタマイズ可能なのが

369
00:23:06,040 --> 00:23:08,740
タイトルとサブタイトル

370
00:23:08,740 --> 00:23:11,520
文字列入れますみたいな感じです

371
00:23:11,520 --> 00:23:14,600
左側はプリマーアイコンが勝手に出て

372
00:23:14,600 --> 00:23:19,440
右側は進捗表示が出るという感じになってます

373
00:23:19,440 --> 00:23:25,700
進捗表示のところは

374
00:23:25,700 --> 00:23:29,480
CompletedUnitedCountという変数と

375
00:23:29,480 --> 00:23:32,240
TotalUnitedCountという変数で

376
00:23:32,240 --> 00:23:40,000
進捗数と合計値をうまく値を指定して実現できるみたいな感じになってます

377
00:23:40,000 --> 00:23:44,480
進捗数が合計値まで達すると

378
00:23:44,480 --> 00:23:46,240
このチェックマークが出るという

379
00:23:46,240 --> 00:23:48,240
そういう仕様になっております

380
00:23:48,240 --> 00:23:54,560
あとやってて気づいたんですけど

381
00:23:54,560 --> 00:23:59,740
文字色と背景色が指定できないと思うんですけども

382
00:23:59,740 --> 00:24:03,960
これが場合によっては見づらいなというふうに思っております

383
00:24:03,960 --> 00:24:08,520
これさっき言ったやつですね

384
00:24:08,520 --> 00:24:09,880
ステータス版にしまっているとき

385
00:24:09,880 --> 00:24:14,080
これなんか上がiPhone SE3ですね

386
00:24:14,080 --> 00:24:21,660
SE3の表示で下がiPhone 16eの表示になっています

387
00:24:21,660 --> 00:24:27,960
実装方法なんですけども

388
00:24:27,960 --> 00:24:32,460
バックランドモードの指定は

389
00:24:32,460 --> 00:24:33,720
バックランドタスクなんですけど

390
00:24:33,720 --> 00:24:38,000
バックランドモードの指定はいらないという感じになっており

391
00:24:38,000 --> 00:24:40,660
ここのバックランドモードをやるとき

392
00:24:40,660 --> 00:24:45,840
ここのキャパビリティ追加してチェック入れるみたいなのが

393
00:24:45,840 --> 00:24:46,860
Xコードあるかどうですか

394
00:24:46,860 --> 00:24:47,880
これが必要ない

395
00:24:47,880 --> 00:24:50,980
このバックランドモード図自体がいらないという

396
00:24:50,980 --> 00:24:53,240
そういうふうになっております

397
00:24:53,240 --> 00:24:59,200
PリストにはバックグラウンタスクのIDですね

398
00:24:59,200 --> 00:25:01,980
これを入れておく必要があります

399
00:25:01,980 --> 00:25:05,380
これは他のバックグラウンタスクと一緒かと思います

400
00:25:05,380 --> 00:25:12,080
コードはざっくりこんな感じですね

401
00:25:12,080 --> 00:25:13,440
今何分ですかね

402
00:25:13,440 --> 00:25:14,100
14分

403
00:25:14,100 --> 00:25:19,520
ちょっと解説すると

404
00:25:19,520 --> 00:25:21,540
このレジスター

405
00:25:21,540 --> 00:25:24,440
BGタスクスケジューラーレジスター

406
00:25:24,440 --> 00:25:27,460
これは他のバックグラウンドタスクでも

407
00:25:27,460 --> 00:25:31,040
処理を登録するとき同じものを使うかと思うんですが

408
00:25:31,040 --> 00:25:32,760
これを実行して

409
00:25:32,760 --> 00:25:36,260
この中では処理がされるときに呼ばれるんですけども

410
00:25:36,260 --> 00:25:41,360
メインスレッド以外でバックグラウンドスレッドで実行されます

411
00:25:41,360 --> 00:25:47,840
その後BGコンティニュータスクにキャストしてあげて

412
00:25:47,840 --> 00:25:49,820
X-Pray Handlerですね

413
00:25:49,820 --> 00:25:52,720
ここでキャンセルボタンを押したときとかだったり

414
00:25:52,720 --> 00:25:56,560
システムが何かリソース制約とかで

415
00:25:56,560 --> 00:25:58,460
勝手にキャンセルするときもあるんですけど

416
00:25:58,460 --> 00:26:02,320
そういったときに呼ばれるハンドラみたいなのを書いて

417
00:26:02,320 --> 00:26:07,720
進捗の値と管理を決めて

418
00:26:07,720 --> 00:26:14,460
進捗の値をプラス1とかだんだんインクリメントしていって

419
00:26:14,460 --> 00:26:19,600
タイトルやサブタイトルを更新してあげて

420
00:26:19,600 --> 00:26:25,220
最後セットタスクコンプリティですね

421
00:26:25,220 --> 00:26:28,540
ここで成功したか失敗したかみたいな

422
00:26:28,540 --> 00:26:32,260
そんなブルーチを与えて終わりみたいな

423
00:26:32,260 --> 00:26:33,760
そういう感じになってます

424
00:26:33,760 --> 00:26:39,440
実行依頼なんですけども

425
00:26:39,440 --> 00:26:41,500
こんな感じになっており

426
00:26:41,500 --> 00:26:43,940
リクエストを作って

427
00:26:43,940 --> 00:26:47,520
リクエスト作るときにタイトルとサブタイトルも決めれて

428
00:26:47,520 --> 00:26:52,900
ストラテジーという2種類指定できるんですけども

429
00:26:52,900 --> 00:26:54,840
それを指定して

430
00:26:54,840 --> 00:27:00,740
GPU使う場合はGPUのGPU使うぞみたいな

431
00:27:00,740 --> 00:27:01,760
そういう指定をして

432
00:27:01,760 --> 00:27:05,080
ビジタスクスケジューラーサブミットするという

433
00:27:05,080 --> 00:27:07,180
そういう感じになってます

434
00:27:07,180 --> 00:27:12,200
GPU使う場合っていうのは

435
00:27:12,200 --> 00:27:13,780
こんな感じで

436
00:27:13,780 --> 00:27:18,480
ここはキャパビリティに指定する必要があります

437
00:27:18,480 --> 00:27:24,280
で検証してみたら分かったことっていうのが少しあって

438
00:27:24,280 --> 00:27:26,600
ちょっと紹介したいと思います

439
00:27:26,600 --> 00:27:32,460
まずは

440
00:27:32,460 --> 00:27:33,260
そうですね

441
00:27:33,260 --> 00:27:38,980
この進捗の値を基本合計値に近づけるために

442
00:27:38,980 --> 00:27:40,360
インクリメントするみたいな

443
00:27:40,360 --> 00:27:43,740
増やしていくっていう感じの処理をしていくんですけども

444
00:27:43,740 --> 00:27:46,880
これが一定時間変化がないと

445
00:27:46,880 --> 00:27:49,660
バックグラウンドタスク自体が止まるっていう

446
00:27:49,660 --> 00:27:53,120
現象が確認できており

447
00:27:53,120 --> 00:27:56,580
この画像から見ても分かるように

448
00:27:56,580 --> 00:28:01,640
止まる時間っていうのは一定ではないみたいな

449
00:28:01,640 --> 00:28:03,960
自分が検証した感じは

450
00:28:03,960 --> 00:28:08,520
最低でも30秒くらい待ってくれているような気はします

451
00:28:08,520 --> 00:28:11,680
でも30秒ぐらい経つと

452
00:28:11,680 --> 00:28:13,760
30秒だったり70秒

453
00:28:13,760 --> 00:28:15,620
この例だと70秒とかだったりするけど

454
00:28:15,620 --> 00:28:19,240
変化がなるとシステムが勝手に止めてくるという

455
00:28:19,240 --> 00:28:21,340
そういう挙動になってました

456
00:28:21,340 --> 00:28:27,260
処理によっては進捗が分からないような

457
00:28:27,260 --> 00:28:29,960
進捗分からないけど続いてるみたいな処理があるかと思うんですけど

458
00:28:29,960 --> 00:28:31,660
そういう場合でも

459
00:28:31,660 --> 00:28:33,900
コンティニュードバックランド

460
00:28:33,900 --> 00:28:38,100
コンティニュードプロセリングパス

461
00:28:38,100 --> 00:28:45,700
それを使う場合は進捗の値を増やすとか

462
00:28:45,700 --> 00:28:49,880
止められないような何か工夫は必要だなと思っております

463
00:28:49,880 --> 00:28:55,360
検証してみて分かったこと2つ目

464
00:28:55,360 --> 00:29:00,800
これは普通にバックランスか他も確か分からないのも一緒だったと思うんですけども

465
00:29:00,800 --> 00:29:02,760
シミュレーターでは動作しないというのがあります

466
00:29:02,760 --> 00:29:07,500
次があとこれも

467
00:29:07,500 --> 00:29:13,160
少なくともRCではXcodeのFiftLockageバージョンを

468
00:29:13,160 --> 00:29:15,900
4とか試してないんですけど

469
00:29:15,900 --> 00:29:17,980
5だとは大丈夫なんですけど

470
00:29:17,980 --> 00:29:21,600
6にするとサブミットした時にクラッシュしてしまうっていう

471
00:29:21,600 --> 00:29:24,260
そういう問題を確認してます

472
00:29:24,260 --> 00:29:28,220
一応バグのレポートはしてみています

473
00:29:28,220 --> 00:29:36,400
あとはBGコンティニュータスク

474
00:29:36,400 --> 00:29:39,680
プレッシングタスクです さっきのUIを

475
00:29:39,680 --> 00:29:44,080
実はアプリ一つまでっぽいっていうのが分かっており

476
00:29:44,080 --> 00:29:50,020
二つ目をサブミットしても 二つ目は開始できないっていうか

477
00:29:50,020 --> 00:29:54,260
並列で二つか三つ動かせないっていうのが分かってて

478
00:29:54,260 --> 00:30:00,540
これがもしかしたらおそらくでも 一端末一つまでな気もするんですけども

479
00:30:00,540 --> 00:30:03,200
ちょっと複数アプリいけるのかとか

480
00:30:03,200 --> 00:30:05,840
そういうのは一アプリ一個までっていうか

481
00:30:05,840 --> 00:30:07,840
実は人単元1個なのかっていうのは

482
00:30:07,840 --> 00:30:08,680
そうかもしれないですけど

483
00:30:08,680 --> 00:30:10,580
ちょっとそこまでまだ見えてないという感じです

484
00:30:10,580 --> 00:30:14,820
これも

485
00:30:14,820 --> 00:30:17,920
ピクチャーにピクチャーももしかしたら

486
00:30:17,920 --> 00:30:19,880
同じかもしれないですけども

487
00:30:19,880 --> 00:30:23,320
システム自体のリソースの制約がある状態だと

488
00:30:23,320 --> 00:30:26,740
結構中断されやすいっていうのがあります

489
00:30:26,740 --> 00:30:33,000
これはちょっと

490
00:30:33,000 --> 00:30:35,020
僕の検証端末

491
00:30:35,020 --> 00:30:37,860
限定か分からないんですけども

492
00:30:37,860 --> 00:30:39,500
少なくとも自分の検証端末

493
00:30:39,500 --> 00:30:41,800
iOS26にアップデート

494
00:30:41,800 --> 00:30:46,080
2つの端末でアップデートしてるんですけども

495
00:30:46,080 --> 00:30:48,260
その端末では2つとも

496
00:30:48,260 --> 00:30:51,900
正式版にアップデートしてからは

497
00:30:51,900 --> 00:30:53,680
BGコンティニングプロセスが

498
00:30:53,680 --> 00:30:56,460
全く開始できなくなってます

499
00:30:56,460 --> 00:31:00,700
3つiOS26の端末を今持ってて

500
00:31:00,700 --> 00:31:02,820
1つはまだ正式版に上げて

501
00:31:02,820 --> 00:31:04,720
たまたま上げるのを忘れて

502
00:31:04,720 --> 00:31:06,060
入ってないんですけども

503
00:31:06,060 --> 00:31:08,940
それでは動くんですけども

504
00:31:08,940 --> 00:31:10,940
正式版に上げると動かなくて

505
00:31:10,940 --> 00:31:12,740
これはちょっと困ってて

506
00:31:12,740 --> 00:31:14,500
ユーロッパフォーラムで

507
00:31:14,500 --> 00:31:15,720
ちょっといろいろ聞いてます

508
00:31:15,720 --> 00:31:19,720
ただAppleのエンジニアの方曰く

509
00:31:19,720 --> 00:31:22,640
なんか動いてるみたいな風に言われて

510
00:31:22,640 --> 00:31:24,160
ちょっとエラーログとか送って

511
00:31:24,160 --> 00:31:27,140
ちょっといろいろ調査してもらってるという感じです

512
00:31:27,140 --> 00:31:28,760
はい

513
00:31:28,760 --> 00:31:35,700
検証のために作成したコードを

514
00:31:35,700 --> 00:31:38,300
一応GitHubに公開してます

515
00:31:38,300 --> 00:31:41,620
後で興味があれば見ていただければと思います

516
00:31:41,620 --> 00:31:50,740
見てないなアップロードに組み込むならっていうところで

517
00:31:50,740 --> 00:31:54,980
それもちょっとざっくりやってみてるという感じです

518
00:31:54,980 --> 00:31:58,100
実際に採用するかまだ決まってなくて

519
00:31:58,100 --> 00:32:01,140
見てアップロードに組み込むなら

520
00:32:01,140 --> 00:32:03,540
もちろん

521
00:32:03,540 --> 00:32:05,580
iOS26だったら

522
00:32:05,580 --> 00:32:07,760
BGコンテナのプロセージタスク

523
00:32:07,760 --> 00:32:08,960
使いたいよねみたいな

524
00:32:08,960 --> 00:32:10,100
思ってます

525
00:32:10,100 --> 00:32:14,740
はいちょっとこれ動画が分からないから

526
00:32:14,740 --> 00:32:16,860
ちょっとよく分からんみたいな感じだと思うんですけど

527
00:32:16,860 --> 00:32:20,320
一応やってみたっていう動画を

528
00:32:20,320 --> 00:32:22,300
資料には貼り付けて

529
00:32:22,300 --> 00:32:23,420
っていう感じです

530
00:32:23,420 --> 00:32:26,820
はい

531
00:32:26,820 --> 00:32:31,280
最後のまとめなんですけども

532
00:32:31,280 --> 00:32:35,520
僕の初感で比較表を作ってみてて

533
00:32:35,520 --> 00:32:37,700
こんな感じです

534
00:32:37,700 --> 00:32:39,920
実装のしやすさは

535
00:32:39,920 --> 00:32:45,040
PPIPの実装はやっぱりちょっと難しいなという風に思ってたんですけども

536
00:32:45,040 --> 00:32:48,520
コンティニブルセンシュタスクは実装はそれほど難しくないなという

537
00:32:48,520 --> 00:32:50,800
実装もそんなほど難しくないし

538
00:32:50,800 --> 00:32:53,900
ロックチューム動作はしてくれるしというと

539
00:32:53,900 --> 00:32:55,120
そこがいいところで

540
00:32:55,120 --> 00:32:59,620
UIの自由度は基本統一されたものになるんで

541
00:32:59,620 --> 00:33:01,720
自由度はないみたいな感じですけども

542
00:33:01,720 --> 00:33:05,540
基本ロックチュアもアップロードできるしっていうので

543
00:33:05,540 --> 00:33:06,740
そこはいいなっていうので

544
00:33:06,740 --> 00:33:12,480
ちょっとXコード26対応したらやりたいなとは思っています

545
00:33:12,480 --> 00:33:16,720
まとめもそんな感じですね

546
00:33:16,720 --> 00:33:19,200
今ピクチャーインピクチャーで

547
00:33:19,200 --> 00:33:22,640
iOSアプリでもバックグラウンドアップロードできた

548
00:33:22,640 --> 00:33:24,020
っていうところと

549
00:33:24,020 --> 00:33:26,900
ロックチュア止まっちゃうっていうところと

550
00:33:26,900 --> 00:33:31,300
IOS26のBG Continued Processing Taskで

551
00:33:31,300 --> 00:33:34,920
ロックチュアもアップロードできそうというのが分かりました

552
00:33:34,920 --> 00:33:36,180
はい

553
00:33:36,180 --> 00:33:41,700
ちょっとこれでもうおしまいなんですけど

554
00:33:41,700 --> 00:33:45,160
見てエンジニア募集してるんで

555
00:33:45,160 --> 00:33:47,180
もし興味があれば

556
00:33:47,180 --> 00:33:51,060
応募いただければと思います

557
00:33:52,640 --> 00:33:54,380
ご清聴ありがとうございました

558
00:33:54,380 --> 00:34:01,680
発表ありがとうございました

559
00:34:01,680 --> 00:34:04,500
それではQ&Aに移りたいと思います

560
00:34:04,500 --> 00:34:07,580
コメントやご質問のある方は手を挙げてお知らせください

561
00:34:07,580 --> 00:34:14,560
ただいまマイクをお持ちしますのでお待ちください

562
00:34:14,560 --> 00:34:16,540
ありがとうございました

563
00:34:16,540 --> 00:34:18,720
非常に参考になりました

564
00:34:18,720 --> 00:34:19,900
先ほど

565
00:34:19,900 --> 00:34:24,340
iOS26以降であれば

566
00:34:24,340 --> 00:34:27,120
公式のやつ使うのがいいかなと思うんですけど

567
00:34:27,120 --> 00:34:29,920
実際使っているアプリとかによると

568
00:34:29,920 --> 00:34:32,020
iOS26今週データばっかりなので

569
00:34:32,020 --> 00:34:34,120
まだ前のバージョン

570
00:34:34,120 --> 00:34:36,900
バージョン番号忘れちゃいましたけど

571
00:34:36,900 --> 00:34:39,400
26より以前のバージョンだと

572
00:34:39,400 --> 00:34:42,540
PIP使うしかないかなという風に思っているんですけど

573
00:34:42,540 --> 00:34:45,940
サンプルコードを参考にさせていただいて

574
00:34:45,940 --> 00:34:47,920
作れそうだなと思ったんですけど

575
00:34:47,920 --> 00:34:52,180
1点気になったのが特許出願中って書いてて

576
00:34:52,180 --> 00:34:54,540
あれ使ったら怒られるのかなと思ったんですけど

577
00:34:54,540 --> 00:35:00,460
それどの辺まで特許出されているのかなって言える範囲で教えてください

578
00:35:00,460 --> 00:35:02,620
はい質問ありがとうございます

579
00:35:02,620 --> 00:35:06,480
特許についてはちょっとそうですね

580
00:35:06,480 --> 00:35:11,800
僕もなんていうかまず特許出した背景でいくと

581
00:35:11,800 --> 00:35:14,980
私ミキシー働いてるんですけど

582
00:35:14,980 --> 00:35:19,660
Mixiは割といろんな機能特許を出すっていうのが

583
00:35:19,660 --> 00:35:21,980
活動としてやってるんで

584
00:35:21,980 --> 00:35:23,080
その一環で

585
00:35:23,080 --> 00:35:26,700
偉い人というか部長の方も

586
00:35:26,700 --> 00:35:28,440
この機能特許を出した方がいいんじゃない

587
00:35:28,440 --> 00:35:29,200
と言われて

588
00:35:29,200 --> 00:35:31,120
言われるようなものもあるんですけど

589
00:35:31,120 --> 00:35:33,280
出しましたという感じです

590
00:35:33,280 --> 00:35:34,700
出した内容

591
00:35:34,700 --> 00:35:39,560
一応まだ特許を出願すると

592
00:35:39,560 --> 00:35:42,680
1年半経つと見れるっていう風に伺ってるんで

593
00:35:42,680 --> 00:35:45,740
確か出したのは去年の8月か9月ぐらいなので

594
00:35:45,740 --> 00:35:47,420
そこから1年半なので

595
00:35:47,420 --> 00:35:53,600
多分来年の4月あたりには見れるかと思うので

596
00:35:53,600 --> 00:35:57,420
詳細はそこに確認していただけるといいんですけども

597
00:35:57,420 --> 00:36:01,240
詳細はそこに確認してくださいというところと

598
00:36:01,240 --> 00:36:03,500
僕が適度なのかというとちょっと怒られるかもしれないので

599
00:36:03,500 --> 00:36:07,240
ちょっと気になったらミキシーの方に問い合わせいただけるといいかなと思います

600
00:36:07,240 --> 00:36:10,080
すみません

601
00:36:10,080 --> 00:36:19,960
ありがとうございました

602
00:36:19,960 --> 00:36:22,560
他にコメントやご質問のある方

603
00:36:22,560 --> 00:36:24,260
挙手をお願いします

604
00:36:24,260 --> 00:36:29,280
1個お持ちします

605
00:36:29,280 --> 00:36:29,880
お持ちください

606
00:36:29,880 --> 00:36:36,480
1個は単純に先ほどの件で

607
00:36:36,480 --> 00:36:39,280
特許ここで専門家が結構いるので

608
00:36:39,280 --> 00:36:43,320
話すと多分いろいろと権利問題が出てくるので

609
00:36:43,320 --> 00:36:45,640
よかったですっていうのが感想で

610
00:36:45,640 --> 00:36:49,540
単純に技術的なことの質問なんですけども

611
00:36:49,540 --> 00:36:51,720
さっきのピクチャーインピクチャーで

612
00:36:51,720 --> 00:36:54,440
動画流してる判定ってなっていて

613
00:36:54,440 --> 00:36:57,940
オーディオカテゴリーのセッティングをしてたところがあったと思うんですね

614
00:36:57,940 --> 00:37:00,300
あれって例えばユーザーが

615
00:37:00,300 --> 00:37:04,080
Apple Musicで音楽を流しているみたいなときって

616
00:37:04,080 --> 00:37:09,260
オーディオ関係は特に衝突とかはしないんですか?

617
00:37:09,280 --> 00:37:11,300
音楽体制が止まるとか

618
00:37:11,300 --> 00:37:12,060
はいはいはいはい

619
00:37:12,060 --> 00:37:13,340
やってないんでしょうか

620
00:37:13,340 --> 00:37:15,180
ありがとうございます質問

621
00:37:15,180 --> 00:37:17,380
いい質問というか

622
00:37:17,380 --> 00:37:22,500
すごくリリースをその辺直した部分でもあって

623
00:37:22,500 --> 00:37:25,380
その通りというか

624
00:37:25,380 --> 00:37:27,600
衝突してしまいますので

625
00:37:27,600 --> 00:37:32,020
アプリもともとこれリリースしたときに

626
00:37:32,020 --> 00:37:34,160
アプリ機動陣も問答無用で

627
00:37:34,160 --> 00:37:36,100
ピクチャーンピクチャーの可能性があるからということで

628
00:37:36,100 --> 00:37:38,080
先ほどのプレイバックみたいな指定してたんですけど

629
00:37:38,080 --> 00:37:40,700
それをやっちゃうとおっしゃる通り

630
00:37:40,700 --> 00:37:43,220
Apple Musicの音は止まっちゃうみたいなのがあったんで

631
00:37:43,220 --> 00:37:46,200
アップロードするときに限定して

632
00:37:46,200 --> 00:37:50,540
オーディオセッションの設定をしているという感じですね

633
00:37:50,540 --> 00:37:53,460
一応できるだけ最低限にすることで

634
00:37:53,460 --> 00:37:58,460
不意に音楽は止まらないという風に工夫はしているけど

635
00:37:58,460 --> 00:38:04,220
確かに競合しちゃうみたいなところは問題としてはあります

636
00:38:04,220 --> 00:38:06,960
わかりました ありがとうございます

637
00:38:06,960 --> 00:38:07,600
ありがとうございます

638
00:38:07,600 --> 00:38:10,200
ありがとうございました

639
00:38:10,200 --> 00:38:13,180
他にコメントやご質問のある方

640
00:38:13,180 --> 00:38:14,240
挙手をお願いします

641
00:38:14,240 --> 00:38:23,460
他にいらっしゃいませんでしょうか

642
00:38:23,460 --> 00:38:31,460
お時間になりましたので

643
00:38:31,460 --> 00:38:34,020
これでQ&Aで終了させていただきます

644
00:38:34,020 --> 00:38:37,040
続いて1分間フィードバックのお時間です

645
00:38:37,040 --> 00:38:40,740
1分間フィードバックのお時間です

646
00:38:40,740 --> 00:38:45,500
スクリーンのQRコードを読み取ってフィードバックを送ってください

647
00:39:07,040 --> 00:39:29,980
ご視聴ありがとうございました

